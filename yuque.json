[
  {
    "id": 109284058,
    "slug": "sf325xe8rottnalb",
    "title": "2022-12-13-语雀自动同步博客",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:25:21.854Z",
      "updated_at": "2022-12-13T15:25:22.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: 语雀+hexo+github+vercel实现博客<br />date: 2022-12-13 22:25:06<br />categories: [blog,hexo]<br />tags: blog\n\n---\n\n<a name=\"mU94U\"></a>\n# 准备工作\n\n1. 注册语雀，github, vercel \n2. 搜一个喜欢的hexo 主题 clone到自己仓库\n3. vercel 选择该仓库部署\n4. 这已经初步完成hexo的自动部署，下面就来打通语雀\n\n<a name=\"YHppy\"></a>\n# 同步语雀文章\n新增语雀知识库，到知识库设置页面获取路径，待会要用\n\n安装yueque-hexo <br />相关链接：[https://npmmirror.com/package/yuque-hexo/v/1.2.1](https://npmmirror.com/package/yuque-hexo/v/1.2.1)\n```\nnpm i -g yuque-hexo\n```\n修改项目下 package.json<br />其中login 和repo 改为刚刚设置页面看到的[https://www.yuque.com/login/](https://www.yuque.com/api/)repo\n```\n\"yuqueConfig\": {\n    \"postPath\": \"source/_posts\",\n    \"cachePath\": \"yuque.json\",\n    \"mdNameFormat\": \"title\",\n    \"adapter\": \"hexo\",\n    \"concurrency\": 5,\n    \"baseUrl\": \"https://www.yuque.com/api/v2\",\n    \"login\": \"yinzhi\",\n    \"repo\": \"blog\",\n    \"onlyPublished\": false,\n    \"onlyPublic\": false,\n    \"lastGeneratePath\": \"lastGeneratePath.log\",\n    \"imgCdn\": {\n      \"enabled\": false,\n      \"concurrency\": 0,\n      \"imageBed\": \"qiniu\",\n      \"host\": \"\",\n      \"bucket\": \"\",\n      \"region\": \"\",\n      \"prefixKey\": \"\"\n    }\n  }\n```\n出于对知识库安全性的调整，使用第三方 API 访问知识库，需要传入环境变量 YUQUE_TOKEN，在语雀上点击 个人头像 -> 设置 -> Token 即可获取。传入 YUQUE_TOKEN 到 yuque-hexo 的进程有两种方式：\n\n- 设置全局的环境变量 YUQUE_TOKEN\n- 命令执行时传入环境变量\n   - mac / linux: YUQUE_TOKEN=xxx yuque-hexo sync\n   - windows: set YUQUE_TOKEN=xxx && yuque-hexo sync\n\n执行命令后查看source/_posts文章是否同步即可\n\n<a name=\"pNLzy\"></a>\n# github action自动同步\n\n打开博客仓库 -> actions -> set up a workflow yourself\n```\nname: sync posts\n\n# Controls when the action will run.\non:\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n  repository_dispatch:\n    types: [sync_event]\njobs:\n  blog-cicd:\n    name: sync Hexo blog \n    runs-on: ubuntu-latest\n    env:\n      TZ: Asia/Shanghai\n    steps:\n    - name: Checkout codes\n      uses: actions/checkout@v2\n\n    - name: Setup node\n      uses: actions/setup-node@v1\n      with:\n        node-version: '12.x'\n    - name: Cache node modules\n      uses: actions/cache@v1\n      with:\n        path: node_modules\n        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n\n    - name: sync yueque\n      run: |\n        npm install yuque-hexo -g\n        YUQUE_TOKEN=${{secrets.YUQUE_TOKEN}} yuque-hexo sync\n    - name: Commit & push changes\n      run: |\n        git config --global user.name \"GitHub Action\"\n        git config --global user.email \"action@github.com\"\n      \tgit add .\n        git commit -m \"GitHub Actions Auto Sync Post at $(date +'%Y-%m-%d %H:%M:%S')\"\n        git push\n```\n需要提前配置YUQUE_TOEKN<br />这边触发方式选择了2个，1手动触发，2外部触发，手动触发方便调试，外部触发可以用接口触发<br />相关文档：[https://docs.github.com/en/actions/using-workflows/triggering-a-workflow](https://docs.github.com/en/actions/using-workflows/triggering-a-workflow)<br />调试完能自动拉文章即可\n\n<a name=\"aFU7K\"></a>\n# 语雀自动触发同步\n因为语雀的webhook不能传参，所以这里选择vercel 搭了个serveless 进行转发，有需求可以直接拉代码然后用vercel部一个<br />仓库地址：[https://github.com/zyqzyq/blog-webhook](https://github.com/zyqzyq/blog-webhook)\n\n语雀添加webhook \n\n- 打开设置\n- 消息推送\n- 其他渠道\n- 随便配个机器人名字然后添加url 例如 http://xxx.vercel.com/dispatch_github?user=aaa&repo=hexo-blog&token=xxx&event_type=sync_event\n- 然后添加\n- 点击验证，结束\n\n<a name=\"Ikax6\"></a>\n# 快速操作\n\n1. hexo+github+vercel 原先就有\n2. 注册语雀，添加知识库，导入文章\n3. 获取语雀 toekn, login, repo\n4. package.json添加yuqueconfig\n5. github仓库添加actions\n6. fork 云函数仓库然后语雀webhook调接口 或者github action选择定时触发\n7. 大功告成\n",
    "body_draft": "---\n\nlayout: post<br />title: 语雀+hexo+github+vercel实现博客<br />date: 2022-12-13 22:25:06<br />categories: [blog,hexo]<br />tags: blog\n\n---\n\n<a name=\"mU94U\"></a>\n# 准备工作\n\n1. 注册语雀，github, vercel \n2. 搜一个喜欢的hexo 主题 clone到自己仓库\n3. vercel 选择该仓库部署\n4. 这已经初步完成hexo的自动部署，下面就来打通语雀\n\n<a name=\"YHppy\"></a>\n# 同步语雀文章\n新增语雀知识库，到知识库设置页面获取路径，待会要用\n\n安装yueque-hexo <br />相关链接：[https://npmmirror.com/package/yuque-hexo/v/1.2.1](https://npmmirror.com/package/yuque-hexo/v/1.2.1)\n```\nnpm i -g yuque-hexo\n```\n修改项目下 package.json<br />其中login 和repo 改为刚刚设置页面看到的[https://www.yuque.com/login/](https://www.yuque.com/api/)repo\n```\n\"yuqueConfig\": {\n    \"postPath\": \"source/_posts\",\n    \"cachePath\": \"yuque.json\",\n    \"mdNameFormat\": \"title\",\n    \"adapter\": \"hexo\",\n    \"concurrency\": 5,\n    \"baseUrl\": \"https://www.yuque.com/api/v2\",\n    \"login\": \"yinzhi\",\n    \"repo\": \"blog\",\n    \"onlyPublished\": false,\n    \"onlyPublic\": false,\n    \"lastGeneratePath\": \"lastGeneratePath.log\",\n    \"imgCdn\": {\n      \"enabled\": false,\n      \"concurrency\": 0,\n      \"imageBed\": \"qiniu\",\n      \"host\": \"\",\n      \"bucket\": \"\",\n      \"region\": \"\",\n      \"prefixKey\": \"\"\n    }\n  }\n```\n出于对知识库安全性的调整，使用第三方 API 访问知识库，需要传入环境变量 YUQUE_TOKEN，在语雀上点击 个人头像 -> 设置 -> Token 即可获取。传入 YUQUE_TOKEN 到 yuque-hexo 的进程有两种方式：\n\n- 设置全局的环境变量 YUQUE_TOKEN\n- 命令执行时传入环境变量\n   - mac / linux: YUQUE_TOKEN=xxx yuque-hexo sync\n   - windows: set YUQUE_TOKEN=xxx && yuque-hexo sync\n\n执行命令后查看source/_posts文章是否同步即可\n\n<a name=\"pNLzy\"></a>\n# github action自动同步\n\n打开博客仓库 -> actions -> set up a workflow yourself\n```\nname: sync posts\n\n# Controls when the action will run.\non:\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n  repository_dispatch:\n    types: [sync_event]\njobs:\n  blog-cicd:\n    name: sync Hexo blog \n    runs-on: ubuntu-latest\n    env:\n      TZ: Asia/Shanghai\n    steps:\n    - name: Checkout codes\n      uses: actions/checkout@v2\n\n    - name: Setup node\n      uses: actions/setup-node@v1\n      with:\n        node-version: '12.x'\n    - name: Cache node modules\n      uses: actions/cache@v1\n      with:\n        path: node_modules\n        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n\n    - name: sync yueque\n      run: |\n        npm install yuque-hexo -g\n        YUQUE_TOKEN=${{secrets.YUQUE_TOKEN}} yuque-hexo sync\n    - name: Commit & push changes\n      run: |\n        git config --global user.name \"GitHub Action\"\n        git config --global user.email \"action@github.com\"\n      \tgit add .\n        git commit -m \"GitHub Actions Auto Sync Post at $(date +'%Y-%m-%d %H:%M:%S')\"\n        git push\n```\n需要提前配置YUQUE_TOEKN<br />这边触发方式选择了2个，1手动触发，2外部触发，手动触发方便调试，外部触发可以用接口触发<br />相关文档：[https://docs.github.com/en/actions/using-workflows/triggering-a-workflow](https://docs.github.com/en/actions/using-workflows/triggering-a-workflow)<br />调试完能自动拉文章即可\n\n<a name=\"aFU7K\"></a>\n# 语雀自动触发同步\n因为语雀的webhook不能传参，所以这里选择vercel 搭了个serveless 进行转发，有需求可以直接拉代码然后用vercel部一个<br />仓库地址：[https://github.com/zyqzyq/blog-webhook](https://github.com/zyqzyq/blog-webhook)\n\n语雀添加webhook \n\n- 打开设置\n- 消息推送\n- 其他渠道\n- 随便配个机器人名字然后添加url 例如 http://xxx.vercel.com/dispatch_github?user=aaa&repo=hexo-blog&token=xxx&event_type=sync_event\n- 然后添加\n- 点击验证，结束\n\n<a name=\"Ikax6\"></a>\n# 快速操作\n\n1. hexo+github+vercel 原先就有\n2. 注册语雀，添加知识库，导入文章\n3. 获取语雀 toekn, login, repo\n4. package.json添加yuqueconfig\n5. github仓库添加actions\n6. fork 云函数仓库然后语雀webhook调接口 或者github action选择定时触发\n7. 大功告成\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"VptGl\" class=\"ne-hr\"><p id=\"271259acee9c171319e65471ea713d11\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"654c35a1afe952931b9ade8dcf521603\" class=\"ne-p\"><span class=\"ne-text\">title: 语雀+hexo+github+vercel实现博客</span></p><p id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\" class=\"ne-p\"><span class=\"ne-text\">date: 2022-12-13 22:25:06</span></p><p id=\"f259687d4b92a0314332a1cc21ed6c97\" class=\"ne-p\"><span class=\"ne-text\">categories: [blog,hexo]</span></p><p id=\"3f1459936301c3ad199b527bd6652e32\" class=\"ne-p\"><span class=\"ne-text\">tags: blog</span></p><hr id=\"KXFOx\" class=\"ne-hr\"><h1 id=\"mU94U\"><span class=\"ne-text\">准备工作</span></h1><ol class=\"ne-ol\"><li id=\"u984f02e1\"><span class=\"ne-text\">注册语雀，github, vercel </span></li><li id=\"uaab8240a\"><span class=\"ne-text\">搜一个喜欢的hexo 主题 clone到自己仓库</span></li><li id=\"u5eda5c2c\"><span class=\"ne-text\">vercel 选择该仓库部署</span></li><li id=\"u740bee13\"><span class=\"ne-text\">这已经初步完成hexo的自动部署，下面就来打通语雀</span></li></ol><p id=\"u2e1b4a29\" class=\"ne-p\"><span class=\"ne-text\"></span></p><h1 id=\"YHppy\"><span class=\"ne-text\">同步语雀文章</span></h1><p id=\"u332db9f1\" class=\"ne-p\"><span class=\"ne-text\">新增语雀知识库，到知识库设置页面获取路径，待会要用</span></p><p id=\"u28ae66a6\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u82d604e7\" class=\"ne-p\"><span class=\"ne-text\">安装yueque-hexo </span></p><p id=\"ue0645fb5\" class=\"ne-p\"><span class=\"ne-text\">相关链接：</span><a href=\"https://npmmirror.com/package/yuque-hexo/v/1.2.1\" data-href=\"https://npmmirror.com/package/yuque-hexo/v/1.2.1\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://npmmirror.com/package/yuque-hexo/v/1.2.1</span></a></p><pre data-language=\"plain\" id=\"CHOMw\" class=\"ne-codeblock language-plain\">npm i -g yuque-hexo</pre><p id=\"u1a2e49c8\" class=\"ne-p\"><span class=\"ne-text\">修改项目下 package.json</span></p><p id=\"uf61539b0\" class=\"ne-p\"><span class=\"ne-text\">其中login 和repo 改为刚刚设置页面看到的</span><a href=\"https://www.yuque.com/api/\" data-href=\"https://www.yuque.com/api/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.yuque.com/login/</span></a><span class=\"ne-text\">repo</span></p><pre data-language=\"plain\" id=\"NWn71\" class=\"ne-codeblock language-plain\">&quot;yuqueConfig&quot;: {\n    &quot;postPath&quot;: &quot;source/_posts&quot;,\n    &quot;cachePath&quot;: &quot;yuque.json&quot;,\n    &quot;mdNameFormat&quot;: &quot;title&quot;,\n    &quot;adapter&quot;: &quot;hexo&quot;,\n    &quot;concurrency&quot;: 5,\n    &quot;baseUrl&quot;: &quot;https://www.yuque.com/api/v2&quot;,\n    &quot;login&quot;: &quot;yinzhi&quot;,\n    &quot;repo&quot;: &quot;blog&quot;,\n    &quot;onlyPublished&quot;: false,\n    &quot;onlyPublic&quot;: false,\n    &quot;lastGeneratePath&quot;: &quot;lastGeneratePath.log&quot;,\n    &quot;imgCdn&quot;: {\n      &quot;enabled&quot;: false,\n      &quot;concurrency&quot;: 0,\n      &quot;imageBed&quot;: &quot;qiniu&quot;,\n      &quot;host&quot;: &quot;&quot;,\n      &quot;bucket&quot;: &quot;&quot;,\n      &quot;region&quot;: &quot;&quot;,\n      &quot;prefixKey&quot;: &quot;&quot;\n    }\n  }</pre><p id=\"u3be675fa\" class=\"ne-p\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 16px\">出于对知识库安全性的调整，使用第三方 API 访问知识库，需要传入环境变量 YUQUE_TOKEN，在语雀上点击 个人头像 -&gt; 设置 -&gt; Token 即可获取。传入 YUQUE_TOKEN 到 yuque-hexo 的进程有两种方式：</span></p><ul class=\"ne-ul\"><li id=\"u6caa5b60\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 16px\">设置全局的环境变量 YUQUE_TOKEN</span></li><li id=\"u77813a08\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 16px\">命令执行时传入环境变量</span></li></ul><ul class=\"ne-list-wrap\"><ul ne-level=\"1\" class=\"ne-ul\"><li id=\"u52f02065\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 16px\">mac / linux:</span><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 16px\"> </span><span class=\"ne-text\" style=\"color: rgb(199, 37, 78); font-size: 16px\">YUQUE_TOKEN=xxx yuque-hexo sync</span></li><li id=\"ubbb89c49\"><span class=\"ne-text\" style=\"color: rgb(51, 51, 51); font-size: 16px\">windows: </span><span class=\"ne-text\" style=\"color: rgb(199, 37, 78); font-size: 16px\">set YUQUE_TOKEN=xxx &amp;&amp; yuque-hexo sync</span></li></ul></ul><p id=\"ud48a77da\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 16px\"></span></p><p id=\"udc526e67\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 16px\">执行命令后查看source/_posts文章是否同步即可</span></p><p id=\"uf441189b\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 16px\"></span></p><h1 id=\"pNLzy\"><span class=\"ne-text\">github action自动同步</span></h1><p id=\"ua76512b1\" class=\"ne-p\"><br></p><p id=\"u682cb26d\" class=\"ne-p\"><span class=\"ne-text\" style=\"font-size: 16px\">打开博客仓库 -&gt; actions -&gt; </span><span class=\"ne-text\">set up a workflow yourself</span></p><pre data-language=\"plain\" id=\"BUCbC\" class=\"ne-codeblock language-plain\">name: sync posts\n\n# Controls when the action will run.\non:\n  # Allows you to run this workflow manually from the Actions tab\n  workflow_dispatch:\n  repository_dispatch:\n    types: [sync_event]\njobs:\n  blog-cicd:\n    name: sync Hexo blog \n    runs-on: ubuntu-latest\n    env:\n      TZ: Asia/Shanghai\n    steps:\n    - name: Checkout codes\n      uses: actions/checkout@v2\n\n    - name: Setup node\n      uses: actions/setup-node@v1\n      with:\n        node-version: '12.x'\n    - name: Cache node modules\n      uses: actions/cache@v1\n      with:\n        path: node_modules\n        key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n\n    - name: sync yueque\n      run: |\n        npm install yuque-hexo -g\n        YUQUE_TOKEN=${{secrets.YUQUE_TOKEN}} yuque-hexo sync\n    - name: Commit &amp; push changes\n      run: |\n        git config --global user.name &quot;GitHub Action&quot;\n        git config --global user.email &quot;action@github.com&quot;\n      \tgit add .\n        git commit -m &quot;GitHub Actions Auto Sync Post at $(date +'%Y-%m-%d %H:%M:%S')&quot;\n        git push</pre><p id=\"ubcd90e32\" class=\"ne-p\"><span class=\"ne-text\">需要提前配置YUQUE_TOEKN</span></p><p id=\"u4a76362a\" class=\"ne-p\"><span class=\"ne-text\">这边触发方式选择了2个，1手动触发，2外部触发，手动触发方便调试，外部触发可以用接口触发</span></p><p id=\"ueb6d87d6\" class=\"ne-p\"><span class=\"ne-text\">相关文档：</span><a href=\"https://docs.github.com/en/actions/using-workflows/triggering-a-workflow\" data-href=\"https://docs.github.com/en/actions/using-workflows/triggering-a-workflow\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://docs.github.com/en/actions/using-workflows/triggering-a-workflow</span></a></p><p id=\"u41b7523e\" class=\"ne-p\"><span class=\"ne-text\">调试完能自动拉文章即可</span></p><p id=\"u935a5439\" class=\"ne-p\"><span class=\"ne-text\"></span></p><h1 id=\"aFU7K\"><span class=\"ne-text\">语雀自动触发同步</span></h1><p id=\"ude70dad5\" class=\"ne-p\"><span class=\"ne-text\">因为语雀的webhook不能传参，所以这里选择vercel 搭了个serveless 进行转发，有需求可以直接拉代码然后用vercel部一个</span></p><p id=\"u028f0221\" class=\"ne-p\"><span class=\"ne-text\">仓库地址：</span><a href=\"https://github.com/zyqzyq/blog-webhook\" data-href=\"https://github.com/zyqzyq/blog-webhook\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://github.com/zyqzyq/blog-webhook</span></a></p><p id=\"u0f67ecc2\" class=\"ne-p\"><span class=\"ne-text\"></span></p><p id=\"u07dc687c\" class=\"ne-p\"><span class=\"ne-text\">语雀添加webhook </span></p><ul class=\"ne-ul\"><li id=\"u527988f7\"><span class=\"ne-text\">打开设置</span></li><li id=\"u37a8ec5a\"><span class=\"ne-text\">消息推送</span></li><li id=\"ua05b0b12\"><span class=\"ne-text\">其他渠道</span></li><li id=\"u3cb14fbf\"><span class=\"ne-text\">随便配个机器人名字然后添加url 例如 http://xxx.vercel.com/dispatch_github?user=aaa&amp;repo=hexo-blog&amp;token=xxx&amp;event_type=sync_event</span></li><li id=\"u3e4ba4fa\"><span class=\"ne-text\">然后添加</span></li><li id=\"u7d364ab8\"><span class=\"ne-text\">点击验证，结束</span></li></ul><p id=\"ueb71b068\" class=\"ne-p\"><br></p><h1 id=\"Ikax6\"><span class=\"ne-text\">快速操作</span></h1><ol class=\"ne-ol\"><li id=\"u83cbf8f3\"><span class=\"ne-text\">hexo+github+vercel 原先就有</span></li><li id=\"u9ad25e0a\"><span class=\"ne-text\">注册语雀，添加知识库，导入文章</span></li><li id=\"u210e6067\"><span class=\"ne-text\">获取语雀 toekn, login, repo</span></li><li id=\"u7301f263\"><span class=\"ne-text\">package.json添加yuqueconfig</span></li><li id=\"uabd6a0ca\"><span class=\"ne-text\">github仓库添加actions</span></li><li id=\"u261695c4\"><span class=\"ne-text\">fork 云函数仓库然后语雀webhook调接口 或者github action选择定时触发</span></li><li id=\"u6a31e0cd\"><span class=\"ne-text\">大功告成</span></li></ol></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VptGl%22%7D\"></card><p data-lake-id=\"271259acee9c171319e65471ea713d11\" id=\"271259acee9c171319e65471ea713d11\"><span data-lake-id=\"u0676201e\" id=\"u0676201e\">layout: post</span></p><p data-lake-id=\"654c35a1afe952931b9ade8dcf521603\" id=\"654c35a1afe952931b9ade8dcf521603\"><span data-lake-id=\"uece9ca94\" id=\"uece9ca94\">title: 语雀+hexo+github+vercel实现博客</span></p><p data-lake-id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\" id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\"><span data-lake-id=\"u0a2c9852\" id=\"u0a2c9852\">date: 2022-12-13 22:25:06</span></p><p data-lake-id=\"f259687d4b92a0314332a1cc21ed6c97\" id=\"f259687d4b92a0314332a1cc21ed6c97\"><span data-lake-id=\"u1ca82ae3\" id=\"u1ca82ae3\">categories: [blog,hexo]</span></p><p data-lake-id=\"3f1459936301c3ad199b527bd6652e32\" id=\"3f1459936301c3ad199b527bd6652e32\"><span data-lake-id=\"u11bd86bc\" id=\"u11bd86bc\">tags: blog</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22KXFOx%22%7D\"></card><h1 data-lake-id=\"mU94U\" id=\"mU94U\"><span data-lake-id=\"ufcfc1723\" id=\"ufcfc1723\">准备工作</span></h1><ol list=\"ub51f0834\"><li fid=\"u0ee77213\" data-lake-id=\"u984f02e1\" id=\"u984f02e1\"><span data-lake-id=\"ufacf9809\" id=\"ufacf9809\">注册语雀，github, vercel </span></li><li fid=\"u0ee77213\" data-lake-id=\"uaab8240a\" id=\"uaab8240a\"><span data-lake-id=\"u2694b4dc\" id=\"u2694b4dc\">搜一个喜欢的hexo 主题 clone到自己仓库</span></li><li fid=\"u0ee77213\" data-lake-id=\"u5eda5c2c\" id=\"u5eda5c2c\"><span data-lake-id=\"u2a9d7751\" id=\"u2a9d7751\">vercel 选择该仓库部署</span></li><li fid=\"u0ee77213\" data-lake-id=\"u740bee13\" id=\"u740bee13\"><span data-lake-id=\"u0805a5ab\" id=\"u0805a5ab\">这已经初步完成hexo的自动部署，下面就来打通语雀</span></li></ol><p data-lake-id=\"u2e1b4a29\" id=\"u2e1b4a29\"><span data-lake-id=\"u6193754f\" id=\"u6193754f\">​</span><br></p><h1 data-lake-id=\"YHppy\" id=\"YHppy\"><span data-lake-id=\"u6391bc69\" id=\"u6391bc69\">同步语雀文章</span></h1><p data-lake-id=\"u332db9f1\" id=\"u332db9f1\"><span data-lake-id=\"u63d643a7\" id=\"u63d643a7\">新增语雀知识库，到知识库设置页面获取路径，待会要用</span></p><p data-lake-id=\"u28ae66a6\" id=\"u28ae66a6\"><span data-lake-id=\"uc4aa938e\" id=\"uc4aa938e\">​</span><br></p><p data-lake-id=\"u82d604e7\" id=\"u82d604e7\"><span data-lake-id=\"u7701c867\" id=\"u7701c867\">安装yueque-hexo </span></p><p data-lake-id=\"ue0645fb5\" id=\"ue0645fb5\"><span data-lake-id=\"u8bf49e8f\" id=\"u8bf49e8f\">相关链接：</span><a href=\"https://npmmirror.com/package/yuque-hexo/v/1.2.1\" target=\"_blank\" data-lake-id=\"u2a923cee\" id=\"u2a923cee\"><span data-lake-id=\"u05ce5565\" id=\"u05ce5565\">https://npmmirror.com/package/yuque-hexo/v/1.2.1</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22npm%20i%20-g%20yuque-hexo%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22CHOMw%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u1a2e49c8\" id=\"u1a2e49c8\"><span data-lake-id=\"ub028afed\" id=\"ub028afed\">修改项目下 package.json</span></p><p data-lake-id=\"uf61539b0\" id=\"uf61539b0\"><span data-lake-id=\"uafe90d6d\" id=\"uafe90d6d\">其中login 和repo 改为刚刚设置页面看到的</span><a href=\"https://www.yuque.com/api/\" target=\"_blank\" data-lake-id=\"uef0b575f\" id=\"uef0b575f\"><span data-lake-id=\"u996abd0f\" id=\"u996abd0f\">https://www.yuque.com/login/</span></a><span data-lake-id=\"u4c90bd41\" id=\"u4c90bd41\">repo</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%5C%22yuqueConfig%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22postPath%5C%22%3A%20%5C%22source%2F_posts%5C%22%2C%5Cn%20%20%20%20%5C%22cachePath%5C%22%3A%20%5C%22yuque.json%5C%22%2C%5Cn%20%20%20%20%5C%22mdNameFormat%5C%22%3A%20%5C%22title%5C%22%2C%5Cn%20%20%20%20%5C%22adapter%5C%22%3A%20%5C%22hexo%5C%22%2C%5Cn%20%20%20%20%5C%22concurrency%5C%22%3A%205%2C%5Cn%20%20%20%20%5C%22baseUrl%5C%22%3A%20%5C%22https%3A%2F%2Fwww.yuque.com%2Fapi%2Fv2%5C%22%2C%5Cn%20%20%20%20%5C%22login%5C%22%3A%20%5C%22yinzhi%5C%22%2C%5Cn%20%20%20%20%5C%22repo%5C%22%3A%20%5C%22blog%5C%22%2C%5Cn%20%20%20%20%5C%22onlyPublished%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22onlyPublic%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22lastGeneratePath%5C%22%3A%20%5C%22lastGeneratePath.log%5C%22%2C%5Cn%20%20%20%20%5C%22imgCdn%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%5C%22enabled%5C%22%3A%20false%2C%5Cn%20%20%20%20%20%20%5C%22concurrency%5C%22%3A%200%2C%5Cn%20%20%20%20%20%20%5C%22imageBed%5C%22%3A%20%5C%22qiniu%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22host%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22bucket%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22region%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22prefixKey%5C%22%3A%20%5C%22%5C%22%5Cn%20%20%20%20%7D%5Cn%20%20%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__height%22%3A180.20001220703125%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22NWn71%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22height%22%3A180.20001220703125%7D\"></card><p data-lake-id=\"u3be675fa\" id=\"u3be675fa\"><span data-lake-id=\"uef76790c\" id=\"uef76790c\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">出于对知识库安全性的调整，使用第三方 API 访问知识库，需要传入环境变量 YUQUE_TOKEN，在语雀上点击 个人头像 -&gt; 设置 -&gt; Token 即可获取。传入 YUQUE_TOKEN 到 yuque-hexo 的进程有两种方式：</span></p><ul list=\"u4cc5d372\"><li fid=\"uda910284\" data-lake-id=\"u6caa5b60\" id=\"u6caa5b60\"><span data-lake-id=\"u97c9ec80\" id=\"u97c9ec80\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">设置全局的环境变量 YUQUE_TOKEN</span></li><li fid=\"uda910284\" data-lake-id=\"u77813a08\" id=\"u77813a08\"><span data-lake-id=\"u5690eb83\" id=\"u5690eb83\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">命令执行时传入环境变量</span></li></ul><ul list=\"u4cc5d372\" data-lake-indent=\"1\"><li fid=\"uf3beca7d\" data-lake-id=\"u52f02065\" id=\"u52f02065\"><span data-lake-id=\"u8e1eb40d\" id=\"u8e1eb40d\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">mac / linux:</span><span data-lake-id=\"ub03a7d18\" id=\"ub03a7d18\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\"> </span><span data-lake-id=\"u9db90887\" id=\"u9db90887\" class=\"lake-fontsize-12\" style=\"color: rgb(199, 37, 78)\">YUQUE_TOKEN=xxx yuque-hexo sync</span></li><li fid=\"uf3beca7d\" data-lake-id=\"ubbb89c49\" id=\"ubbb89c49\"><span data-lake-id=\"ue487022c\" id=\"ue487022c\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">windows: </span><span data-lake-id=\"uf6edaf74\" id=\"uf6edaf74\" class=\"lake-fontsize-12\" style=\"color: rgb(199, 37, 78)\">set YUQUE_TOKEN=xxx &amp;&amp; yuque-hexo sync</span></li></ul><p data-lake-id=\"ud48a77da\" id=\"ud48a77da\"><span data-lake-id=\"ub8f3fb11\" id=\"ub8f3fb11\" class=\"lake-fontsize-12\">​</span><br></p><p data-lake-id=\"udc526e67\" id=\"udc526e67\"><span data-lake-id=\"u7f663b8d\" id=\"u7f663b8d\" class=\"lake-fontsize-12\">执行命令后查看source/_posts文章是否同步即可</span></p><p data-lake-id=\"uf441189b\" id=\"uf441189b\"><span data-lake-id=\"ua32bec9c\" id=\"ua32bec9c\" class=\"lake-fontsize-12\">​</span><br></p><h1 data-lake-id=\"pNLzy\" id=\"pNLzy\"><span data-lake-id=\"uf1a79d0b\" id=\"uf1a79d0b\">github action自动同步</span></h1><p data-lake-id=\"ua76512b1\" id=\"ua76512b1\"><br></p><p data-lake-id=\"u682cb26d\" id=\"u682cb26d\"><span data-lake-id=\"uf1b255ff\" id=\"uf1b255ff\" class=\"lake-fontsize-12\">打开博客仓库 -&gt; actions -&gt; </span><span data-lake-id=\"u217a4ae6\" id=\"u217a4ae6\">set up a workflow yourself</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22name%3A%20sync%20posts%5Cn%5Cn%23%20Controls%20when%20the%20action%20will%20run.%5Cnon%3A%5Cn%20%20%23%20Allows%20you%20to%20run%20this%20workflow%20manually%20from%20the%20Actions%20tab%5Cn%20%20workflow_dispatch%3A%5Cn%20%20repository_dispatch%3A%5Cn%20%20%20%20types%3A%20%5Bsync_event%5D%5Cnjobs%3A%5Cn%20%20blog-cicd%3A%5Cn%20%20%20%20name%3A%20sync%20Hexo%20blog%20%5Cn%20%20%20%20runs-on%3A%20ubuntu-latest%5Cn%20%20%20%20env%3A%5Cn%20%20%20%20%20%20TZ%3A%20Asia%2FShanghai%5Cn%20%20%20%20steps%3A%5Cn%20%20%20%20-%20name%3A%20Checkout%20codes%5Cn%20%20%20%20%20%20uses%3A%20actions%2Fcheckout%40v2%5Cn%5Cn%20%20%20%20-%20name%3A%20Setup%20node%5Cn%20%20%20%20%20%20uses%3A%20actions%2Fsetup-node%40v1%5Cn%20%20%20%20%20%20with%3A%5Cn%20%20%20%20%20%20%20%20node-version%3A%20'12.x'%5Cn%20%20%20%20-%20name%3A%20Cache%20node%20modules%5Cn%20%20%20%20%20%20uses%3A%20actions%2Fcache%40v1%5Cn%20%20%20%20%20%20with%3A%5Cn%20%20%20%20%20%20%20%20path%3A%20node_modules%5Cn%20%20%20%20%20%20%20%20key%3A%20%24%7B%7B%20runner.os%20%7D%7D-node-%24%7B%7B%20hashFiles('**%2Fpackage-lock.json')%20%7D%7D%5Cn%5Cn%20%20%20%20-%20name%3A%20sync%20yueque%5Cn%20%20%20%20%20%20run%3A%20%7C%5Cn%20%20%20%20%20%20%20%20npm%20install%20yuque-hexo%20-g%5Cn%20%20%20%20%20%20%20%20YUQUE_TOKEN%3D%24%7B%7Bsecrets.YUQUE_TOKEN%7D%7D%20yuque-hexo%20sync%5Cn%20%20%20%20-%20name%3A%20Commit%20%26%20push%20changes%5Cn%20%20%20%20%20%20run%3A%20%7C%5Cn%20%20%20%20%20%20%20%20git%20config%20--global%20user.name%20%5C%22GitHub%20Action%5C%22%5Cn%20%20%20%20%20%20%20%20git%20config%20--global%20user.email%20%5C%22action%40github.com%5C%22%5Cn%20%20%20%20%20%20%5Ctgit%20add%20.%5Cn%20%20%20%20%20%20%20%20git%20commit%20-m%20%5C%22GitHub%20Actions%20Auto%20Sync%20Post%20at%20%24(date%20%2B'%25Y-%25m-%25d%20%25H%3A%25M%3A%25S')%5C%22%5Cn%20%20%20%20%20%20%20%20git%20push%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22BUCbC%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ubcd90e32\" id=\"ubcd90e32\"><span data-lake-id=\"u23d5030f\" id=\"u23d5030f\">需要提前配置YUQUE_TOEKN</span></p><p data-lake-id=\"u4a76362a\" id=\"u4a76362a\"><span data-lake-id=\"u2f03a63c\" id=\"u2f03a63c\">这边触发方式选择了2个，1手动触发，2外部触发，手动触发方便调试，外部触发可以用接口触发</span></p><p data-lake-id=\"ueb6d87d6\" id=\"ueb6d87d6\"><span data-lake-id=\"uc1c8c9de\" id=\"uc1c8c9de\">相关文档：</span><a href=\"https://docs.github.com/en/actions/using-workflows/triggering-a-workflow\" target=\"_blank\" data-lake-id=\"u1510ae91\" id=\"u1510ae91\"><span data-lake-id=\"uf37d5b94\" id=\"uf37d5b94\">https://docs.github.com/en/actions/using-workflows/triggering-a-workflow</span></a></p><p data-lake-id=\"u41b7523e\" id=\"u41b7523e\"><span data-lake-id=\"u19dac3e3\" id=\"u19dac3e3\">调试完能自动拉文章即可</span></p><p data-lake-id=\"u935a5439\" id=\"u935a5439\"><span data-lake-id=\"u70d09740\" id=\"u70d09740\">​</span><br></p><h1 data-lake-id=\"aFU7K\" id=\"aFU7K\"><span data-lake-id=\"u9efc922c\" id=\"u9efc922c\">语雀自动触发同步</span></h1><p data-lake-id=\"ude70dad5\" id=\"ude70dad5\"><span data-lake-id=\"ub0cbe7ce\" id=\"ub0cbe7ce\">因为语雀的webhook不能传参，所以这里选择vercel 搭了个serveless 进行转发，有需求可以直接拉代码然后用vercel部一个</span></p><p data-lake-id=\"u028f0221\" id=\"u028f0221\"><span data-lake-id=\"u55c0ae0e\" id=\"u55c0ae0e\">仓库地址：</span><a href=\"https://github.com/zyqzyq/blog-webhook\" target=\"_blank\" data-lake-id=\"u9ae01ac0\" id=\"u9ae01ac0\"><span data-lake-id=\"u76bac2ab\" id=\"u76bac2ab\">https://github.com/zyqzyq/blog-webhook</span></a></p><p data-lake-id=\"u0f67ecc2\" id=\"u0f67ecc2\"><span data-lake-id=\"u37a98364\" id=\"u37a98364\">​</span><br></p><p data-lake-id=\"u07dc687c\" id=\"u07dc687c\"><span data-lake-id=\"u97a6405c\" id=\"u97a6405c\">语雀添加webhook </span></p><ul list=\"u84ff663a\"><li fid=\"ufcfd470c\" data-lake-id=\"u527988f7\" id=\"u527988f7\"><span data-lake-id=\"u03707888\" id=\"u03707888\">打开设置</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u37a8ec5a\" id=\"u37a8ec5a\"><span data-lake-id=\"u22ca3544\" id=\"u22ca3544\">消息推送</span></li><li fid=\"ufcfd470c\" data-lake-id=\"ua05b0b12\" id=\"ua05b0b12\"><span data-lake-id=\"u2d385b90\" id=\"u2d385b90\">其他渠道</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u3cb14fbf\" id=\"u3cb14fbf\"><span data-lake-id=\"u35385577\" id=\"u35385577\">随便配个机器人名字然后添加url 例如 http://xxx.vercel.com/dispatch_github?user=aaa&amp;repo=hexo-blog&amp;token=xxx&amp;event_type=sync_event</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u3e4ba4fa\" id=\"u3e4ba4fa\"><span data-lake-id=\"u270d3a52\" id=\"u270d3a52\">然后添加</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u7d364ab8\" id=\"u7d364ab8\"><span data-lake-id=\"u89db097f\" id=\"u89db097f\">点击验证，结束</span></li></ul><p data-lake-id=\"ueb71b068\" id=\"ueb71b068\"><br></p><h1 data-lake-id=\"Ikax6\" id=\"Ikax6\"><span data-lake-id=\"u2eeef440\" id=\"u2eeef440\">快速操作</span></h1><ol list=\"u6813ac32\"><li fid=\"u2a9247fe\" data-lake-id=\"u83cbf8f3\" id=\"u83cbf8f3\"><span data-lake-id=\"u8e071a9c\" id=\"u8e071a9c\">hexo+github+vercel 原先就有</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u9ad25e0a\" id=\"u9ad25e0a\"><span data-lake-id=\"u0b909bc0\" id=\"u0b909bc0\">注册语雀，添加知识库，导入文章</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u210e6067\" id=\"u210e6067\"><span data-lake-id=\"ue4eaeda3\" id=\"ue4eaeda3\">获取语雀 toekn, login, repo</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u7301f263\" id=\"u7301f263\"><span data-lake-id=\"uc76063a5\" id=\"uc76063a5\">package.json添加yuqueconfig</span></li><li fid=\"u2a9247fe\" data-lake-id=\"uabd6a0ca\" id=\"uabd6a0ca\"><span data-lake-id=\"udeebdbb6\" id=\"udeebdbb6\">github仓库添加actions</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u261695c4\" id=\"u261695c4\"><span data-lake-id=\"ucaf8045f\" id=\"ucaf8045f\">fork 云函数仓库然后语雀webhook调接口 或者github action选择定时触发</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u6a31e0cd\" id=\"u6a31e0cd\"><span data-lake-id=\"u5830d22c\" id=\"u5830d22c\">大功告成</span></li></ol>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VptGl%22%7D\"></card><p data-lake-id=\"271259acee9c171319e65471ea713d11\" id=\"271259acee9c171319e65471ea713d11\"><span data-lake-id=\"u0676201e\" id=\"u0676201e\">layout: post</span></p><p data-lake-id=\"654c35a1afe952931b9ade8dcf521603\" id=\"654c35a1afe952931b9ade8dcf521603\"><span data-lake-id=\"uece9ca94\" id=\"uece9ca94\">title: 语雀+hexo+github+vercel实现博客</span></p><p data-lake-id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\" id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\"><span data-lake-id=\"u0a2c9852\" id=\"u0a2c9852\">date: 2022-12-13 22:25:06</span></p><p data-lake-id=\"f259687d4b92a0314332a1cc21ed6c97\" id=\"f259687d4b92a0314332a1cc21ed6c97\"><span data-lake-id=\"u1ca82ae3\" id=\"u1ca82ae3\">categories: [blog,hexo]</span></p><p data-lake-id=\"3f1459936301c3ad199b527bd6652e32\" id=\"3f1459936301c3ad199b527bd6652e32\"><span data-lake-id=\"u11bd86bc\" id=\"u11bd86bc\">tags: blog</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22KXFOx%22%7D\"></card><h1 data-lake-id=\"mU94U\" id=\"mU94U\"><span data-lake-id=\"ufcfc1723\" id=\"ufcfc1723\">准备工作</span></h1><ol list=\"ub51f0834\"><li fid=\"u0ee77213\" data-lake-id=\"u984f02e1\" id=\"u984f02e1\"><span data-lake-id=\"ufacf9809\" id=\"ufacf9809\">注册语雀，github, vercel </span></li><li fid=\"u0ee77213\" data-lake-id=\"uaab8240a\" id=\"uaab8240a\"><span data-lake-id=\"u2694b4dc\" id=\"u2694b4dc\">搜一个喜欢的hexo 主题 clone到自己仓库</span></li><li fid=\"u0ee77213\" data-lake-id=\"u5eda5c2c\" id=\"u5eda5c2c\"><span data-lake-id=\"u2a9d7751\" id=\"u2a9d7751\">vercel 选择该仓库部署</span></li><li fid=\"u0ee77213\" data-lake-id=\"u740bee13\" id=\"u740bee13\"><span data-lake-id=\"u0805a5ab\" id=\"u0805a5ab\">这已经初步完成hexo的自动部署，下面就来打通语雀</span></li></ol><p data-lake-id=\"u2e1b4a29\" id=\"u2e1b4a29\"><span data-lake-id=\"u6193754f\" id=\"u6193754f\">​</span><br></p><h1 data-lake-id=\"YHppy\" id=\"YHppy\"><span data-lake-id=\"u6391bc69\" id=\"u6391bc69\">同步语雀文章</span></h1><p data-lake-id=\"u332db9f1\" id=\"u332db9f1\"><span data-lake-id=\"u63d643a7\" id=\"u63d643a7\">新增语雀知识库，到知识库设置页面获取路径，待会要用</span></p><p data-lake-id=\"u28ae66a6\" id=\"u28ae66a6\"><span data-lake-id=\"uc4aa938e\" id=\"uc4aa938e\">​</span><br></p><p data-lake-id=\"u82d604e7\" id=\"u82d604e7\"><span data-lake-id=\"u7701c867\" id=\"u7701c867\">安装yueque-hexo </span></p><p data-lake-id=\"ue0645fb5\" id=\"ue0645fb5\"><span data-lake-id=\"u8bf49e8f\" id=\"u8bf49e8f\">相关链接：</span><a href=\"https://npmmirror.com/package/yuque-hexo/v/1.2.1\" target=\"_blank\" data-lake-id=\"u2a923cee\" id=\"u2a923cee\"><span data-lake-id=\"u05ce5565\" id=\"u05ce5565\">https://npmmirror.com/package/yuque-hexo/v/1.2.1</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22npm%20i%20-g%20yuque-hexo%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22CHOMw%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"u1a2e49c8\" id=\"u1a2e49c8\"><span data-lake-id=\"ub028afed\" id=\"ub028afed\">修改项目下 package.json</span></p><p data-lake-id=\"uf61539b0\" id=\"uf61539b0\"><span data-lake-id=\"uafe90d6d\" id=\"uafe90d6d\">其中login 和repo 改为刚刚设置页面看到的</span><a href=\"https://www.yuque.com/api/\" target=\"_blank\" data-lake-id=\"uef0b575f\" id=\"uef0b575f\"><span data-lake-id=\"u996abd0f\" id=\"u996abd0f\">https://www.yuque.com/login/</span></a><span data-lake-id=\"u4c90bd41\" id=\"u4c90bd41\">repo</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%5C%22yuqueConfig%5C%22%3A%20%7B%5Cn%20%20%20%20%5C%22postPath%5C%22%3A%20%5C%22source%2F_posts%5C%22%2C%5Cn%20%20%20%20%5C%22cachePath%5C%22%3A%20%5C%22yuque.json%5C%22%2C%5Cn%20%20%20%20%5C%22mdNameFormat%5C%22%3A%20%5C%22title%5C%22%2C%5Cn%20%20%20%20%5C%22adapter%5C%22%3A%20%5C%22hexo%5C%22%2C%5Cn%20%20%20%20%5C%22concurrency%5C%22%3A%205%2C%5Cn%20%20%20%20%5C%22baseUrl%5C%22%3A%20%5C%22https%3A%2F%2Fwww.yuque.com%2Fapi%2Fv2%5C%22%2C%5Cn%20%20%20%20%5C%22login%5C%22%3A%20%5C%22yinzhi%5C%22%2C%5Cn%20%20%20%20%5C%22repo%5C%22%3A%20%5C%22blog%5C%22%2C%5Cn%20%20%20%20%5C%22onlyPublished%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22onlyPublic%5C%22%3A%20false%2C%5Cn%20%20%20%20%5C%22lastGeneratePath%5C%22%3A%20%5C%22lastGeneratePath.log%5C%22%2C%5Cn%20%20%20%20%5C%22imgCdn%5C%22%3A%20%7B%5Cn%20%20%20%20%20%20%5C%22enabled%5C%22%3A%20false%2C%5Cn%20%20%20%20%20%20%5C%22concurrency%5C%22%3A%200%2C%5Cn%20%20%20%20%20%20%5C%22imageBed%5C%22%3A%20%5C%22qiniu%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22host%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22bucket%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22region%5C%22%3A%20%5C%22%5C%22%2C%5Cn%20%20%20%20%20%20%5C%22prefixKey%5C%22%3A%20%5C%22%5C%22%5Cn%20%20%20%20%7D%5Cn%20%20%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__height%22%3A180.20001220703125%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22NWn71%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%2C%22height%22%3A180.20001220703125%7D\"></card><p data-lake-id=\"u3be675fa\" id=\"u3be675fa\"><span data-lake-id=\"uef76790c\" id=\"uef76790c\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">出于对知识库安全性的调整，使用第三方 API 访问知识库，需要传入环境变量 YUQUE_TOKEN，在语雀上点击 个人头像 -&gt; 设置 -&gt; Token 即可获取。传入 YUQUE_TOKEN 到 yuque-hexo 的进程有两种方式：</span></p><ul list=\"u4cc5d372\"><li fid=\"uda910284\" data-lake-id=\"u6caa5b60\" id=\"u6caa5b60\"><span data-lake-id=\"u97c9ec80\" id=\"u97c9ec80\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">设置全局的环境变量 YUQUE_TOKEN</span></li><li fid=\"uda910284\" data-lake-id=\"u77813a08\" id=\"u77813a08\"><span data-lake-id=\"u5690eb83\" id=\"u5690eb83\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">命令执行时传入环境变量</span></li></ul><ul list=\"u4cc5d372\" data-lake-indent=\"1\"><li fid=\"uf3beca7d\" data-lake-id=\"u52f02065\" id=\"u52f02065\"><span data-lake-id=\"u8e1eb40d\" id=\"u8e1eb40d\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">mac / linux:</span><span data-lake-id=\"ub03a7d18\" id=\"ub03a7d18\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\"> </span><span data-lake-id=\"u9db90887\" id=\"u9db90887\" class=\"lake-fontsize-12\" style=\"color: rgb(199, 37, 78)\">YUQUE_TOKEN=xxx yuque-hexo sync</span></li><li fid=\"uf3beca7d\" data-lake-id=\"ubbb89c49\" id=\"ubbb89c49\"><span data-lake-id=\"ue487022c\" id=\"ue487022c\" class=\"lake-fontsize-12\" style=\"color: rgb(51, 51, 51)\">windows: </span><span data-lake-id=\"uf6edaf74\" id=\"uf6edaf74\" class=\"lake-fontsize-12\" style=\"color: rgb(199, 37, 78)\">set YUQUE_TOKEN=xxx &amp;&amp; yuque-hexo sync</span></li></ul><p data-lake-id=\"ud48a77da\" id=\"ud48a77da\"><span data-lake-id=\"ub8f3fb11\" id=\"ub8f3fb11\" class=\"lake-fontsize-12\">​</span><br></p><p data-lake-id=\"udc526e67\" id=\"udc526e67\"><span data-lake-id=\"u7f663b8d\" id=\"u7f663b8d\" class=\"lake-fontsize-12\">执行命令后查看source/_posts文章是否同步即可</span></p><p data-lake-id=\"uf441189b\" id=\"uf441189b\"><span data-lake-id=\"ua32bec9c\" id=\"ua32bec9c\" class=\"lake-fontsize-12\">​</span><br></p><h1 data-lake-id=\"pNLzy\" id=\"pNLzy\"><span data-lake-id=\"uf1a79d0b\" id=\"uf1a79d0b\">github action自动同步</span></h1><p data-lake-id=\"ua76512b1\" id=\"ua76512b1\"><br></p><p data-lake-id=\"u682cb26d\" id=\"u682cb26d\"><span data-lake-id=\"uf1b255ff\" id=\"uf1b255ff\" class=\"lake-fontsize-12\">打开博客仓库 -&gt; actions -&gt; </span><span data-lake-id=\"u217a4ae6\" id=\"u217a4ae6\">set up a workflow yourself</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22name%3A%20sync%20posts%5Cn%5Cn%23%20Controls%20when%20the%20action%20will%20run.%5Cnon%3A%5Cn%20%20%23%20Allows%20you%20to%20run%20this%20workflow%20manually%20from%20the%20Actions%20tab%5Cn%20%20workflow_dispatch%3A%5Cn%20%20repository_dispatch%3A%5Cn%20%20%20%20types%3A%20%5Bsync_event%5D%5Cnjobs%3A%5Cn%20%20blog-cicd%3A%5Cn%20%20%20%20name%3A%20sync%20Hexo%20blog%20%5Cn%20%20%20%20runs-on%3A%20ubuntu-latest%5Cn%20%20%20%20env%3A%5Cn%20%20%20%20%20%20TZ%3A%20Asia%2FShanghai%5Cn%20%20%20%20steps%3A%5Cn%20%20%20%20-%20name%3A%20Checkout%20codes%5Cn%20%20%20%20%20%20uses%3A%20actions%2Fcheckout%40v2%5Cn%5Cn%20%20%20%20-%20name%3A%20Setup%20node%5Cn%20%20%20%20%20%20uses%3A%20actions%2Fsetup-node%40v1%5Cn%20%20%20%20%20%20with%3A%5Cn%20%20%20%20%20%20%20%20node-version%3A%20'12.x'%5Cn%20%20%20%20-%20name%3A%20Cache%20node%20modules%5Cn%20%20%20%20%20%20uses%3A%20actions%2Fcache%40v1%5Cn%20%20%20%20%20%20with%3A%5Cn%20%20%20%20%20%20%20%20path%3A%20node_modules%5Cn%20%20%20%20%20%20%20%20key%3A%20%24%7B%7B%20runner.os%20%7D%7D-node-%24%7B%7B%20hashFiles('**%2Fpackage-lock.json')%20%7D%7D%5Cn%5Cn%20%20%20%20-%20name%3A%20sync%20yueque%5Cn%20%20%20%20%20%20run%3A%20%7C%5Cn%20%20%20%20%20%20%20%20npm%20install%20yuque-hexo%20-g%5Cn%20%20%20%20%20%20%20%20YUQUE_TOKEN%3D%24%7B%7Bsecrets.YUQUE_TOKEN%7D%7D%20yuque-hexo%20sync%5Cn%20%20%20%20-%20name%3A%20Commit%20%26%20push%20changes%5Cn%20%20%20%20%20%20run%3A%20%7C%5Cn%20%20%20%20%20%20%20%20git%20config%20--global%20user.name%20%5C%22GitHub%20Action%5C%22%5Cn%20%20%20%20%20%20%20%20git%20config%20--global%20user.email%20%5C%22action%40github.com%5C%22%5Cn%20%20%20%20%20%20%5Ctgit%20add%20.%5Cn%20%20%20%20%20%20%20%20git%20commit%20-m%20%5C%22GitHub%20Actions%20Auto%20Sync%20Post%20at%20%24(date%20%2B'%25Y-%25m-%25d%20%25H%3A%25M%3A%25S')%5C%22%5Cn%20%20%20%20%20%20%20%20git%20push%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22__spacing%22%3A%22both%22%2C%22id%22%3A%22BUCbC%22%2C%22margin%22%3A%7B%22top%22%3Atrue%2C%22bottom%22%3Atrue%7D%7D\"></card><p data-lake-id=\"ubcd90e32\" id=\"ubcd90e32\"><span data-lake-id=\"u23d5030f\" id=\"u23d5030f\">需要提前配置YUQUE_TOEKN</span></p><p data-lake-id=\"u4a76362a\" id=\"u4a76362a\"><span data-lake-id=\"u2f03a63c\" id=\"u2f03a63c\">这边触发方式选择了2个，1手动触发，2外部触发，手动触发方便调试，外部触发可以用接口触发</span></p><p data-lake-id=\"ueb6d87d6\" id=\"ueb6d87d6\"><span data-lake-id=\"uc1c8c9de\" id=\"uc1c8c9de\">相关文档：</span><a href=\"https://docs.github.com/en/actions/using-workflows/triggering-a-workflow\" target=\"_blank\" data-lake-id=\"u1510ae91\" id=\"u1510ae91\"><span data-lake-id=\"uf37d5b94\" id=\"uf37d5b94\">https://docs.github.com/en/actions/using-workflows/triggering-a-workflow</span></a></p><p data-lake-id=\"u41b7523e\" id=\"u41b7523e\"><span data-lake-id=\"u19dac3e3\" id=\"u19dac3e3\">调试完能自动拉文章即可</span></p><p data-lake-id=\"u935a5439\" id=\"u935a5439\"><span data-lake-id=\"u70d09740\" id=\"u70d09740\">​</span><br></p><h1 data-lake-id=\"aFU7K\" id=\"aFU7K\"><span data-lake-id=\"u9efc922c\" id=\"u9efc922c\">语雀自动触发同步</span></h1><p data-lake-id=\"ude70dad5\" id=\"ude70dad5\"><span data-lake-id=\"ub0cbe7ce\" id=\"ub0cbe7ce\">因为语雀的webhook不能传参，所以这里选择vercel 搭了个serveless 进行转发，有需求可以直接拉代码然后用vercel部一个</span></p><p data-lake-id=\"u028f0221\" id=\"u028f0221\"><span data-lake-id=\"u55c0ae0e\" id=\"u55c0ae0e\">仓库地址：</span><a href=\"https://github.com/zyqzyq/blog-webhook\" target=\"_blank\" data-lake-id=\"u9ae01ac0\" id=\"u9ae01ac0\"><span data-lake-id=\"u76bac2ab\" id=\"u76bac2ab\">https://github.com/zyqzyq/blog-webhook</span></a></p><p data-lake-id=\"u0f67ecc2\" id=\"u0f67ecc2\"><span data-lake-id=\"u37a98364\" id=\"u37a98364\">​</span><br></p><p data-lake-id=\"u07dc687c\" id=\"u07dc687c\"><span data-lake-id=\"u97a6405c\" id=\"u97a6405c\">语雀添加webhook </span></p><ul list=\"u84ff663a\"><li fid=\"ufcfd470c\" data-lake-id=\"u527988f7\" id=\"u527988f7\"><span data-lake-id=\"u03707888\" id=\"u03707888\">打开设置</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u37a8ec5a\" id=\"u37a8ec5a\"><span data-lake-id=\"u22ca3544\" id=\"u22ca3544\">消息推送</span></li><li fid=\"ufcfd470c\" data-lake-id=\"ua05b0b12\" id=\"ua05b0b12\"><span data-lake-id=\"u2d385b90\" id=\"u2d385b90\">其他渠道</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u3cb14fbf\" id=\"u3cb14fbf\"><span data-lake-id=\"u35385577\" id=\"u35385577\">随便配个机器人名字然后添加url 例如 http://xxx.vercel.com/dispatch_github?user=aaa&amp;repo=hexo-blog&amp;token=xxx&amp;event_type=sync_event</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u3e4ba4fa\" id=\"u3e4ba4fa\"><span data-lake-id=\"u270d3a52\" id=\"u270d3a52\">然后添加</span></li><li fid=\"ufcfd470c\" data-lake-id=\"u7d364ab8\" id=\"u7d364ab8\"><span data-lake-id=\"u89db097f\" id=\"u89db097f\">点击验证，结束</span></li></ul><p data-lake-id=\"ueb71b068\" id=\"ueb71b068\"><br></p><h1 data-lake-id=\"Ikax6\" id=\"Ikax6\"><span data-lake-id=\"u2eeef440\" id=\"u2eeef440\">快速操作</span></h1><ol list=\"u6813ac32\"><li fid=\"u2a9247fe\" data-lake-id=\"u83cbf8f3\" id=\"u83cbf8f3\"><span data-lake-id=\"u8e071a9c\" id=\"u8e071a9c\">hexo+github+vercel 原先就有</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u9ad25e0a\" id=\"u9ad25e0a\"><span data-lake-id=\"u0b909bc0\" id=\"u0b909bc0\">注册语雀，添加知识库，导入文章</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u210e6067\" id=\"u210e6067\"><span data-lake-id=\"ue4eaeda3\" id=\"ue4eaeda3\">获取语雀 toekn, login, repo</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u7301f263\" id=\"u7301f263\"><span data-lake-id=\"uc76063a5\" id=\"uc76063a5\">package.json添加yuqueconfig</span></li><li fid=\"u2a9247fe\" data-lake-id=\"uabd6a0ca\" id=\"uabd6a0ca\"><span data-lake-id=\"udeebdbb6\" id=\"udeebdbb6\">github仓库添加actions</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u261695c4\" id=\"u261695c4\"><span data-lake-id=\"ucaf8045f\" id=\"ucaf8045f\">fork 云函数仓库然后语雀webhook调接口 或者github action选择定时触发</span></li><li fid=\"u2a9247fe\" data-lake-id=\"u6a31e0cd\" id=\"u6a31e0cd\"><span data-lake-id=\"u5830d22c\" id=\"u5830d22c\">大功告成</span></li></ol>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-13T15:10:08.000Z",
    "deleted_at": null,
    "created_at": "2022-12-13T14:18:13.000Z",
    "updated_at": "2022-12-13T15:25:22.000Z",
    "published_at": "2022-12-13T15:25:22.000Z",
    "first_published_at": "2022-12-13T14:18:21.726Z",
    "word_count": 682,
    "cover": null,
    "description": "layout: posttitle: 语雀+hexo+github+vercel实现博客date: 2022-12-13 22:25:06categories: [blog,hexo]tags: blog准备工作注册语雀，github, vercel 搜一个喜欢的hexo 主题 clone到自...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945057,
    "slug": "545db93f4db4d7ab858dc6064788f79f",
    "title": "2022-11-13-k8s安装ingress-nginx",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2022-11-13 10:10:32+00:00 <br />title: k8s安装ingress-nginx<br />tags: [k8s, node] <br />categories: [k8s]\n\n---\n\n<a name=\"CElnx\"></a>\n# 安装ingress nginx\n官网地址：[安装ingress-nginx教程](https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_index)<br />k8s版本:1.18<br />ingress 版本: 0.30<br />因 ingress1.0以上版本至少需要k8s 1.19以上版本\n```\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/mandatory.yaml\n```\n有需要可以自己下载部署文件修改以后手动部署\n<a name=\"E3BEc\"></a>\n### 提供服务（自建服务器）\n官网地址：[裸机提供服务方法](https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_baremetal)\n<a name=\"pqirJ\"></a>\n##### 基于nodeport\n注意namespace与ingress-nginx保持一致\n```\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/provider/baremetal/service-nodeport.yaml\n```\nnodePort的部署思路就是通过在每个节点上开辟nodePort的端口，将流量引入进来，而后通过iptables首先转发到ingress-controller容器中，而后由nginx根据ingress的规则进行判断，将其转发到对应的应用web容器中\n<a name=\"E6S9H\"></a>\n##### 基于 hostNetwork\n可以修改之前部署的pod文件添加以下配置\n```\ntemplate:\n  spec:\n    hostNetwork: true\n```\nhostNetwork模式不再需要创建一个nodePort的svc，而是直接在每个节点都创建一个ingress-controller的容器，而且将该容器的网络模式设为hostNetwork。也就是说每个节点物理机的80和443端口将会被ingress-controller中的nginx容器占用。当流量通过80/443端口进入时，将直接进入到nginx中。而后nginx根据ingress规则再将流量转发到对应的web应用容器中。\n<a name=\"uyLZj\"></a>\n#### 两种部署方式的比较\n相比较起来，nodePort部署模式中需要部署的ingress-controller容器较少。一个集群可以部署几个就可以了。而hostNetwork模式需要在每个节点部署一个ingress-controller容器，因此总起来消耗资源较多。另外一个比较直观的区别，nodePort模式主要占用的是svc的nodePort端口。而hostNetwork则需要占用物理机的80和443端口。<br />从网络流转来说，通过nodePort访问时，该node节点不一定部署了ingress-controller容器。因此还需要iptables将其转发到部署有ingress-controller的节点上去，多了一层流转。<br />另外，通过nodePort访问时，nginx接收到的http请求中的source ip将会被转换为接受该请求的node节点的ip，而非真正的client端ip。<br />而使用hostNetwork的方式，ingress-controller将会使用的是物理机的DNS域名解析(即物理机的/etc/resolv.conf)。而无法使用内部的比如coredns的域名解析。<br />因此具体使用哪种部署方式，需要根据实际情况和需求进行选择。\n<a name=\"CSIi8\"></a>\n### 编写ingress\n```\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: test-ingress\nspec:\n  rules:\n  - host: www.test.com\n    http:\n      paths:\n      - path: /\n        backend:\n          service:\n            name: test-backend\n            port:\n              number: 8080\n```\n<a name=\"PT7EA\"></a>\n# 测试\n可以先手动修改hosts\n```\n192.168.1.101 www.test.com\n```\n```\nkubectl apply -f test-ingress.yaml\n```\n最后打开浏览器访问 www.test.com即可完成测试\n\n",
    "body_draft": "---\n\ndate: 2022-11-13 10:10:32+00:00 <br />title: k8s安装ingress-nginx<br />tags: [k8s, node] <br />categories: [k8s]\n\n---\n\n<a name=\"CElnx\"></a>\n# 安装ingress nginx\n官网地址：[安装ingress-nginx教程](https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_index)<br />k8s版本:1.18<br />ingress 版本: 0.30<br />因 ingress1.0以上版本至少需要k8s 1.19以上版本\n```\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/mandatory.yaml\n```\n有需要可以自己下载部署文件修改以后手动部署\n<a name=\"E3BEc\"></a>\n### 提供服务（自建服务器）\n官网地址：[裸机提供服务方法](https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_baremetal)\n<a name=\"pqirJ\"></a>\n##### 基于nodeport\n注意namespace与ingress-nginx保持一致\n```\nkubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/provider/baremetal/service-nodeport.yaml\n```\nnodePort的部署思路就是通过在每个节点上开辟nodePort的端口，将流量引入进来，而后通过iptables首先转发到ingress-controller容器中，而后由nginx根据ingress的规则进行判断，将其转发到对应的应用web容器中\n<a name=\"E6S9H\"></a>\n##### 基于 hostNetwork\n可以修改之前部署的pod文件添加以下配置\n```\ntemplate:\n  spec:\n    hostNetwork: true\n```\nhostNetwork模式不再需要创建一个nodePort的svc，而是直接在每个节点都创建一个ingress-controller的容器，而且将该容器的网络模式设为hostNetwork。也就是说每个节点物理机的80和443端口将会被ingress-controller中的nginx容器占用。当流量通过80/443端口进入时，将直接进入到nginx中。而后nginx根据ingress规则再将流量转发到对应的web应用容器中。\n<a name=\"uyLZj\"></a>\n#### 两种部署方式的比较\n相比较起来，nodePort部署模式中需要部署的ingress-controller容器较少。一个集群可以部署几个就可以了。而hostNetwork模式需要在每个节点部署一个ingress-controller容器，因此总起来消耗资源较多。另外一个比较直观的区别，nodePort模式主要占用的是svc的nodePort端口。而hostNetwork则需要占用物理机的80和443端口。<br />从网络流转来说，通过nodePort访问时，该node节点不一定部署了ingress-controller容器。因此还需要iptables将其转发到部署有ingress-controller的节点上去，多了一层流转。<br />另外，通过nodePort访问时，nginx接收到的http请求中的source ip将会被转换为接受该请求的node节点的ip，而非真正的client端ip。<br />而使用hostNetwork的方式，ingress-controller将会使用的是物理机的DNS域名解析(即物理机的/etc/resolv.conf)。而无法使用内部的比如coredns的域名解析。<br />因此具体使用哪种部署方式，需要根据实际情况和需求进行选择。\n<a name=\"CSIi8\"></a>\n### 编写ingress\n```\napiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: test-ingress\nspec:\n  rules:\n  - host: www.test.com\n    http:\n      paths:\n      - path: /\n        backend:\n          service:\n            name: test-backend\n            port:\n              number: 8080\n```\n<a name=\"PT7EA\"></a>\n# 测试\n可以先手动修改hosts\n```\n192.168.1.101 www.test.com\n```\n```\nkubectl apply -f test-ingress.yaml\n```\n最后打开浏览器访问 www.test.com即可完成测试\n\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"PXo1e\" class=\"ne-hr\"><p id=\"683f4317ca8696a3b415ef6d908bfce2\" class=\"ne-p\"><span class=\"ne-text\">date: 2022-11-13 10:10:32+00:00 </span></p><p id=\"82d01be924d8ae6638461be1f8df2c19\" class=\"ne-p\"><span class=\"ne-text\">title: k8s安装ingress-nginx</span></p><p id=\"u883b2d56\" class=\"ne-p\"><span class=\"ne-text\">tags: [k8s, node] </span></p><p id=\"ufb050d5d\" class=\"ne-p\"><span class=\"ne-text\">categories: [k8s]</span></p><hr id=\"y4UGi\" class=\"ne-hr\"><h1 id=\"CElnx\"><span class=\"ne-text\">安装ingress nginx</span></h1><p id=\"7e53a5f144c627b55651e11d24974a3d\" class=\"ne-p\"><span class=\"ne-text\">官网地址：</span><a href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_index\" data-href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_index\" class=\"ne-link\"><span class=\"ne-text\">安装ingress-nginx教程</span></a></p><p id=\"f6c8115da0ab44699ccb738ddd937607\" class=\"ne-p\"><span class=\"ne-text\">k8s版本:1.18</span></p><p id=\"926add7b352f29045cea1827a5e87a34\" class=\"ne-p\"><span class=\"ne-text\">ingress 版本: 0.30</span></p><p id=\"d5a128e1bfdbbe9d65b51a6dc18652bb\" class=\"ne-p\"><span class=\"ne-text\">因 ingress1.0以上版本至少需要k8s 1.19以上版本</span></p><pre data-language=\"plain\" id=\"R4VCr\" class=\"ne-codeblock language-plain\">kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/mandatory.yaml</pre><p id=\"d8b4fe46bc8188de81343fdae034d5d2\" class=\"ne-p\"><span class=\"ne-text\">有需要可以自己下载部署文件修改以后手动部署</span></p><h3 id=\"E3BEc\"><span class=\"ne-text\">提供服务（自建服务器）</span></h3><p id=\"1ecc5366560097638bb4f56d15b06cf7\" class=\"ne-p\"><span class=\"ne-text\">官网地址：</span><a href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_baremetal\" data-href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_baremetal\" class=\"ne-link\"><span class=\"ne-text\">裸机提供服务方法</span></a></p><h5 id=\"pqirJ\"><span class=\"ne-text\">基于nodeport</span></h5><p id=\"57e6990f7fca9fad52725fa5f72e73bd\" class=\"ne-p\"><span class=\"ne-text\">注意namespace与ingress-nginx保持一致</span></p><pre data-language=\"plain\" id=\"D7C4t\" class=\"ne-codeblock language-plain\">kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/nginx-0.30.0/deploy/static/provider/baremetal/service-nodeport.yaml</pre><p id=\"165cdb30fe0bd17cac484fa7406bb819\" class=\"ne-p\"><span class=\"ne-text\">nodePort的部署思路就是通过在每个节点上开辟nodePort的端口，将流量引入进来，而后通过iptables首先转发到ingress-controller容器中，而后由nginx根据ingress的规则进行判断，将其转发到对应的应用web容器中</span></p><h5 id=\"E6S9H\"><span class=\"ne-text\">基于 hostNetwork</span></h5><p id=\"dd9aebe237175f60ead8db59e2fd6c9b\" class=\"ne-p\"><span class=\"ne-text\">可以修改之前部署的pod文件添加以下配置</span></p><pre data-language=\"plain\" id=\"sUvzS\" class=\"ne-codeblock language-plain\">template:\n  spec:\n    hostNetwork: true</pre><p id=\"a0656e0420e514c341c77017587d5af4\" class=\"ne-p\"><span class=\"ne-text\">hostNetwork模式不再需要创建一个nodePort的svc，而是直接在每个节点都创建一个ingress-controller的容器，而且将该容器的网络模式设为hostNetwork。也就是说每个节点物理机的80和443端口将会被ingress-controller中的nginx容器占用。当流量通过80/443端口进入时，将直接进入到nginx中。而后nginx根据ingress规则再将流量转发到对应的web应用容器中。</span></p><h4 id=\"uyLZj\"><span class=\"ne-text\">两种部署方式的比较</span></h4><p id=\"a1914bbcc3f8593e9c5334cbd8b8f09c\" class=\"ne-p\"><span class=\"ne-text\">相比较起来，nodePort部署模式中需要部署的ingress-controller容器较少。一个集群可以部署几个就可以了。而hostNetwork模式需要在每个节点部署一个ingress-controller容器，因此总起来消耗资源较多。另外一个比较直观的区别，nodePort模式主要占用的是svc的nodePort端口。而hostNetwork则需要占用物理机的80和443端口。</span></p><p id=\"286211147c86e462e361b9c507b74c4d\" class=\"ne-p\"><span class=\"ne-text\">从网络流转来说，通过nodePort访问时，该node节点不一定部署了ingress-controller容器。因此还需要iptables将其转发到部署有ingress-controller的节点上去，多了一层流转。</span></p><p id=\"591031b81e1af95dbac6cd40f27a09c2\" class=\"ne-p\"><span class=\"ne-text\">另外，通过nodePort访问时，nginx接收到的http请求中的source ip将会被转换为接受该请求的node节点的ip，而非真正的client端ip。</span></p><p id=\"6d1c76b83b3ccc0a1df046314b0823db\" class=\"ne-p\"><span class=\"ne-text\">而使用hostNetwork的方式，ingress-controller将会使用的是物理机的DNS域名解析(即物理机的/etc/resolv.conf)。而无法使用内部的比如coredns的域名解析。</span></p><p id=\"c9fd790c560cff8641bbdd13cc373657\" class=\"ne-p\"><span class=\"ne-text\">因此具体使用哪种部署方式，需要根据实际情况和需求进行选择。</span></p><h3 id=\"CSIi8\"><span class=\"ne-text\">编写ingress</span></h3><pre data-language=\"plain\" id=\"hwFSO\" class=\"ne-codeblock language-plain\">apiVersion: networking.k8s.io/v1\nkind: Ingress\nmetadata:\n  name: test-ingress\nspec:\n  rules:\n  - host: www.test.com\n    http:\n      paths:\n      - path: /\n        backend:\n          service:\n            name: test-backend\n            port:\n              number: 8080</pre><h1 id=\"PT7EA\"><span class=\"ne-text\">测试</span></h1><p id=\"1533066487349da1cdb478b8fc554186\" class=\"ne-p\"><span class=\"ne-text\">可以先手动修改hosts</span></p><pre data-language=\"plain\" id=\"ywEeW\" class=\"ne-codeblock language-plain\">192.168.1.101 www.test.com</pre><pre data-language=\"plain\" id=\"yllCO\" class=\"ne-codeblock language-plain\">kubectl apply -f test-ingress.yaml</pre><p id=\"dc6e0b8b952bcc2a21a2de58eb700c3c\" class=\"ne-p\"><span class=\"ne-text\">最后打开浏览器访问 www.test.com即可完成测试</span></p><p id=\"ue225b523\" class=\"ne-p\"><span class=\"ne-text\"></span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22PXo1e%22%7D\"></card><p data-lake-id=\"683f4317ca8696a3b415ef6d908bfce2\" id=\"683f4317ca8696a3b415ef6d908bfce2\"><span data-lake-id=\"u7bbc272b\" id=\"u7bbc272b\">date: 2022-11-13 10:10:32+00:00 </span></p><p data-lake-id=\"82d01be924d8ae6638461be1f8df2c19\" id=\"82d01be924d8ae6638461be1f8df2c19\"><span data-lake-id=\"ufa043594\" id=\"ufa043594\">title: k8s安装ingress-nginx</span></p><p data-lake-id=\"u883b2d56\" id=\"u883b2d56\"><span data-lake-id=\"u9124a5e5\" id=\"u9124a5e5\">tags: [k8s, node] </span></p><p data-lake-id=\"ufb050d5d\" id=\"ufb050d5d\"><span data-lake-id=\"udc5f3654\" id=\"udc5f3654\">categories: [k8s]</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22y4UGi%22%7D\"></card><h1 data-lake-id=\"CElnx\" id=\"CElnx\"><span data-lake-id=\"u4a943275\" id=\"u4a943275\">安装ingress nginx</span></h1><p data-lake-id=\"7e53a5f144c627b55651e11d24974a3d\" id=\"7e53a5f144c627b55651e11d24974a3d\"><span data-lake-id=\"u108b71fb\" id=\"u108b71fb\">官网地址：</span><a href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_index\" data-lake-id=\"u0f6a59b7\" id=\"u0f6a59b7\"><span data-lake-id=\"u8d30c9be\" id=\"u8d30c9be\">安装ingress-nginx教程</span></a></p><p data-lake-id=\"f6c8115da0ab44699ccb738ddd937607\" id=\"f6c8115da0ab44699ccb738ddd937607\"><span data-lake-id=\"uc9b869e2\" id=\"uc9b869e2\">k8s版本:1.18</span></p><p data-lake-id=\"926add7b352f29045cea1827a5e87a34\" id=\"926add7b352f29045cea1827a5e87a34\"><span data-lake-id=\"u5b944487\" id=\"u5b944487\">ingress 版本: 0.30</span></p><p data-lake-id=\"d5a128e1bfdbbe9d65b51a6dc18652bb\" id=\"d5a128e1bfdbbe9d65b51a6dc18652bb\"><span data-lake-id=\"udda54dc9\" id=\"udda54dc9\">因 ingress1.0以上版本至少需要k8s 1.19以上版本</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22kubectl%20apply%20-f%20https%3A%2F%2Fraw.githubusercontent.com%2Fkubernetes%2Fingress-nginx%2Fnginx-0.30.0%2Fdeploy%2Fstatic%2Fmandatory.yaml%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22R4VCr%22%7D\"></card><p data-lake-id=\"d8b4fe46bc8188de81343fdae034d5d2\" id=\"d8b4fe46bc8188de81343fdae034d5d2\"><span data-lake-id=\"u95223c4b\" id=\"u95223c4b\">有需要可以自己下载部署文件修改以后手动部署</span></p><h3 data-lake-id=\"E3BEc\" id=\"E3BEc\"><span data-lake-id=\"u6e1f85d1\" id=\"u6e1f85d1\">提供服务（自建服务器）</span></h3><p data-lake-id=\"1ecc5366560097638bb4f56d15b06cf7\" id=\"1ecc5366560097638bb4f56d15b06cf7\"><span data-lake-id=\"u65c2ec6d\" id=\"u65c2ec6d\">官网地址：</span><a href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_baremetal\" data-lake-id=\"uf1bff155\" id=\"uf1bff155\"><span data-lake-id=\"uac9c1aaf\" id=\"uac9c1aaf\">裸机提供服务方法</span></a></p><h5 data-lake-id=\"pqirJ\" id=\"pqirJ\"><span data-lake-id=\"ud8204c50\" id=\"ud8204c50\">基于nodeport</span></h5><p data-lake-id=\"57e6990f7fca9fad52725fa5f72e73bd\" id=\"57e6990f7fca9fad52725fa5f72e73bd\"><span data-lake-id=\"u19afdcde\" id=\"u19afdcde\">注意namespace与ingress-nginx保持一致</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22kubectl%20apply%20-f%20https%3A%2F%2Fraw.githubusercontent.com%2Fkubernetes%2Fingress-nginx%2Fnginx-0.30.0%2Fdeploy%2Fstatic%2Fprovider%2Fbaremetal%2Fservice-nodeport.yaml%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22D7C4t%22%7D\"></card><p data-lake-id=\"165cdb30fe0bd17cac484fa7406bb819\" id=\"165cdb30fe0bd17cac484fa7406bb819\"><span data-lake-id=\"u9c0cf415\" id=\"u9c0cf415\">nodePort的部署思路就是通过在每个节点上开辟nodePort的端口，将流量引入进来，而后通过iptables首先转发到ingress-controller容器中，而后由nginx根据ingress的规则进行判断，将其转发到对应的应用web容器中</span></p><h5 data-lake-id=\"E6S9H\" id=\"E6S9H\"><span data-lake-id=\"u7d65012c\" id=\"u7d65012c\">基于 hostNetwork</span></h5><p data-lake-id=\"dd9aebe237175f60ead8db59e2fd6c9b\" id=\"dd9aebe237175f60ead8db59e2fd6c9b\"><span data-lake-id=\"ue4b13db0\" id=\"ue4b13db0\">可以修改之前部署的pod文件添加以下配置</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22template%3A%5Cn%20%20spec%3A%5Cn%20%20%20%20hostNetwork%3A%20true%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22sUvzS%22%7D\"></card><p data-lake-id=\"a0656e0420e514c341c77017587d5af4\" id=\"a0656e0420e514c341c77017587d5af4\"><span data-lake-id=\"u23f1485a\" id=\"u23f1485a\">hostNetwork模式不再需要创建一个nodePort的svc，而是直接在每个节点都创建一个ingress-controller的容器，而且将该容器的网络模式设为hostNetwork。也就是说每个节点物理机的80和443端口将会被ingress-controller中的nginx容器占用。当流量通过80/443端口进入时，将直接进入到nginx中。而后nginx根据ingress规则再将流量转发到对应的web应用容器中。</span></p><h4 data-lake-id=\"uyLZj\" id=\"uyLZj\"><span data-lake-id=\"u8bdbe6b8\" id=\"u8bdbe6b8\">两种部署方式的比较</span></h4><p data-lake-id=\"a1914bbcc3f8593e9c5334cbd8b8f09c\" id=\"a1914bbcc3f8593e9c5334cbd8b8f09c\"><span data-lake-id=\"u2b1a8964\" id=\"u2b1a8964\">相比较起来，nodePort部署模式中需要部署的ingress-controller容器较少。一个集群可以部署几个就可以了。而hostNetwork模式需要在每个节点部署一个ingress-controller容器，因此总起来消耗资源较多。另外一个比较直观的区别，nodePort模式主要占用的是svc的nodePort端口。而hostNetwork则需要占用物理机的80和443端口。</span></p><p data-lake-id=\"286211147c86e462e361b9c507b74c4d\" id=\"286211147c86e462e361b9c507b74c4d\"><span data-lake-id=\"u030ca4ae\" id=\"u030ca4ae\">从网络流转来说，通过nodePort访问时，该node节点不一定部署了ingress-controller容器。因此还需要iptables将其转发到部署有ingress-controller的节点上去，多了一层流转。</span></p><p data-lake-id=\"591031b81e1af95dbac6cd40f27a09c2\" id=\"591031b81e1af95dbac6cd40f27a09c2\"><span data-lake-id=\"u21276caf\" id=\"u21276caf\">另外，通过nodePort访问时，nginx接收到的http请求中的source ip将会被转换为接受该请求的node节点的ip，而非真正的client端ip。</span></p><p data-lake-id=\"6d1c76b83b3ccc0a1df046314b0823db\" id=\"6d1c76b83b3ccc0a1df046314b0823db\"><span data-lake-id=\"u949b9d9f\" id=\"u949b9d9f\">而使用hostNetwork的方式，ingress-controller将会使用的是物理机的DNS域名解析(即物理机的/etc/resolv.conf)。而无法使用内部的比如coredns的域名解析。</span></p><p data-lake-id=\"c9fd790c560cff8641bbdd13cc373657\" id=\"c9fd790c560cff8641bbdd13cc373657\"><span data-lake-id=\"uabdb0508\" id=\"uabdb0508\">因此具体使用哪种部署方式，需要根据实际情况和需求进行选择。</span></p><h3 data-lake-id=\"CSIi8\" id=\"CSIi8\"><span data-lake-id=\"u0912d43c\" id=\"u0912d43c\">编写ingress</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22apiVersion%3A%20networking.k8s.io%2Fv1%5Cnkind%3A%20Ingress%5Cnmetadata%3A%5Cn%20%20name%3A%20test-ingress%5Cnspec%3A%5Cn%20%20rules%3A%5Cn%20%20-%20host%3A%20www.test.com%5Cn%20%20%20%20http%3A%5Cn%20%20%20%20%20%20paths%3A%5Cn%20%20%20%20%20%20-%20path%3A%20%2F%5Cn%20%20%20%20%20%20%20%20backend%3A%5Cn%20%20%20%20%20%20%20%20%20%20service%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20test-backend%5Cn%20%20%20%20%20%20%20%20%20%20%20%20port%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20number%3A%208080%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22hwFSO%22%7D\"></card><h1 data-lake-id=\"PT7EA\" id=\"PT7EA\"><span data-lake-id=\"u6c2817c5\" id=\"u6c2817c5\">测试</span></h1><p data-lake-id=\"1533066487349da1cdb478b8fc554186\" id=\"1533066487349da1cdb478b8fc554186\"><span data-lake-id=\"ud1a975f8\" id=\"ud1a975f8\">可以先手动修改hosts</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22192.168.1.101%20www.test.com%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ywEeW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22kubectl%20apply%20-f%20test-ingress.yaml%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22yllCO%22%7D\"></card><p data-lake-id=\"dc6e0b8b952bcc2a21a2de58eb700c3c\" id=\"dc6e0b8b952bcc2a21a2de58eb700c3c\"><span data-lake-id=\"udab5b83a\" id=\"udab5b83a\">最后打开浏览器访问 www.test.com即可完成测试</span></p><p data-lake-id=\"ue225b523\" id=\"ue225b523\"><span data-lake-id=\"u3233b339\" id=\"u3233b339\">​</span><br></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22PXo1e%22%7D\"></card><p data-lake-id=\"683f4317ca8696a3b415ef6d908bfce2\" id=\"683f4317ca8696a3b415ef6d908bfce2\"><span data-lake-id=\"u7bbc272b\" id=\"u7bbc272b\">date: 2022-11-13 10:10:32+00:00 </span></p><p data-lake-id=\"82d01be924d8ae6638461be1f8df2c19\" id=\"82d01be924d8ae6638461be1f8df2c19\"><span data-lake-id=\"ufa043594\" id=\"ufa043594\">title: k8s安装ingress-nginx</span></p><p data-lake-id=\"u883b2d56\" id=\"u883b2d56\"><span data-lake-id=\"u9124a5e5\" id=\"u9124a5e5\">tags: [k8s, node] </span></p><p data-lake-id=\"ufb050d5d\" id=\"ufb050d5d\"><span data-lake-id=\"udc5f3654\" id=\"udc5f3654\">categories: [k8s]</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22y4UGi%22%7D\"></card><h1 data-lake-id=\"CElnx\" id=\"CElnx\"><span data-lake-id=\"u4a943275\" id=\"u4a943275\">安装ingress nginx</span></h1><p data-lake-id=\"7e53a5f144c627b55651e11d24974a3d\" id=\"7e53a5f144c627b55651e11d24974a3d\"><span data-lake-id=\"u108b71fb\" id=\"u108b71fb\">官网地址：</span><a href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_index\" data-lake-id=\"u0f6a59b7\" id=\"u0f6a59b7\"><span data-lake-id=\"u8d30c9be\" id=\"u8d30c9be\">安装ingress-nginx教程</span></a></p><p data-lake-id=\"f6c8115da0ab44699ccb738ddd937607\" id=\"f6c8115da0ab44699ccb738ddd937607\"><span data-lake-id=\"uc9b869e2\" id=\"uc9b869e2\">k8s版本:1.18</span></p><p data-lake-id=\"926add7b352f29045cea1827a5e87a34\" id=\"926add7b352f29045cea1827a5e87a34\"><span data-lake-id=\"u5b944487\" id=\"u5b944487\">ingress 版本: 0.30</span></p><p data-lake-id=\"d5a128e1bfdbbe9d65b51a6dc18652bb\" id=\"d5a128e1bfdbbe9d65b51a6dc18652bb\"><span data-lake-id=\"udda54dc9\" id=\"udda54dc9\">因 ingress1.0以上版本至少需要k8s 1.19以上版本</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22kubectl%20apply%20-f%20https%3A%2F%2Fraw.githubusercontent.com%2Fkubernetes%2Fingress-nginx%2Fnginx-0.30.0%2Fdeploy%2Fstatic%2Fmandatory.yaml%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22R4VCr%22%7D\"></card><p data-lake-id=\"d8b4fe46bc8188de81343fdae034d5d2\" id=\"d8b4fe46bc8188de81343fdae034d5d2\"><span data-lake-id=\"u95223c4b\" id=\"u95223c4b\">有需要可以自己下载部署文件修改以后手动部署</span></p><h3 data-lake-id=\"E3BEc\" id=\"E3BEc\"><span data-lake-id=\"u6e1f85d1\" id=\"u6e1f85d1\">提供服务（自建服务器）</span></h3><p data-lake-id=\"1ecc5366560097638bb4f56d15b06cf7\" id=\"1ecc5366560097638bb4f56d15b06cf7\"><span data-lake-id=\"u65c2ec6d\" id=\"u65c2ec6d\">官网地址：</span><a href=\"https:_github.com_kubernetes_ingress-nginx_blob_nginx-0.30.0_docs_deploy_baremetal\" data-lake-id=\"uf1bff155\" id=\"uf1bff155\"><span data-lake-id=\"uac9c1aaf\" id=\"uac9c1aaf\">裸机提供服务方法</span></a></p><h5 data-lake-id=\"pqirJ\" id=\"pqirJ\"><span data-lake-id=\"ud8204c50\" id=\"ud8204c50\">基于nodeport</span></h5><p data-lake-id=\"57e6990f7fca9fad52725fa5f72e73bd\" id=\"57e6990f7fca9fad52725fa5f72e73bd\"><span data-lake-id=\"u19afdcde\" id=\"u19afdcde\">注意namespace与ingress-nginx保持一致</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22kubectl%20apply%20-f%20https%3A%2F%2Fraw.githubusercontent.com%2Fkubernetes%2Fingress-nginx%2Fnginx-0.30.0%2Fdeploy%2Fstatic%2Fprovider%2Fbaremetal%2Fservice-nodeport.yaml%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22D7C4t%22%7D\"></card><p data-lake-id=\"165cdb30fe0bd17cac484fa7406bb819\" id=\"165cdb30fe0bd17cac484fa7406bb819\"><span data-lake-id=\"u9c0cf415\" id=\"u9c0cf415\">nodePort的部署思路就是通过在每个节点上开辟nodePort的端口，将流量引入进来，而后通过iptables首先转发到ingress-controller容器中，而后由nginx根据ingress的规则进行判断，将其转发到对应的应用web容器中</span></p><h5 data-lake-id=\"E6S9H\" id=\"E6S9H\"><span data-lake-id=\"u7d65012c\" id=\"u7d65012c\">基于 hostNetwork</span></h5><p data-lake-id=\"dd9aebe237175f60ead8db59e2fd6c9b\" id=\"dd9aebe237175f60ead8db59e2fd6c9b\"><span data-lake-id=\"ue4b13db0\" id=\"ue4b13db0\">可以修改之前部署的pod文件添加以下配置</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22template%3A%5Cn%20%20spec%3A%5Cn%20%20%20%20hostNetwork%3A%20true%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22sUvzS%22%7D\"></card><p data-lake-id=\"a0656e0420e514c341c77017587d5af4\" id=\"a0656e0420e514c341c77017587d5af4\"><span data-lake-id=\"u23f1485a\" id=\"u23f1485a\">hostNetwork模式不再需要创建一个nodePort的svc，而是直接在每个节点都创建一个ingress-controller的容器，而且将该容器的网络模式设为hostNetwork。也就是说每个节点物理机的80和443端口将会被ingress-controller中的nginx容器占用。当流量通过80/443端口进入时，将直接进入到nginx中。而后nginx根据ingress规则再将流量转发到对应的web应用容器中。</span></p><h4 data-lake-id=\"uyLZj\" id=\"uyLZj\"><span data-lake-id=\"u8bdbe6b8\" id=\"u8bdbe6b8\">两种部署方式的比较</span></h4><p data-lake-id=\"a1914bbcc3f8593e9c5334cbd8b8f09c\" id=\"a1914bbcc3f8593e9c5334cbd8b8f09c\"><span data-lake-id=\"u2b1a8964\" id=\"u2b1a8964\">相比较起来，nodePort部署模式中需要部署的ingress-controller容器较少。一个集群可以部署几个就可以了。而hostNetwork模式需要在每个节点部署一个ingress-controller容器，因此总起来消耗资源较多。另外一个比较直观的区别，nodePort模式主要占用的是svc的nodePort端口。而hostNetwork则需要占用物理机的80和443端口。</span></p><p data-lake-id=\"286211147c86e462e361b9c507b74c4d\" id=\"286211147c86e462e361b9c507b74c4d\"><span data-lake-id=\"u030ca4ae\" id=\"u030ca4ae\">从网络流转来说，通过nodePort访问时，该node节点不一定部署了ingress-controller容器。因此还需要iptables将其转发到部署有ingress-controller的节点上去，多了一层流转。</span></p><p data-lake-id=\"591031b81e1af95dbac6cd40f27a09c2\" id=\"591031b81e1af95dbac6cd40f27a09c2\"><span data-lake-id=\"u21276caf\" id=\"u21276caf\">另外，通过nodePort访问时，nginx接收到的http请求中的source ip将会被转换为接受该请求的node节点的ip，而非真正的client端ip。</span></p><p data-lake-id=\"6d1c76b83b3ccc0a1df046314b0823db\" id=\"6d1c76b83b3ccc0a1df046314b0823db\"><span data-lake-id=\"u949b9d9f\" id=\"u949b9d9f\">而使用hostNetwork的方式，ingress-controller将会使用的是物理机的DNS域名解析(即物理机的/etc/resolv.conf)。而无法使用内部的比如coredns的域名解析。</span></p><p data-lake-id=\"c9fd790c560cff8641bbdd13cc373657\" id=\"c9fd790c560cff8641bbdd13cc373657\"><span data-lake-id=\"uabdb0508\" id=\"uabdb0508\">因此具体使用哪种部署方式，需要根据实际情况和需求进行选择。</span></p><h3 data-lake-id=\"CSIi8\" id=\"CSIi8\"><span data-lake-id=\"u0912d43c\" id=\"u0912d43c\">编写ingress</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22apiVersion%3A%20networking.k8s.io%2Fv1%5Cnkind%3A%20Ingress%5Cnmetadata%3A%5Cn%20%20name%3A%20test-ingress%5Cnspec%3A%5Cn%20%20rules%3A%5Cn%20%20-%20host%3A%20www.test.com%5Cn%20%20%20%20http%3A%5Cn%20%20%20%20%20%20paths%3A%5Cn%20%20%20%20%20%20-%20path%3A%20%2F%5Cn%20%20%20%20%20%20%20%20backend%3A%5Cn%20%20%20%20%20%20%20%20%20%20service%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20name%3A%20test-backend%5Cn%20%20%20%20%20%20%20%20%20%20%20%20port%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20number%3A%208080%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22hwFSO%22%7D\"></card><h1 data-lake-id=\"PT7EA\" id=\"PT7EA\"><span data-lake-id=\"u6c2817c5\" id=\"u6c2817c5\">测试</span></h1><p data-lake-id=\"1533066487349da1cdb478b8fc554186\" id=\"1533066487349da1cdb478b8fc554186\"><span data-lake-id=\"ud1a975f8\" id=\"ud1a975f8\">可以先手动修改hosts</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22192.168.1.101%20www.test.com%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ywEeW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22kubectl%20apply%20-f%20test-ingress.yaml%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22yllCO%22%7D\"></card><p data-lake-id=\"dc6e0b8b952bcc2a21a2de58eb700c3c\" id=\"dc6e0b8b952bcc2a21a2de58eb700c3c\"><span data-lake-id=\"udab5b83a\" id=\"udab5b83a\">最后打开浏览器访问 www.test.com即可完成测试</span></p><p data-lake-id=\"ue225b523\" id=\"ue225b523\"><span data-lake-id=\"u3233b339\" id=\"u3233b339\">​</span><br></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-12T02:03:41.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:34.000Z",
    "updated_at": "2022-12-12T02:03:52.000Z",
    "published_at": "2022-12-12T02:03:41.000Z",
    "first_published_at": "2022-12-09T12:02:33.735Z",
    "word_count": 706,
    "cover": null,
    "description": "date: 2022-11-13 10:10:32+00:00 title: k8s安装ingress-nginxtags: [k8s, node] categories: [k8s]安装ingress nginx官网地址：安装ingress-nginx教程k8s版本:1.18ingress ...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945053,
    "slug": "cb2b07a79cf3b8365bfd77d6d6306e10",
    "title": "2019-07-06-基于docker自建gitlab",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2019-07-06 10:10:32+00:00<br />layout: post<br />title: 基于docker自建gitlab<br />categories: [docker]<br />tags: [gitlab]\n\n---\n\n<a name=\"jTFlg\"></a>\n# gitlab_install\n记录gitlab安装过程\n<a name=\"K3F4G\"></a>\n# 安装docker\n官网地址：[安装docker-ce centos教程](https://docs.docker.com/install/linux/docker-ce/centos/)\n<a name=\"ne4kV\"></a>\n### 卸载旧版本\n```\n$ sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n```\n<a name=\"QUAaz\"></a>\n## 安装Docker CE\n<a name=\"dOWzK\"></a>\n### 添加存储库\n```\n$ sudo yum install -y yum-utils \\\n  device-mapper-persistent-data \\\n  lvm2\n```\n```\n$ sudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n```\n_备注_：如果失败看要修改镜像地址为[https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo](https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo)\n```\n$ sudo yum-config-manager --enable docker-ce-edge\n$ sudo yum-config-manager --enable docker-ce-test\n```\n<a name=\"UUSr6\"></a>\n### 安装docker ce\n```\n$ sudo yum install docker-ce\n$ sudo systemctl start docker\n# 确认docker是否安装成功\n$ sudo docker run hello-world\n```\n<a name=\"aJvrx\"></a>\n# 安装gitlab centos docker版\n官网地址：[gitlab docker安装](https:_docs.gitlab.com_omnibus_docker_readme)\n```\nsudo docker run --detach \\\n\t--hostname gitlab.example.com \\\n\t--publish 443:443 --publish 80:80 --publish 2222:22 \\\n\t--name gitlab \\\n\t--restart always \\\n\t--volume /srv/gitlab/config:/etc/gitlab \\\n\t--volume /srv/gitlab/logs:/var/log/gitlab \\\n\t--volume /srv/gitlab/data:/var/opt/gitlab \\\n\tgitlab/gitlab-ce:latest\n```\n_备注_：默认镜像下载较慢，可更换<br />编辑 /etc/docker/deamon.json,也可自行选择其他加速地址。\n<a name=\"AXUEi\"></a>\n## 备份与恢复\n官网地址：[gitlab备份恢复](https:_docs.gitlab.com_ce_raketasks_backup_restore)\n```\n# 备份\nsudo docker exec -t gitlab gitlab-rake gitlab:backup:create\n# 恢复\nsudo docker exec -it gitlab gitlab-rake gitlab:backup:restore\n```\n_备注_：gitlab需与备份版本相同（当前版本latest 11.6.3）\n",
    "body_draft": "---\n\ndate: 2019-07-06 10:10:32+00:00<br />layout: post<br />title: 基于docker自建gitlab<br />categories: [docker]<br />tags: [gitlab]\n\n---\n\n<a name=\"jTFlg\"></a>\n# gitlab_install\n记录gitlab安装过程\n<a name=\"K3F4G\"></a>\n# 安装docker\n官网地址：[安装docker-ce centos教程](https://docs.docker.com/install/linux/docker-ce/centos/)\n<a name=\"ne4kV\"></a>\n### 卸载旧版本\n```\n$ sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine\n```\n<a name=\"QUAaz\"></a>\n## 安装Docker CE\n<a name=\"dOWzK\"></a>\n### 添加存储库\n```\n$ sudo yum install -y yum-utils \\\n  device-mapper-persistent-data \\\n  lvm2\n```\n```\n$ sudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo\n```\n_备注_：如果失败看要修改镜像地址为[https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo](https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo)\n```\n$ sudo yum-config-manager --enable docker-ce-edge\n$ sudo yum-config-manager --enable docker-ce-test\n```\n<a name=\"UUSr6\"></a>\n### 安装docker ce\n```\n$ sudo yum install docker-ce\n$ sudo systemctl start docker\n# 确认docker是否安装成功\n$ sudo docker run hello-world\n```\n<a name=\"aJvrx\"></a>\n# 安装gitlab centos docker版\n官网地址：[gitlab docker安装](https:_docs.gitlab.com_omnibus_docker_readme)\n```\nsudo docker run --detach \\\n\t--hostname gitlab.example.com \\\n\t--publish 443:443 --publish 80:80 --publish 2222:22 \\\n\t--name gitlab \\\n\t--restart always \\\n\t--volume /srv/gitlab/config:/etc/gitlab \\\n\t--volume /srv/gitlab/logs:/var/log/gitlab \\\n\t--volume /srv/gitlab/data:/var/opt/gitlab \\\n\tgitlab/gitlab-ce:latest\n```\n_备注_：默认镜像下载较慢，可更换<br />编辑 /etc/docker/deamon.json,也可自行选择其他加速地址。\n<a name=\"AXUEi\"></a>\n## 备份与恢复\n官网地址：[gitlab备份恢复](https:_docs.gitlab.com_ce_raketasks_backup_restore)\n```\n# 备份\nsudo docker exec -t gitlab gitlab-rake gitlab:backup:create\n# 恢复\nsudo docker exec -it gitlab gitlab-rake gitlab:backup:restore\n```\n_备注_：gitlab需与备份版本相同（当前版本latest 11.6.3）\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"BUdKn\" class=\"ne-hr\"><p id=\"78c717d5bc3ca1bede4a7358cc7b1e8e\" class=\"ne-p\"><span class=\"ne-text\">date: 2019-07-06 10:10:32+00:00</span></p><p id=\"34a942ce49675c52b81b4b26e4e114d0\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"9f4ca827950b7afbf773270b11f3d20d\" class=\"ne-p\"><span class=\"ne-text\">title: 基于docker自建gitlab</span></p><p id=\"ced9e73d53b1e041736fca18d1647620\" class=\"ne-p\"><span class=\"ne-text\">categories: [docker]</span></p><p id=\"9dd8baeb9bc91ae271c7a4da0928f94b\" class=\"ne-p\"><span class=\"ne-text\">tags: [gitlab]</span></p><hr id=\"i0PD7\" class=\"ne-hr\"><h1 id=\"jTFlg\"><span class=\"ne-text\">gitlab_install</span></h1><p id=\"f30254d05eb6af7ffd9f13edeaf59e4a\" class=\"ne-p\"><span class=\"ne-text\">记录gitlab安装过程</span></p><h1 id=\"K3F4G\"><span class=\"ne-text\">安装docker</span></h1><p id=\"8c229575123da2adc1dddb399c71fdcf\" class=\"ne-p\"><span class=\"ne-text\">官网地址：</span><a href=\"https://docs.docker.com/install/linux/docker-ce/centos/\" data-href=\"https://docs.docker.com/install/linux/docker-ce/centos/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">安装docker-ce centos教程</span></a></p><h3 id=\"ne4kV\"><span class=\"ne-text\">卸载旧版本</span></h3><pre data-language=\"plain\" id=\"2BYCd\" class=\"ne-codeblock language-plain\">$ sudo yum remove docker \\\n                  docker-client \\\n                  docker-client-latest \\\n                  docker-common \\\n                  docker-latest \\\n                  docker-latest-logrotate \\\n                  docker-logrotate \\\n                  docker-selinux \\\n                  docker-engine-selinux \\\n                  docker-engine</pre><h2 id=\"QUAaz\"><span class=\"ne-text\">安装Docker CE</span></h2><h3 id=\"dOWzK\"><span class=\"ne-text\">添加存储库</span></h3><pre data-language=\"plain\" id=\"3i5Zd\" class=\"ne-codeblock language-plain\">$ sudo yum install -y yum-utils \\\n  device-mapper-persistent-data \\\n  lvm2</pre><pre data-language=\"plain\" id=\"XsWZ2\" class=\"ne-codeblock language-plain\">$ sudo yum-config-manager \\\n    --add-repo \\\n    https://download.docker.com/linux/centos/docker-ce.repo</pre><p id=\"4e1eefd8ef612d845d2544a13ebf443f\" class=\"ne-p\"><em><span class=\"ne-text\">备注</span></em><span class=\"ne-text\">：如果失败看要修改镜像地址为</span><a href=\"https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo\" data-href=\"https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo</span></a></p><pre data-language=\"plain\" id=\"j6q2z\" class=\"ne-codeblock language-plain\">$ sudo yum-config-manager --enable docker-ce-edge\n$ sudo yum-config-manager --enable docker-ce-test</pre><h3 id=\"UUSr6\"><span class=\"ne-text\">安装docker ce</span></h3><pre data-language=\"plain\" id=\"zU2Io\" class=\"ne-codeblock language-plain\">$ sudo yum install docker-ce\n$ sudo systemctl start docker\n# 确认docker是否安装成功\n$ sudo docker run hello-world</pre><h1 id=\"aJvrx\"><span class=\"ne-text\">安装gitlab centos docker版</span></h1><p id=\"4e7cd4780f10974bc2c040bb2932790c\" class=\"ne-p\"><span class=\"ne-text\">官网地址：</span><a href=\"https:_docs.gitlab.com_omnibus_docker_readme\" data-href=\"https:_docs.gitlab.com_omnibus_docker_readme\" class=\"ne-link\"><span class=\"ne-text\">gitlab docker安装</span></a></p><pre data-language=\"plain\" id=\"dGhDI\" class=\"ne-codeblock language-plain\">sudo docker run --detach \\\n\t--hostname gitlab.example.com \\\n\t--publish 443:443 --publish 80:80 --publish 2222:22 \\\n\t--name gitlab \\\n\t--restart always \\\n\t--volume /srv/gitlab/config:/etc/gitlab \\\n\t--volume /srv/gitlab/logs:/var/log/gitlab \\\n\t--volume /srv/gitlab/data:/var/opt/gitlab \\\n\tgitlab/gitlab-ce:latest</pre><p id=\"d1b489994ee658fb7089f33618918091\" class=\"ne-p\"><em><span class=\"ne-text\">备注</span></em><span class=\"ne-text\">：默认镜像下载较慢，可更换</span></p><p id=\"e6628958e19f545d86c4a88ea280fcde\" class=\"ne-p\"><span class=\"ne-text\">编辑 /etc/docker/deamon.json,也可自行选择其他加速地址。</span></p><h2 id=\"AXUEi\"><span class=\"ne-text\">备份与恢复</span></h2><p id=\"4338ed9dc2b2562a99567fdc1d4f4ded\" class=\"ne-p\"><span class=\"ne-text\">官网地址：</span><a href=\"https:_docs.gitlab.com_ce_raketasks_backup_restore\" data-href=\"https:_docs.gitlab.com_ce_raketasks_backup_restore\" class=\"ne-link\"><span class=\"ne-text\">gitlab备份恢复</span></a></p><pre data-language=\"plain\" id=\"gY06v\" class=\"ne-codeblock language-plain\"># 备份\nsudo docker exec -t gitlab gitlab-rake gitlab:backup:create\n# 恢复\nsudo docker exec -it gitlab gitlab-rake gitlab:backup:restore</pre><p id=\"e71213ed8d617653c18fbc3df6484958\" class=\"ne-p\"><em><span class=\"ne-text\">备注</span></em><span class=\"ne-text\">：gitlab需与备份版本相同（当前版本latest 11.6.3）</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22BUdKn%22%7D\"></card><p data-lake-id=\"78c717d5bc3ca1bede4a7358cc7b1e8e\" id=\"78c717d5bc3ca1bede4a7358cc7b1e8e\"><span data-lake-id=\"uef0a0982\" id=\"uef0a0982\">date: 2019-07-06 10:10:32+00:00</span></p><p data-lake-id=\"34a942ce49675c52b81b4b26e4e114d0\" id=\"34a942ce49675c52b81b4b26e4e114d0\"><span data-lake-id=\"u9f57f806\" id=\"u9f57f806\">layout: post</span></p><p data-lake-id=\"9f4ca827950b7afbf773270b11f3d20d\" id=\"9f4ca827950b7afbf773270b11f3d20d\"><span data-lake-id=\"u43ea21b6\" id=\"u43ea21b6\">title: 基于docker自建gitlab</span></p><p data-lake-id=\"ced9e73d53b1e041736fca18d1647620\" id=\"ced9e73d53b1e041736fca18d1647620\"><span data-lake-id=\"u70ec8382\" id=\"u70ec8382\">categories: [docker]</span></p><p data-lake-id=\"9dd8baeb9bc91ae271c7a4da0928f94b\" id=\"9dd8baeb9bc91ae271c7a4da0928f94b\"><span data-lake-id=\"ud64223df\" id=\"ud64223df\">tags: [gitlab]</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22i0PD7%22%7D\"></card><h1 data-lake-id=\"jTFlg\" id=\"jTFlg\"><span data-lake-id=\"ucd97869e\" id=\"ucd97869e\">gitlab_install</span></h1><p data-lake-id=\"f30254d05eb6af7ffd9f13edeaf59e4a\" id=\"f30254d05eb6af7ffd9f13edeaf59e4a\"><span data-lake-id=\"uc8e74948\" id=\"uc8e74948\">记录gitlab安装过程</span></p><h1 data-lake-id=\"K3F4G\" id=\"K3F4G\"><span data-lake-id=\"u47ae536b\" id=\"u47ae536b\">安装docker</span></h1><p data-lake-id=\"8c229575123da2adc1dddb399c71fdcf\" id=\"8c229575123da2adc1dddb399c71fdcf\"><span data-lake-id=\"u688d5efc\" id=\"u688d5efc\">官网地址：</span><a href=\"https://docs.docker.com/install/linux/docker-ce/centos/\" target=\"_blank\" data-lake-id=\"ufc506ed8\" id=\"ufc506ed8\"><span data-lake-id=\"u88686b82\" id=\"u88686b82\">安装docker-ce centos教程</span></a></p><h3 data-lake-id=\"ne4kV\" id=\"ne4kV\"><span data-lake-id=\"u3a91a61c\" id=\"u3a91a61c\">卸载旧版本</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum%20remove%20docker%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-client%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-client-latest%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-common%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-latest%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-latest-logrotate%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-logrotate%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-selinux%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-engine-selinux%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-engine%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222BYCd%22%7D\"></card><h2 data-lake-id=\"QUAaz\" id=\"QUAaz\"><span data-lake-id=\"u95c037d4\" id=\"u95c037d4\">安装Docker CE</span></h2><h3 data-lake-id=\"dOWzK\" id=\"dOWzK\"><span data-lake-id=\"uf9871e4f\" id=\"uf9871e4f\">添加存储库</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum%20install%20-y%20yum-utils%20%5C%5C%5Cn%20%20device-mapper-persistent-data%20%5C%5C%5Cn%20%20lvm2%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%223i5Zd%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum-config-manager%20%5C%5C%5Cn%20%20%20%20--add-repo%20%5C%5C%5Cn%20%20%20%20https%3A%2F%2Fdownload.docker.com%2Flinux%2Fcentos%2Fdocker-ce.repo%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XsWZ2%22%7D\"></card><p data-lake-id=\"4e1eefd8ef612d845d2544a13ebf443f\" id=\"4e1eefd8ef612d845d2544a13ebf443f\"><em><span data-lake-id=\"u9fbcaa57\" id=\"u9fbcaa57\">备注</span></em><span data-lake-id=\"u53a4a042\" id=\"u53a4a042\">：如果失败看要修改镜像地址为</span><a href=\"https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo\" target=\"_blank\" data-lake-id=\"ubad7e822\" id=\"ubad7e822\"><span data-lake-id=\"u53163ffa\" id=\"u53163ffa\">https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum-config-manager%20--enable%20docker-ce-edge%5Cn%24%20sudo%20yum-config-manager%20--enable%20docker-ce-test%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22j6q2z%22%7D\"></card><h3 data-lake-id=\"UUSr6\" id=\"UUSr6\"><span data-lake-id=\"u053a02c7\" id=\"u053a02c7\">安装docker ce</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum%20install%20docker-ce%5Cn%24%20sudo%20systemctl%20start%20docker%5Cn%23%20%E7%A1%AE%E8%AE%A4docker%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%5Cn%24%20sudo%20docker%20run%20hello-world%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22zU2Io%22%7D\"></card><h1 data-lake-id=\"aJvrx\" id=\"aJvrx\"><span data-lake-id=\"u0e8f1fb6\" id=\"u0e8f1fb6\">安装gitlab centos docker版</span></h1><p data-lake-id=\"4e7cd4780f10974bc2c040bb2932790c\" id=\"4e7cd4780f10974bc2c040bb2932790c\"><span data-lake-id=\"uf82dba6d\" id=\"uf82dba6d\">官网地址：</span><a href=\"https:_docs.gitlab.com_omnibus_docker_readme\" data-lake-id=\"ud269f8e3\" id=\"ud269f8e3\"><span data-lake-id=\"uec1e5bba\" id=\"uec1e5bba\">gitlab docker安装</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20docker%20run%20--detach%20%5C%5C%5Cn%5Ct--hostname%20gitlab.example.com%20%5C%5C%5Cn%5Ct--publish%20443%3A443%20--publish%2080%3A80%20--publish%202222%3A22%20%5C%5C%5Cn%5Ct--name%20gitlab%20%5C%5C%5Cn%5Ct--restart%20always%20%5C%5C%5Cn%5Ct--volume%20%2Fsrv%2Fgitlab%2Fconfig%3A%2Fetc%2Fgitlab%20%5C%5C%5Cn%5Ct--volume%20%2Fsrv%2Fgitlab%2Flogs%3A%2Fvar%2Flog%2Fgitlab%20%5C%5C%5Cn%5Ct--volume%20%2Fsrv%2Fgitlab%2Fdata%3A%2Fvar%2Fopt%2Fgitlab%20%5C%5C%5Cn%5Ctgitlab%2Fgitlab-ce%3Alatest%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22dGhDI%22%7D\"></card><p data-lake-id=\"d1b489994ee658fb7089f33618918091\" id=\"d1b489994ee658fb7089f33618918091\"><em><span data-lake-id=\"udef48b09\" id=\"udef48b09\">备注</span></em><span data-lake-id=\"uac6fe785\" id=\"uac6fe785\">：默认镜像下载较慢，可更换</span></p><p data-lake-id=\"e6628958e19f545d86c4a88ea280fcde\" id=\"e6628958e19f545d86c4a88ea280fcde\"><span data-lake-id=\"u16b013f9\" id=\"u16b013f9\">编辑 /etc/docker/deamon.json,也可自行选择其他加速地址。</span></p><h2 data-lake-id=\"AXUEi\" id=\"AXUEi\"><span data-lake-id=\"u4243e957\" id=\"u4243e957\">备份与恢复</span></h2><p data-lake-id=\"4338ed9dc2b2562a99567fdc1d4f4ded\" id=\"4338ed9dc2b2562a99567fdc1d4f4ded\"><span data-lake-id=\"ud7a4f87a\" id=\"ud7a4f87a\">官网地址：</span><a href=\"https:_docs.gitlab.com_ce_raketasks_backup_restore\" data-lake-id=\"ud5fdcc41\" id=\"ud5fdcc41\"><span data-lake-id=\"u83666fb5\" id=\"u83666fb5\">gitlab备份恢复</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20%E5%A4%87%E4%BB%BD%5Cnsudo%20docker%20exec%20-t%20gitlab%20gitlab-rake%20gitlab%3Abackup%3Acreate%5Cn%23%20%E6%81%A2%E5%A4%8D%5Cnsudo%20docker%20exec%20-it%20gitlab%20gitlab-rake%20gitlab%3Abackup%3Arestore%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22gY06v%22%7D\"></card><p data-lake-id=\"e71213ed8d617653c18fbc3df6484958\" id=\"e71213ed8d617653c18fbc3df6484958\"><em><span data-lake-id=\"ue5ec4a75\" id=\"ue5ec4a75\">备注</span></em><span data-lake-id=\"uc86adc48\" id=\"uc86adc48\">：gitlab需与备份版本相同（当前版本latest 11.6.3）</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22BUdKn%22%7D\"></card><p data-lake-id=\"78c717d5bc3ca1bede4a7358cc7b1e8e\" id=\"78c717d5bc3ca1bede4a7358cc7b1e8e\"><span data-lake-id=\"uef0a0982\" id=\"uef0a0982\">date: 2019-07-06 10:10:32+00:00</span></p><p data-lake-id=\"34a942ce49675c52b81b4b26e4e114d0\" id=\"34a942ce49675c52b81b4b26e4e114d0\"><span data-lake-id=\"u9f57f806\" id=\"u9f57f806\">layout: post</span></p><p data-lake-id=\"9f4ca827950b7afbf773270b11f3d20d\" id=\"9f4ca827950b7afbf773270b11f3d20d\"><span data-lake-id=\"u43ea21b6\" id=\"u43ea21b6\">title: 基于docker自建gitlab</span></p><p data-lake-id=\"ced9e73d53b1e041736fca18d1647620\" id=\"ced9e73d53b1e041736fca18d1647620\"><span data-lake-id=\"u70ec8382\" id=\"u70ec8382\">categories: [docker]</span></p><p data-lake-id=\"9dd8baeb9bc91ae271c7a4da0928f94b\" id=\"9dd8baeb9bc91ae271c7a4da0928f94b\"><span data-lake-id=\"ud64223df\" id=\"ud64223df\">tags: [gitlab]</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22i0PD7%22%7D\"></card><h1 data-lake-id=\"jTFlg\" id=\"jTFlg\"><span data-lake-id=\"ucd97869e\" id=\"ucd97869e\">gitlab_install</span></h1><p data-lake-id=\"f30254d05eb6af7ffd9f13edeaf59e4a\" id=\"f30254d05eb6af7ffd9f13edeaf59e4a\"><span data-lake-id=\"uc8e74948\" id=\"uc8e74948\">记录gitlab安装过程</span></p><h1 data-lake-id=\"K3F4G\" id=\"K3F4G\"><span data-lake-id=\"u47ae536b\" id=\"u47ae536b\">安装docker</span></h1><p data-lake-id=\"8c229575123da2adc1dddb399c71fdcf\" id=\"8c229575123da2adc1dddb399c71fdcf\"><span data-lake-id=\"u688d5efc\" id=\"u688d5efc\">官网地址：</span><a href=\"https://docs.docker.com/install/linux/docker-ce/centos/\" target=\"_blank\" data-lake-id=\"ufc506ed8\" id=\"ufc506ed8\"><span data-lake-id=\"u88686b82\" id=\"u88686b82\">安装docker-ce centos教程</span></a></p><h3 data-lake-id=\"ne4kV\" id=\"ne4kV\"><span data-lake-id=\"u3a91a61c\" id=\"u3a91a61c\">卸载旧版本</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum%20remove%20docker%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-client%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-client-latest%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-common%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-latest%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-latest-logrotate%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-logrotate%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-selinux%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-engine-selinux%20%5C%5C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20docker-engine%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222BYCd%22%7D\"></card><h2 data-lake-id=\"QUAaz\" id=\"QUAaz\"><span data-lake-id=\"u95c037d4\" id=\"u95c037d4\">安装Docker CE</span></h2><h3 data-lake-id=\"dOWzK\" id=\"dOWzK\"><span data-lake-id=\"uf9871e4f\" id=\"uf9871e4f\">添加存储库</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum%20install%20-y%20yum-utils%20%5C%5C%5Cn%20%20device-mapper-persistent-data%20%5C%5C%5Cn%20%20lvm2%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%223i5Zd%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum-config-manager%20%5C%5C%5Cn%20%20%20%20--add-repo%20%5C%5C%5Cn%20%20%20%20https%3A%2F%2Fdownload.docker.com%2Flinux%2Fcentos%2Fdocker-ce.repo%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XsWZ2%22%7D\"></card><p data-lake-id=\"4e1eefd8ef612d845d2544a13ebf443f\" id=\"4e1eefd8ef612d845d2544a13ebf443f\"><em><span data-lake-id=\"u9fbcaa57\" id=\"u9fbcaa57\">备注</span></em><span data-lake-id=\"u53a4a042\" id=\"u53a4a042\">：如果失败看要修改镜像地址为</span><a href=\"https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo\" target=\"_blank\" data-lake-id=\"ubad7e822\" id=\"ubad7e822\"><span data-lake-id=\"u53163ffa\" id=\"u53163ffa\">https://mirrors.ustc.edu.cn/docker-ce/linux/centos/docker-ce.repo</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum-config-manager%20--enable%20docker-ce-edge%5Cn%24%20sudo%20yum-config-manager%20--enable%20docker-ce-test%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22j6q2z%22%7D\"></card><h3 data-lake-id=\"UUSr6\" id=\"UUSr6\"><span data-lake-id=\"u053a02c7\" id=\"u053a02c7\">安装docker ce</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20sudo%20yum%20install%20docker-ce%5Cn%24%20sudo%20systemctl%20start%20docker%5Cn%23%20%E7%A1%AE%E8%AE%A4docker%E6%98%AF%E5%90%A6%E5%AE%89%E8%A3%85%E6%88%90%E5%8A%9F%5Cn%24%20sudo%20docker%20run%20hello-world%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22zU2Io%22%7D\"></card><h1 data-lake-id=\"aJvrx\" id=\"aJvrx\"><span data-lake-id=\"u0e8f1fb6\" id=\"u0e8f1fb6\">安装gitlab centos docker版</span></h1><p data-lake-id=\"4e7cd4780f10974bc2c040bb2932790c\" id=\"4e7cd4780f10974bc2c040bb2932790c\"><span data-lake-id=\"uf82dba6d\" id=\"uf82dba6d\">官网地址：</span><a href=\"https:_docs.gitlab.com_omnibus_docker_readme\" data-lake-id=\"ud269f8e3\" id=\"ud269f8e3\"><span data-lake-id=\"uec1e5bba\" id=\"uec1e5bba\">gitlab docker安装</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20docker%20run%20--detach%20%5C%5C%5Cn%5Ct--hostname%20gitlab.example.com%20%5C%5C%5Cn%5Ct--publish%20443%3A443%20--publish%2080%3A80%20--publish%202222%3A22%20%5C%5C%5Cn%5Ct--name%20gitlab%20%5C%5C%5Cn%5Ct--restart%20always%20%5C%5C%5Cn%5Ct--volume%20%2Fsrv%2Fgitlab%2Fconfig%3A%2Fetc%2Fgitlab%20%5C%5C%5Cn%5Ct--volume%20%2Fsrv%2Fgitlab%2Flogs%3A%2Fvar%2Flog%2Fgitlab%20%5C%5C%5Cn%5Ct--volume%20%2Fsrv%2Fgitlab%2Fdata%3A%2Fvar%2Fopt%2Fgitlab%20%5C%5C%5Cn%5Ctgitlab%2Fgitlab-ce%3Alatest%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22dGhDI%22%7D\"></card><p data-lake-id=\"d1b489994ee658fb7089f33618918091\" id=\"d1b489994ee658fb7089f33618918091\"><em><span data-lake-id=\"udef48b09\" id=\"udef48b09\">备注</span></em><span data-lake-id=\"uac6fe785\" id=\"uac6fe785\">：默认镜像下载较慢，可更换</span></p><p data-lake-id=\"e6628958e19f545d86c4a88ea280fcde\" id=\"e6628958e19f545d86c4a88ea280fcde\"><span data-lake-id=\"u16b013f9\" id=\"u16b013f9\">编辑 /etc/docker/deamon.json,也可自行选择其他加速地址。</span></p><h2 data-lake-id=\"AXUEi\" id=\"AXUEi\"><span data-lake-id=\"u4243e957\" id=\"u4243e957\">备份与恢复</span></h2><p data-lake-id=\"4338ed9dc2b2562a99567fdc1d4f4ded\" id=\"4338ed9dc2b2562a99567fdc1d4f4ded\"><span data-lake-id=\"ud7a4f87a\" id=\"ud7a4f87a\">官网地址：</span><a href=\"https:_docs.gitlab.com_ce_raketasks_backup_restore\" data-lake-id=\"ud5fdcc41\" id=\"ud5fdcc41\"><span data-lake-id=\"u83666fb5\" id=\"u83666fb5\">gitlab备份恢复</span></a></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20%E5%A4%87%E4%BB%BD%5Cnsudo%20docker%20exec%20-t%20gitlab%20gitlab-rake%20gitlab%3Abackup%3Acreate%5Cn%23%20%E6%81%A2%E5%A4%8D%5Cnsudo%20docker%20exec%20-it%20gitlab%20gitlab-rake%20gitlab%3Abackup%3Arestore%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22gY06v%22%7D\"></card><p data-lake-id=\"e71213ed8d617653c18fbc3df6484958\" id=\"e71213ed8d617653c18fbc3df6484958\"><em><span data-lake-id=\"ue5ec4a75\" id=\"ue5ec4a75\">备注</span></em><span data-lake-id=\"uc86adc48\" id=\"uc86adc48\">：gitlab需与备份版本相同（当前版本latest 11.6.3）</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-10T14:08:16.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:33.000Z",
    "updated_at": "2022-12-10T14:08:17.000Z",
    "published_at": "2022-12-10T14:08:16.000Z",
    "first_published_at": "2022-12-09T12:02:32.477Z",
    "word_count": 293,
    "cover": null,
    "description": "date: 2019-07-06 10:10:32+00:00layout: posttitle: 基于docker自建gitlabcategories: [docker]tags: [gitlab]gitlab_install记录gitlab安装过程安装docker官网地址：安装docker...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945051,
    "slug": "1b9fc5729ba59c7025d746556f3c6057",
    "title": "2019-01-26-从CentOS7默认安装的home中转移空间到根目录",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2019-01-26 10:16:32+00:00<br />layout: post<br />title: 从CentOS7默认安装的/home中转移空间到根目录/<br />categories: Centos<br />key: 20190126<br />tags:\n\n- centos\n\n---\n\n转自 [https://blog.csdn.net/evandeng2009/article/details/49814097](https://blog.csdn.net/evandeng2009/article/details/49814097)\n<a name=\"bKTBg\"></a>\n# 一、基础概念\nCent0S 7默认启用LVM2（Logical Volume Manager），把机器的一块硬盘分为两个区sda1和sda2，其中分区sda1作为系统盘/boot挂载，少量空间；sda2作为一个物理卷并且完全作为逻辑卷组VG(Volume Group）centos，在这个逻辑卷组centos中建立三个逻辑卷LV（Logical Volume）root和home还有swap，分别挂载到根目录/和/home以及swap。而两个分区sda1和sda2上都建立了文件系统XFS，文件系统XFS作为RedHat的默认文件系统也有它的考虑，成为继ext3，ext4之后的主流文件系统。<br />几个概念的关系：M个物理硬盘HD或者物理硬盘中的分区一起组建为一个逻辑卷组VG及存储池，在卷组VG中创建N个逻辑卷LV，在一个逻辑卷LV中创建文件系统比如xfs。物理硬盘/分区、逻辑卷有最小基本寻址单元，CentOS7默认的大小为4MB，二者一一对应，类似于链接或者变量引用，但是一个二者关系并非一直不变，因为物理硬盘可能发生变化而逻辑卷自动调整。创建卷组和逻辑卷，会类似于创建分区一样在磁盘开始位置写入卷的信息VGDA（卷组描述符区域，Volume Group Descriptor Area）用于识别。逻辑卷的好处在于屏蔽物理底层支撑，可自由扩展变更，而不用担心硬盘或者分区的物理空间局限，也就不会存在为了扩展分区大小而去备份/扩展分区重新格式化硬盘等问题。<br />HD/分区--通过pvcreate->PV--通过vgcreate(vgchange)/vgextend-->VG--通过lvcreate/lvextend-->LV--通过mkfs-->FS--通过xfs_growfs等-->df磁盘生效<br />但是关键点在于，CentOS 7默认安装时/home占用太多空间，根目录相较而言就小得多(只有50G)，而OpenStack安装以及存储的东西都在根目录下。上传几个镜像说不定就把你的根目录空间耗尽。不像其他文件系统ext3，ext4或者reiserfs等，有命令（resize2fs，resize_reiserfs）直接支持缩小文件系统的大小，**默认安装的xfs支持扩展增大但是不支持缩小空间！**\n<a name=\"MfNsq\"></a>\n# 二、步骤概览\n所以下面要做的步骤大概为：（直接root用户登录系统，本机或者ssh root过去，如果使用当前普通用户会遇到点不必要的麻烦）\n\n1. 备份/home/用户文件，要是没啥内容则忽略这步（为什么非要这个/home，删掉直接用root？还是保留它，它存在也有道理的，再说生产环境还是不要只用root）\n2. umount /home 卸载并lvremove删除这个home逻辑卷，释放它的空间，vgdisplay查看卷组可用空间大小\n3. lvcreate新建一个新的home卷，并在其上mkfs建立xfs文件系统，(分配挂载到/home - 不用更改/etc/fstab，重启即可，) 拷贝回来之前的内容\n\n(这个时候空余的空间随便你分配，可以再建立别的逻辑卷，或者直接空闲下来以后使用，也可以直奔主题的走下面的第四步)\n\n4. 把之前的home逻辑卷释放并分配新卷home之后剩下的空间，lvextend分配给root卷，并用命令xfs_growfs扩展它的文件系统空间\n<a name=\"XHgkk\"></a>\n# 三、相关命令\n看看大概的命令有哪些\n<a name=\"ARfpu\"></a>\n#### pv\n> pvchange   pvck       pvcreate   pvdisplay  pvmove     pvremove   pvresize   pvs        pvscan\n\n<a name=\"VKAkA\"></a>\n##### vb\n\n1. vgcfgbackup    vgchange       vgconvert      vgdisplay      vgextend       vgimportclone  vgmknodes      vgremove       vgs\n2. vgsplit        vgcfgrestore   vgck           vgcreate       vgexport       vgimport       vgmerge        vgreduce       vgrename\n3. vgscan\n<a name=\"hqAZb\"></a>\n##### lv\n\n1. lvchange     lvcreate     lvextend     lvmchange    lvmdiskscan  lvmetad      lvmsar       lvremove     lvresize     lvscan\n2. lvconvert    lvdisplay    lvm\n<a name=\"eNBVQ\"></a>\n# 四、默认安装情况\n<a name=\"EnXI3\"></a>\n##### df -h //查看磁盘使用情况\n<a name=\"LNDAY\"></a>\n##### cat /etc/fstab\n<a name=\"Nq3Vi\"></a>\n##### vgdisplay //查看逻辑卷组情况\n<a name=\"NAzyd\"></a>\n##### lvdisplay //查看逻辑卷情况，默认三个，root、home和交换空间swap\n<a name=\"eLfJn\"></a>\n# 五、操作步骤\n<a name=\"praAu\"></a>\n#### 备份/home中的用户数据\n> [root[_@_localhost ](/localhost ) /]# mkdir /backup && mv /home/* /backup \n> [root[_@_localhost ](/localhost ) /]# ls /home/ \n\n<a name=\"D1GBx\"></a>\n#### 卸载这个/home并删除逻辑卷home\n> umount /home\n\n<a name=\"WpAt6\"></a>\n#### df -h //查看磁盘情况\n> Filesystem               Size  Used Avail Use% Mounted on\n> /dev/mapper/centos-root   50G   17G   34G  33% /\n> devtmpfs                 3.9G     0  3.9G   0% /dev\n> tmpfs                    3.9G   84K  3.9G   1% /dev/shm\n> tmpfs                    3.9G  9.0M  3.9G   1% /run\n> tmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup\n> /dev/sda1                494M  133M  362M  27% /boot\n\n<a name=\"ijyTT\"></a>\n#### lvremove /dev/centos/home //删除逻辑卷home\n> Do you really want to remove active logical volume home? [y/n]: y\n> Logical volume \"home\" successfully removed\n\n<a name=\"rUBLQ\"></a>\n#### vgdisplay //查看卷组可用空间\n<a name=\"MtC9w\"></a>\n#### 新建一个卷home，fdisk格式化为8e格式，文件系统还是搞为xfs（同样挂载到/home）\n> lvcreate -L 50G -n home centos //L表示大小，默认单位为M；n表示卷名；这里的centos是CentOS7安装系统的时候就默认建立好的卷组名\n> WARNING: xfs signature detected on /dev/centos/home at offset 0. Wipe it? [y/n]: y\n> Wiping xfs signature on /dev/centos/home.\n> Logical volume \"home\" created.\n\n<a name=\"OMWqz\"></a>\n#### lvdisplay //查看逻辑卷home\n<a name=\"pkbnr\"></a>\n#### vgdisplay //再次查看卷组空间大小\n<a name=\"xxYyW\"></a>\n#### [# vgchange -ay centos  //可选步骤：激活卷组centos，使得这个新建的home逻辑卷生效（用vgchange而不用lvchange）]\n> 3 logical volume(s) in volume group \"centos\" now active\n\n<a name=\"oymp4\"></a>\n##### mkfs -t xfs /dev/centos/home //在新建的逻辑卷home上建立xfs文件系统\n<a name=\"TuWq5\"></a>\n##### mount /dev/centos/home /home/ //把这个新逻辑卷home挂到之前的文件夹/home中去，直接重启用fstab来挂载也行\n<a name=\"Low1e\"></a>\n##### df -h //现在来查看磁盘使用情况\n<a name=\"KMMl4\"></a>\n##### mv /backup/* /home/ //再把之前拷出来的东西拷回新建的/home中，拷贝完成就可以直接用这个普通用户来桌面登录系统了，不用重启\n<a name=\"WcTgv\"></a>\n##### 最后再把释放出来多余的空间分配给root卷并xfs_growfs扩展文件系统\nlvextend -L +823G /dev/centos/root //把剩下的823G现在分配给root卷，剩下那点渣渣空间让它闲着；+号表示在原来的基础上额外增加，不要加好则设定为具体额度<br />Size of logical volume centos/root changed from 50.00 GiB (12800 extents) to 873.00 GiB (223488 extents).<br />Logical volume root successfully resized\n<a name=\"i9mS8\"></a>\n##### lvdisplay //查看逻辑卷和卷组情况\n<a name=\"wfxHT\"></a>\n#### df -h //不使用xfs_growfs扩展文件系统，磁盘是不认得多的空间的\n<a name=\"XWR1r\"></a>\n##### xfs_growfs /dev/centos/root //扩展root卷\n<a name=\"TgnOx\"></a>\n##### df -h //再看root大小已经生效\n<a name=\"UOsae\"></a>\n# 六、命令汇总\n简单总结下，就是下面几条命令：\n\n1. mkdir /backup\n2. mv /home/* /backup/\n3. umount /home\n4. lvremove /dev/centos/home\n5. lvcreate -L 50G -n home cents\n6. mkfs -t xfs /dev/centos/home\n7. mv /backup/* /home/\n8. lvextend -L +xxxG /dev/centos/root\n9. xfs_growfs root\n10. rm -rf /backup\n",
    "body_draft": "---\n\ndate: 2019-01-26 10:16:32+00:00<br />layout: post<br />title: 从CentOS7默认安装的/home中转移空间到根目录/<br />categories: Centos<br />key: 20190126<br />tags:\n\n- centos\n\n---\n\n转自 [https://blog.csdn.net/evandeng2009/article/details/49814097](https://blog.csdn.net/evandeng2009/article/details/49814097)\n<a name=\"bKTBg\"></a>\n# 一、基础概念\nCent0S 7默认启用LVM2（Logical Volume Manager），把机器的一块硬盘分为两个区sda1和sda2，其中分区sda1作为系统盘/boot挂载，少量空间；sda2作为一个物理卷并且完全作为逻辑卷组VG(Volume Group）centos，在这个逻辑卷组centos中建立三个逻辑卷LV（Logical Volume）root和home还有swap，分别挂载到根目录/和/home以及swap。而两个分区sda1和sda2上都建立了文件系统XFS，文件系统XFS作为RedHat的默认文件系统也有它的考虑，成为继ext3，ext4之后的主流文件系统。<br />几个概念的关系：M个物理硬盘HD或者物理硬盘中的分区一起组建为一个逻辑卷组VG及存储池，在卷组VG中创建N个逻辑卷LV，在一个逻辑卷LV中创建文件系统比如xfs。物理硬盘/分区、逻辑卷有最小基本寻址单元，CentOS7默认的大小为4MB，二者一一对应，类似于链接或者变量引用，但是一个二者关系并非一直不变，因为物理硬盘可能发生变化而逻辑卷自动调整。创建卷组和逻辑卷，会类似于创建分区一样在磁盘开始位置写入卷的信息VGDA（卷组描述符区域，Volume Group Descriptor Area）用于识别。逻辑卷的好处在于屏蔽物理底层支撑，可自由扩展变更，而不用担心硬盘或者分区的物理空间局限，也就不会存在为了扩展分区大小而去备份/扩展分区重新格式化硬盘等问题。<br />HD/分区--通过pvcreate->PV--通过vgcreate(vgchange)/vgextend-->VG--通过lvcreate/lvextend-->LV--通过mkfs-->FS--通过xfs_growfs等-->df磁盘生效<br />但是关键点在于，CentOS 7默认安装时/home占用太多空间，根目录相较而言就小得多(只有50G)，而OpenStack安装以及存储的东西都在根目录下。上传几个镜像说不定就把你的根目录空间耗尽。不像其他文件系统ext3，ext4或者reiserfs等，有命令（resize2fs，resize_reiserfs）直接支持缩小文件系统的大小，**默认安装的xfs支持扩展增大但是不支持缩小空间！**\n<a name=\"MfNsq\"></a>\n# 二、步骤概览\n所以下面要做的步骤大概为：（直接root用户登录系统，本机或者ssh root过去，如果使用当前普通用户会遇到点不必要的麻烦）\n\n1. 备份/home/用户文件，要是没啥内容则忽略这步（为什么非要这个/home，删掉直接用root？还是保留它，它存在也有道理的，再说生产环境还是不要只用root）\n2. umount /home 卸载并lvremove删除这个home逻辑卷，释放它的空间，vgdisplay查看卷组可用空间大小\n3. lvcreate新建一个新的home卷，并在其上mkfs建立xfs文件系统，(分配挂载到/home - 不用更改/etc/fstab，重启即可，) 拷贝回来之前的内容\n\n(这个时候空余的空间随便你分配，可以再建立别的逻辑卷，或者直接空闲下来以后使用，也可以直奔主题的走下面的第四步)\n\n4. 把之前的home逻辑卷释放并分配新卷home之后剩下的空间，lvextend分配给root卷，并用命令xfs_growfs扩展它的文件系统空间\n<a name=\"XHgkk\"></a>\n# 三、相关命令\n看看大概的命令有哪些\n<a name=\"ARfpu\"></a>\n#### pv\n> pvchange   pvck       pvcreate   pvdisplay  pvmove     pvremove   pvresize   pvs        pvscan\n\n<a name=\"VKAkA\"></a>\n##### vb\n\n1. vgcfgbackup    vgchange       vgconvert      vgdisplay      vgextend       vgimportclone  vgmknodes      vgremove       vgs\n2. vgsplit        vgcfgrestore   vgck           vgcreate       vgexport       vgimport       vgmerge        vgreduce       vgrename\n3. vgscan\n<a name=\"hqAZb\"></a>\n##### lv\n\n1. lvchange     lvcreate     lvextend     lvmchange    lvmdiskscan  lvmetad      lvmsar       lvremove     lvresize     lvscan\n2. lvconvert    lvdisplay    lvm\n<a name=\"eNBVQ\"></a>\n# 四、默认安装情况\n<a name=\"EnXI3\"></a>\n##### df -h //查看磁盘使用情况\n<a name=\"LNDAY\"></a>\n##### cat /etc/fstab\n<a name=\"Nq3Vi\"></a>\n##### vgdisplay //查看逻辑卷组情况\n<a name=\"NAzyd\"></a>\n##### lvdisplay //查看逻辑卷情况，默认三个，root、home和交换空间swap\n<a name=\"eLfJn\"></a>\n# 五、操作步骤\n<a name=\"praAu\"></a>\n#### 备份/home中的用户数据\n> [root[_@_localhost ](/localhost ) /]# mkdir /backup && mv /home/* /backup \n> [root[_@_localhost ](/localhost ) /]# ls /home/ \n\n<a name=\"D1GBx\"></a>\n#### 卸载这个/home并删除逻辑卷home\n> umount /home\n\n<a name=\"WpAt6\"></a>\n#### df -h //查看磁盘情况\n> Filesystem               Size  Used Avail Use% Mounted on\n> /dev/mapper/centos-root   50G   17G   34G  33% /\n> devtmpfs                 3.9G     0  3.9G   0% /dev\n> tmpfs                    3.9G   84K  3.9G   1% /dev/shm\n> tmpfs                    3.9G  9.0M  3.9G   1% /run\n> tmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup\n> /dev/sda1                494M  133M  362M  27% /boot\n\n<a name=\"ijyTT\"></a>\n#### lvremove /dev/centos/home //删除逻辑卷home\n> Do you really want to remove active logical volume home? [y/n]: y\n> Logical volume \"home\" successfully removed\n\n<a name=\"rUBLQ\"></a>\n#### vgdisplay //查看卷组可用空间\n<a name=\"MtC9w\"></a>\n#### 新建一个卷home，fdisk格式化为8e格式，文件系统还是搞为xfs（同样挂载到/home）\n> lvcreate -L 50G -n home centos //L表示大小，默认单位为M；n表示卷名；这里的centos是CentOS7安装系统的时候就默认建立好的卷组名\n> WARNING: xfs signature detected on /dev/centos/home at offset 0. Wipe it? [y/n]: y\n> Wiping xfs signature on /dev/centos/home.\n> Logical volume \"home\" created.\n\n<a name=\"OMWqz\"></a>\n#### lvdisplay //查看逻辑卷home\n<a name=\"pkbnr\"></a>\n#### vgdisplay //再次查看卷组空间大小\n<a name=\"xxYyW\"></a>\n#### [# vgchange -ay centos  //可选步骤：激活卷组centos，使得这个新建的home逻辑卷生效（用vgchange而不用lvchange）]\n> 3 logical volume(s) in volume group \"centos\" now active\n\n<a name=\"oymp4\"></a>\n##### mkfs -t xfs /dev/centos/home //在新建的逻辑卷home上建立xfs文件系统\n<a name=\"TuWq5\"></a>\n##### mount /dev/centos/home /home/ //把这个新逻辑卷home挂到之前的文件夹/home中去，直接重启用fstab来挂载也行\n<a name=\"Low1e\"></a>\n##### df -h //现在来查看磁盘使用情况\n<a name=\"KMMl4\"></a>\n##### mv /backup/* /home/ //再把之前拷出来的东西拷回新建的/home中，拷贝完成就可以直接用这个普通用户来桌面登录系统了，不用重启\n<a name=\"WcTgv\"></a>\n##### 最后再把释放出来多余的空间分配给root卷并xfs_growfs扩展文件系统\nlvextend -L +823G /dev/centos/root //把剩下的823G现在分配给root卷，剩下那点渣渣空间让它闲着；+号表示在原来的基础上额外增加，不要加好则设定为具体额度<br />Size of logical volume centos/root changed from 50.00 GiB (12800 extents) to 873.00 GiB (223488 extents).<br />Logical volume root successfully resized\n<a name=\"i9mS8\"></a>\n##### lvdisplay //查看逻辑卷和卷组情况\n<a name=\"wfxHT\"></a>\n#### df -h //不使用xfs_growfs扩展文件系统，磁盘是不认得多的空间的\n<a name=\"XWR1r\"></a>\n##### xfs_growfs /dev/centos/root //扩展root卷\n<a name=\"TgnOx\"></a>\n##### df -h //再看root大小已经生效\n<a name=\"UOsae\"></a>\n# 六、命令汇总\n简单总结下，就是下面几条命令：\n\n1. mkdir /backup\n2. mv /home/* /backup/\n3. umount /home\n4. lvremove /dev/centos/home\n5. lvcreate -L 50G -n home cents\n6. mkfs -t xfs /dev/centos/home\n7. mv /backup/* /home/\n8. lvextend -L +xxxG /dev/centos/root\n9. xfs_growfs root\n10. rm -rf /backup\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"weuli\" class=\"ne-hr\"><p id=\"485b8515cba3e9ebece0eef3d3f4ff90\" class=\"ne-p\"><span class=\"ne-text\">date: 2019-01-26 10:16:32+00:00</span></p><p id=\"50ad4a03b8c4a8971b0215385192ed25\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"534a05effed7145da67b5988fd521a2b\" class=\"ne-p\"><span class=\"ne-text\">title: 从CentOS7默认安装的/home中转移空间到根目录/</span></p><p id=\"602aa901fe428ec0f3dd433cbb534567\" class=\"ne-p\"><span class=\"ne-text\">categories: Centos</span></p><p id=\"6ff815e844f13efcd69d98918db01ec2\" class=\"ne-p\"><span class=\"ne-text\">key: 20190126</span></p><p id=\"95cfd805296c054618bdfcfeab117d48\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"6f9c81cad045462d13f88a5fc6eac36e\"><span class=\"ne-text\">centos</span></li></ul><hr id=\"xHSf0\" class=\"ne-hr\"><p id=\"61c35e8e96fdb673873abc724c466051\" class=\"ne-p\"><span class=\"ne-text\">转自 </span><a href=\"https://blog.csdn.net/evandeng2009/article/details/49814097\" data-href=\"https://blog.csdn.net/evandeng2009/article/details/49814097\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://blog.csdn.net/evandeng2009/article/details/49814097</span></a></p><h1 id=\"bKTBg\"><span class=\"ne-text\">一、基础概念</span></h1><p id=\"fa09f391fc81872c05547190b24f52ca\" class=\"ne-p\"><span class=\"ne-text\">Cent0S 7默认启用LVM2（Logical Volume Manager），把机器的一块硬盘分为两个区sda1和sda2，其中分区sda1作为系统盘/boot挂载，少量空间；sda2作为一个物理卷并且完全作为逻辑卷组VG(Volume Group）centos，在这个逻辑卷组centos中建立三个逻辑卷LV（Logical Volume）root和home还有swap，分别挂载到根目录/和/home以及swap。而两个分区sda1和sda2上都建立了文件系统XFS，文件系统XFS作为RedHat的默认文件系统也有它的考虑，成为继ext3，ext4之后的主流文件系统。</span></p><p id=\"7ea93d69bd86e012746165525fd5ef3e\" class=\"ne-p\"><span class=\"ne-text\">几个概念的关系：M个物理硬盘HD或者物理硬盘中的分区一起组建为一个逻辑卷组VG及存储池，在卷组VG中创建N个逻辑卷LV，在一个逻辑卷LV中创建文件系统比如xfs。物理硬盘/分区、逻辑卷有最小基本寻址单元，CentOS7默认的大小为4MB，二者一一对应，类似于链接或者变量引用，但是一个二者关系并非一直不变，因为物理硬盘可能发生变化而逻辑卷自动调整。创建卷组和逻辑卷，会类似于创建分区一样在磁盘开始位置写入卷的信息VGDA（卷组描述符区域，Volume Group Descriptor Area）用于识别。逻辑卷的好处在于屏蔽物理底层支撑，可自由扩展变更，而不用担心硬盘或者分区的物理空间局限，也就不会存在为了扩展分区大小而去备份/扩展分区重新格式化硬盘等问题。</span></p><p id=\"dc3d6fd85bc5b183da7fa934be58db96\" class=\"ne-p\"><span class=\"ne-text\">HD/分区--通过pvcreate-&gt;PV--通过vgcreate(vgchange)/vgextend--&gt;VG--通过lvcreate/lvextend--&gt;LV--通过mkfs--&gt;FS--通过xfs_growfs等--&gt;df磁盘生效</span></p><p id=\"539e5da5515efd1ccb575a58e2613038\" class=\"ne-p\"><span class=\"ne-text\">但是关键点在于，CentOS 7默认安装时/home占用太多空间，根目录相较而言就小得多(只有50G)，而OpenStack安装以及存储的东西都在根目录下。上传几个镜像说不定就把你的根目录空间耗尽。不像其他文件系统ext3，ext4或者reiserfs等，有命令（resize2fs，resize_reiserfs）直接支持缩小文件系统的大小，</span><strong><span class=\"ne-text\">默认安装的xfs支持扩展增大但是不支持缩小空间！</span></strong></p><h1 id=\"MfNsq\"><span class=\"ne-text\">二、步骤概览</span></h1><p id=\"c8688a5a183fd9db9e463e279d5ba92c\" class=\"ne-p\"><span class=\"ne-text\">所以下面要做的步骤大概为：（直接root用户登录系统，本机或者ssh root过去，如果使用当前普通用户会遇到点不必要的麻烦）</span></p><ol class=\"ne-ol\"><li id=\"d8cf0bb10ad7486d43e8b3cacb049cbc\"><span class=\"ne-text\">备份/home/用户文件，要是没啥内容则忽略这步（为什么非要这个/home，删掉直接用root？还是保留它，它存在也有道理的，再说生产环境还是不要只用root）</span></li><li id=\"c1044d4fa5c4964d499336e757bceac3\"><span class=\"ne-text\">umount /home 卸载并lvremove删除这个home逻辑卷，释放它的空间，vgdisplay查看卷组可用空间大小</span></li><li id=\"ea90b77a3ab595429dbd680fa9131676\"><span class=\"ne-text\">lvcreate新建一个新的home卷，并在其上mkfs建立xfs文件系统，(分配挂载到/home - 不用更改/etc/fstab，重启即可，) 拷贝回来之前的内容</span></li></ol><p id=\"628438b419292fd92173e6dfcf5cf488\" class=\"ne-p\"><span class=\"ne-text\">(这个时候空余的空间随便你分配，可以再建立别的逻辑卷，或者直接空闲下来以后使用，也可以直奔主题的走下面的第四步)</span></p><ol start=\"4\" class=\"ne-ol\"><li id=\"696a3fc28d67c93934fc095b8e976ecc\"><span class=\"ne-text\">把之前的home逻辑卷释放并分配新卷home之后剩下的空间，lvextend分配给root卷，并用命令xfs_growfs扩展它的文件系统空间</span></li></ol><h1 id=\"XHgkk\"><span class=\"ne-text\">三、相关命令</span></h1><p id=\"528878c207111a22b0df1e9a5209dd15\" class=\"ne-p\"><span class=\"ne-text\">看看大概的命令有哪些</span></p><h4 id=\"ARfpu\"><span class=\"ne-text\">pv</span></h4><div class=\"ne-quote\"><p id=\"85a2b5b20010806404bcfad1060d6bc7\" class=\"ne-p\"><span class=\"ne-text\">pvchange   pvck       pvcreate   pvdisplay  pvmove     pvremove   pvresize   pvs        pvscan</span></p></div><h5 id=\"VKAkA\"><span class=\"ne-text\">vb</span></h5><ol class=\"ne-ol\"><li id=\"cac2d550b5723021a451ef5309fcd906\"><span class=\"ne-text\">vgcfgbackup    vgchange       vgconvert      vgdisplay      vgextend       vgimportclone  vgmknodes      vgremove       vgs</span></li><li id=\"b59bd712c8da304518f663ea62c57cf9\"><span class=\"ne-text\">vgsplit        vgcfgrestore   vgck           vgcreate       vgexport       vgimport       vgmerge        vgreduce       vgrename</span></li><li id=\"459cdd195ab788d63b168df9b5241543\"><span class=\"ne-text\">vgscan</span></li></ol><h5 id=\"hqAZb\"><span class=\"ne-text\">lv</span></h5><ol class=\"ne-ol\"><li id=\"f5f30c916e79f0071315f162eebe4239\"><span class=\"ne-text\">lvchange     lvcreate     lvextend     lvmchange    lvmdiskscan  lvmetad      lvmsar       lvremove     lvresize     lvscan</span></li><li id=\"b7566079b63f5efdf265555bc5140019\"><span class=\"ne-text\">lvconvert    lvdisplay    lvm</span></li></ol><h1 id=\"eNBVQ\"><span class=\"ne-text\">四、默认安装情况</span></h1><h5 id=\"EnXI3\"><span class=\"ne-text\">df -h //查看磁盘使用情况</span></h5><h5 id=\"LNDAY\"><span class=\"ne-text\">cat /etc/fstab</span></h5><h5 id=\"Nq3Vi\"><span class=\"ne-text\">vgdisplay //查看逻辑卷组情况</span></h5><h5 id=\"NAzyd\"><span class=\"ne-text\">lvdisplay //查看逻辑卷情况，默认三个，root、home和交换空间swap</span></h5><h1 id=\"eLfJn\"><span class=\"ne-text\">五、操作步骤</span></h1><h4 id=\"praAu\"><span class=\"ne-text\">备份/home中的用户数据</span></h4><div class=\"ne-quote\"><p id=\"dc21e2bdc2afcee7c7a26e7312115244\" class=\"ne-p\"><span class=\"ne-text\">[root</span><a href=\"/localhost \" data-href=\"/localhost \" class=\"ne-link\"><em><span class=\"ne-text\">@</span></em><span class=\"ne-text\">localhost </span></a><span class=\"ne-text\"> /]# mkdir /backup &amp;&amp; mv /home/* /backup </span></p><p id=\"1aa5d4d2d4c7a0734190b600957de01c\" class=\"ne-p\"><span class=\"ne-text\">[root</span><a href=\"/localhost \" data-href=\"/localhost \" class=\"ne-link\"><em><span class=\"ne-text\">@</span></em><span class=\"ne-text\">localhost </span></a><span class=\"ne-text\"> /]# ls /home/ </span></p></div><h4 id=\"D1GBx\"><span class=\"ne-text\">卸载这个/home并删除逻辑卷home</span></h4><div class=\"ne-quote\"><p id=\"39a57959a62053ff4b02580150acaedc\" class=\"ne-p\"><span class=\"ne-text\">umount /home</span></p></div><h4 id=\"WpAt6\"><span class=\"ne-text\">df -h //查看磁盘情况</span></h4><div class=\"ne-quote\"><p id=\"0bbb130e6138f88511056ab402eb9a22\" class=\"ne-p\"><span class=\"ne-text\">Filesystem               Size  Used Avail Use% Mounted on</span></p><p id=\"d595a1f2f07cf783a344a639772fd11a\" class=\"ne-p\"><span class=\"ne-text\">/dev/mapper/centos-root   50G   17G   34G  33% /</span></p><p id=\"74ee2049ac96a9eec679d31f0502e973\" class=\"ne-p\"><span class=\"ne-text\">devtmpfs                 3.9G     0  3.9G   0% /dev</span></p><p id=\"01a01d09394a07cacfffd1ab325393ec\" class=\"ne-p\"><span class=\"ne-text\">tmpfs                    3.9G   84K  3.9G   1% /dev/shm</span></p><p id=\"c6b5e6c7ec024990b8f728d46d36e13d\" class=\"ne-p\"><span class=\"ne-text\">tmpfs                    3.9G  9.0M  3.9G   1% /run</span></p><p id=\"ad96e457432a52ea9e22177eb9913b5a\" class=\"ne-p\"><span class=\"ne-text\">tmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup</span></p><p id=\"67047204b98a0a03990e85a5d1c9e87d\" class=\"ne-p\"><span class=\"ne-text\">/dev/sda1                494M  133M  362M  27% /boot</span></p></div><h4 id=\"ijyTT\"><span class=\"ne-text\">lvremove /dev/centos/home //删除逻辑卷home</span></h4><div class=\"ne-quote\"><p id=\"97061331612b892cca4bec8466de8bf9\" class=\"ne-p\"><span class=\"ne-text\">Do you really want to remove active logical volume home? [y/n]: y</span></p><p id=\"2640a81f9d62366b316c164f67782573\" class=\"ne-p\"><span class=\"ne-text\">Logical volume &quot;home&quot; successfully removed</span></p></div><h4 id=\"rUBLQ\"><span class=\"ne-text\">vgdisplay //查看卷组可用空间</span></h4><h4 id=\"MtC9w\"><span class=\"ne-text\">新建一个卷home，fdisk格式化为8e格式，文件系统还是搞为xfs（同样挂载到/home）</span></h4><div class=\"ne-quote\"><p id=\"04ef2572deef8c112abdaca1a49073b2\" class=\"ne-p\"><span class=\"ne-text\">lvcreate -L 50G -n home centos //L表示大小，默认单位为M；n表示卷名；这里的centos是CentOS7安装系统的时候就默认建立好的卷组名</span></p><p id=\"ec22d6c5cfeb9ddc6dc14f7c694cbd35\" class=\"ne-p\"><span class=\"ne-text\">WARNING: xfs signature detected on /dev/centos/home at offset 0. Wipe it? [y/n]: y</span></p><p id=\"605831b505ff928ff029bad4af936e83\" class=\"ne-p\"><span class=\"ne-text\">Wiping xfs signature on /dev/centos/home.</span></p><p id=\"949a027a17bbfba96791067fea0cc287\" class=\"ne-p\"><span class=\"ne-text\">Logical volume &quot;home&quot; created.</span></p></div><h4 id=\"OMWqz\"><span class=\"ne-text\">lvdisplay //查看逻辑卷home</span></h4><h4 id=\"pkbnr\"><span class=\"ne-text\">vgdisplay //再次查看卷组空间大小</span></h4><h4 id=\"xxYyW\"><span class=\"ne-text\">[# vgchange -ay centos  //可选步骤：激活卷组centos，使得这个新建的home逻辑卷生效（用vgchange而不用lvchange）]</span></h4><div class=\"ne-quote\"><p id=\"8f8bc238b077cf91ac6db86de202c749\" class=\"ne-p\"><span class=\"ne-text\">3 logical volume(s) in volume group &quot;centos&quot; now active</span></p></div><h5 id=\"oymp4\"><span class=\"ne-text\">mkfs -t xfs /dev/centos/home //在新建的逻辑卷home上建立xfs文件系统</span></h5><h5 id=\"TuWq5\"><span class=\"ne-text\">mount /dev/centos/home /home/ //把这个新逻辑卷home挂到之前的文件夹/home中去，直接重启用fstab来挂载也行</span></h5><h5 id=\"Low1e\"><span class=\"ne-text\">df -h //现在来查看磁盘使用情况</span></h5><h5 id=\"KMMl4\"><span class=\"ne-text\">mv /backup/* /home/ //再把之前拷出来的东西拷回新建的/home中，拷贝完成就可以直接用这个普通用户来桌面登录系统了，不用重启</span></h5><h5 id=\"WcTgv\"><span class=\"ne-text\">最后再把释放出来多余的空间分配给root卷并xfs_growfs扩展文件系统</span></h5><p id=\"8fabb577170f14f920aba3c8fee21c37\" class=\"ne-p\"><span class=\"ne-text\">lvextend -L +823G /dev/centos/root //把剩下的823G现在分配给root卷，剩下那点渣渣空间让它闲着；+号表示在原来的基础上额外增加，不要加好则设定为具体额度</span></p><p id=\"9b285b76d339400b40a4bfcd5241a2b1\" class=\"ne-p\"><span class=\"ne-text\">Size of logical volume centos/root changed from 50.00 GiB (12800 extents) to 873.00 GiB (223488 extents).</span></p><p id=\"5f6134c3cea2f997460aaa0f745e58fd\" class=\"ne-p\"><span class=\"ne-text\">Logical volume root successfully resized</span></p><h5 id=\"i9mS8\"><span class=\"ne-text\">lvdisplay //查看逻辑卷和卷组情况</span></h5><h4 id=\"wfxHT\"><span class=\"ne-text\">df -h //不使用xfs_growfs扩展文件系统，磁盘是不认得多的空间的</span></h4><h5 id=\"XWR1r\"><span class=\"ne-text\">xfs_growfs /dev/centos/root //扩展root卷</span></h5><h5 id=\"TgnOx\"><span class=\"ne-text\">df -h //再看root大小已经生效</span></h5><h1 id=\"UOsae\"><span class=\"ne-text\">六、命令汇总</span></h1><p id=\"3e811213836744735d1666e6b0060d33\" class=\"ne-p\"><span class=\"ne-text\">简单总结下，就是下面几条命令：</span></p><ol class=\"ne-ol\"><li id=\"e7240ad4bb07a713d892f08c98f74513\"><span class=\"ne-text\">mkdir /backup</span></li><li id=\"8a3501778034eb4f5e4c47484fcd5fea\"><span class=\"ne-text\">mv /home/* /backup/</span></li><li id=\"867c27facc6a79a26f45fa34e41cb411\"><span class=\"ne-text\">umount /home</span></li><li id=\"a6588a8e81cd619ad765f1337d1c53db\"><span class=\"ne-text\">lvremove /dev/centos/home</span></li><li id=\"a306d3bd30dda6866957f1aa0d1dd2da\"><span class=\"ne-text\">lvcreate -L 50G -n home cents</span></li><li id=\"c4cd6c3c5d93cd9d8982d7ce6abe6206\"><span class=\"ne-text\">mkfs -t xfs /dev/centos/home</span></li><li id=\"e8a1eab0369bf200bb1c44b1de89c24b\"><span class=\"ne-text\">mv /backup/* /home/</span></li><li id=\"357d5c2060b48585574a7f897fa1d51f\"><span class=\"ne-text\">lvextend -L +xxxG /dev/centos/root</span></li><li id=\"b5841b6138aab52a35d40b10493209d6\"><span class=\"ne-text\">xfs_growfs root</span></li><li id=\"6ef142356ce7d11927f7501075614f8c\"><span class=\"ne-text\">rm -rf /backup</span></li></ol></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22weuli%22%7D\"></card><p data-lake-id=\"485b8515cba3e9ebece0eef3d3f4ff90\" id=\"485b8515cba3e9ebece0eef3d3f4ff90\"><span data-lake-id=\"ue209f64b\" id=\"ue209f64b\">date: 2019-01-26 10:16:32+00:00</span></p><p data-lake-id=\"50ad4a03b8c4a8971b0215385192ed25\" id=\"50ad4a03b8c4a8971b0215385192ed25\"><span data-lake-id=\"uaeacf128\" id=\"uaeacf128\">layout: post</span></p><p data-lake-id=\"534a05effed7145da67b5988fd521a2b\" id=\"534a05effed7145da67b5988fd521a2b\"><span data-lake-id=\"u8c54da49\" id=\"u8c54da49\">title: 从CentOS7默认安装的/home中转移空间到根目录/</span></p><p data-lake-id=\"602aa901fe428ec0f3dd433cbb534567\" id=\"602aa901fe428ec0f3dd433cbb534567\"><span data-lake-id=\"u98be4f39\" id=\"u98be4f39\">categories: Centos</span></p><p data-lake-id=\"6ff815e844f13efcd69d98918db01ec2\" id=\"6ff815e844f13efcd69d98918db01ec2\"><span data-lake-id=\"u5da961a5\" id=\"u5da961a5\">key: 20190126</span></p><p data-lake-id=\"95cfd805296c054618bdfcfeab117d48\" id=\"95cfd805296c054618bdfcfeab117d48\"><span data-lake-id=\"u741e010a\" id=\"u741e010a\">tags:</span></p><ul list=\"u745fc7f6\"><li fid=\"uc46184b7\" data-lake-id=\"6f9c81cad045462d13f88a5fc6eac36e\" id=\"6f9c81cad045462d13f88a5fc6eac36e\"><span data-lake-id=\"u7c2920a0\" id=\"u7c2920a0\">centos</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22xHSf0%22%7D\"></card><p data-lake-id=\"61c35e8e96fdb673873abc724c466051\" id=\"61c35e8e96fdb673873abc724c466051\"><span data-lake-id=\"ufe015e8e\" id=\"ufe015e8e\">转自 </span><a href=\"https://blog.csdn.net/evandeng2009/article/details/49814097\" target=\"_blank\" data-lake-id=\"u284199d5\" id=\"u284199d5\"><span data-lake-id=\"u1e4d6e8a\" id=\"u1e4d6e8a\">https://blog.csdn.net/evandeng2009/article/details/49814097</span></a></p><h1 data-lake-id=\"bKTBg\" id=\"bKTBg\"><span data-lake-id=\"uc80d6395\" id=\"uc80d6395\">一、基础概念</span></h1><p data-lake-id=\"fa09f391fc81872c05547190b24f52ca\" id=\"fa09f391fc81872c05547190b24f52ca\"><span data-lake-id=\"uf5d01e02\" id=\"uf5d01e02\">Cent0S 7默认启用LVM2（Logical Volume Manager），把机器的一块硬盘分为两个区sda1和sda2，其中分区sda1作为系统盘/boot挂载，少量空间；sda2作为一个物理卷并且完全作为逻辑卷组VG(Volume Group）centos，在这个逻辑卷组centos中建立三个逻辑卷LV（Logical Volume）root和home还有swap，分别挂载到根目录/和/home以及swap。而两个分区sda1和sda2上都建立了文件系统XFS，文件系统XFS作为RedHat的默认文件系统也有它的考虑，成为继ext3，ext4之后的主流文件系统。</span></p><p data-lake-id=\"7ea93d69bd86e012746165525fd5ef3e\" id=\"7ea93d69bd86e012746165525fd5ef3e\"><span data-lake-id=\"ub1f39f21\" id=\"ub1f39f21\">几个概念的关系：M个物理硬盘HD或者物理硬盘中的分区一起组建为一个逻辑卷组VG及存储池，在卷组VG中创建N个逻辑卷LV，在一个逻辑卷LV中创建文件系统比如xfs。物理硬盘/分区、逻辑卷有最小基本寻址单元，CentOS7默认的大小为4MB，二者一一对应，类似于链接或者变量引用，但是一个二者关系并非一直不变，因为物理硬盘可能发生变化而逻辑卷自动调整。创建卷组和逻辑卷，会类似于创建分区一样在磁盘开始位置写入卷的信息VGDA（卷组描述符区域，Volume Group Descriptor Area）用于识别。逻辑卷的好处在于屏蔽物理底层支撑，可自由扩展变更，而不用担心硬盘或者分区的物理空间局限，也就不会存在为了扩展分区大小而去备份/扩展分区重新格式化硬盘等问题。</span></p><p data-lake-id=\"dc3d6fd85bc5b183da7fa934be58db96\" id=\"dc3d6fd85bc5b183da7fa934be58db96\"><span data-lake-id=\"ucbb41a83\" id=\"ucbb41a83\">HD/分区--通过pvcreate-&gt;PV--通过vgcreate(vgchange)/vgextend--&gt;VG--通过lvcreate/lvextend--&gt;LV--通过mkfs--&gt;FS--通过xfs_growfs等--&gt;df磁盘生效</span></p><p data-lake-id=\"539e5da5515efd1ccb575a58e2613038\" id=\"539e5da5515efd1ccb575a58e2613038\"><span data-lake-id=\"u5ece8963\" id=\"u5ece8963\">但是关键点在于，CentOS 7默认安装时/home占用太多空间，根目录相较而言就小得多(只有50G)，而OpenStack安装以及存储的东西都在根目录下。上传几个镜像说不定就把你的根目录空间耗尽。不像其他文件系统ext3，ext4或者reiserfs等，有命令（resize2fs，resize_reiserfs）直接支持缩小文件系统的大小，</span><strong><span data-lake-id=\"u5377bfc5\" id=\"u5377bfc5\">默认安装的xfs支持扩展增大但是不支持缩小空间！</span></strong></p><h1 data-lake-id=\"MfNsq\" id=\"MfNsq\"><span data-lake-id=\"u8074da90\" id=\"u8074da90\">二、步骤概览</span></h1><p data-lake-id=\"c8688a5a183fd9db9e463e279d5ba92c\" id=\"c8688a5a183fd9db9e463e279d5ba92c\"><span data-lake-id=\"u6713e2b7\" id=\"u6713e2b7\">所以下面要做的步骤大概为：（直接root用户登录系统，本机或者ssh root过去，如果使用当前普通用户会遇到点不必要的麻烦）</span></p><ol list=\"u874730b2\"><li fid=\"u41de9208\" data-lake-id=\"d8cf0bb10ad7486d43e8b3cacb049cbc\" id=\"d8cf0bb10ad7486d43e8b3cacb049cbc\"><span data-lake-id=\"u4df9da33\" id=\"u4df9da33\">备份/home/用户文件，要是没啥内容则忽略这步（为什么非要这个/home，删掉直接用root？还是保留它，它存在也有道理的，再说生产环境还是不要只用root）</span></li><li fid=\"u41de9208\" data-lake-id=\"c1044d4fa5c4964d499336e757bceac3\" id=\"c1044d4fa5c4964d499336e757bceac3\"><span data-lake-id=\"ueb6a59f8\" id=\"ueb6a59f8\">umount /home 卸载并lvremove删除这个home逻辑卷，释放它的空间，vgdisplay查看卷组可用空间大小</span></li><li fid=\"u41de9208\" data-lake-id=\"ea90b77a3ab595429dbd680fa9131676\" id=\"ea90b77a3ab595429dbd680fa9131676\"><span data-lake-id=\"u1116b8a5\" id=\"u1116b8a5\">lvcreate新建一个新的home卷，并在其上mkfs建立xfs文件系统，(分配挂载到/home - 不用更改/etc/fstab，重启即可，) 拷贝回来之前的内容</span></li></ol><p data-lake-id=\"628438b419292fd92173e6dfcf5cf488\" id=\"628438b419292fd92173e6dfcf5cf488\"><span data-lake-id=\"u7dc1b320\" id=\"u7dc1b320\">(这个时候空余的空间随便你分配，可以再建立别的逻辑卷，或者直接空闲下来以后使用，也可以直奔主题的走下面的第四步)</span></p><ol list=\"ud59b7816\" start=\"4\"><li fid=\"u3ad4f881\" data-lake-id=\"696a3fc28d67c93934fc095b8e976ecc\" id=\"696a3fc28d67c93934fc095b8e976ecc\"><span data-lake-id=\"ubea465d1\" id=\"ubea465d1\">把之前的home逻辑卷释放并分配新卷home之后剩下的空间，lvextend分配给root卷，并用命令xfs_growfs扩展它的文件系统空间</span></li></ol><h1 data-lake-id=\"XHgkk\" id=\"XHgkk\"><span data-lake-id=\"u126c0cdd\" id=\"u126c0cdd\">三、相关命令</span></h1><p data-lake-id=\"528878c207111a22b0df1e9a5209dd15\" id=\"528878c207111a22b0df1e9a5209dd15\"><span data-lake-id=\"u21631f26\" id=\"u21631f26\">看看大概的命令有哪些</span></p><h4 data-lake-id=\"ARfpu\" id=\"ARfpu\"><span data-lake-id=\"u1936b6a3\" id=\"u1936b6a3\">pv</span></h4><blockquote data-lake-id=\"u5d018209\" id=\"u5d018209\"><p data-lake-id=\"85a2b5b20010806404bcfad1060d6bc7\" id=\"85a2b5b20010806404bcfad1060d6bc7\"><span data-lake-id=\"ue3470b67\" id=\"ue3470b67\">pvchange   pvck       pvcreate   pvdisplay  pvmove     pvremove   pvresize   pvs        pvscan</span></p></blockquote><h5 data-lake-id=\"VKAkA\" id=\"VKAkA\"><span data-lake-id=\"ubdd324b2\" id=\"ubdd324b2\">vb</span></h5><ol list=\"uc11cf5cc\"><li fid=\"ud0c995ad\" data-lake-id=\"cac2d550b5723021a451ef5309fcd906\" id=\"cac2d550b5723021a451ef5309fcd906\"><span data-lake-id=\"u0859e8ec\" id=\"u0859e8ec\">vgcfgbackup    vgchange       vgconvert      vgdisplay      vgextend       vgimportclone  vgmknodes      vgremove       vgs</span></li><li fid=\"ud0c995ad\" data-lake-id=\"b59bd712c8da304518f663ea62c57cf9\" id=\"b59bd712c8da304518f663ea62c57cf9\"><span data-lake-id=\"u26a9f7fd\" id=\"u26a9f7fd\">vgsplit        vgcfgrestore   vgck           vgcreate       vgexport       vgimport       vgmerge        vgreduce       vgrename</span></li><li fid=\"ud0c995ad\" data-lake-id=\"459cdd195ab788d63b168df9b5241543\" id=\"459cdd195ab788d63b168df9b5241543\"><span data-lake-id=\"u07d9aa9d\" id=\"u07d9aa9d\">vgscan</span></li></ol><h5 data-lake-id=\"hqAZb\" id=\"hqAZb\"><span data-lake-id=\"uedb0ba64\" id=\"uedb0ba64\">lv</span></h5><ol list=\"u102e70b8\"><li fid=\"u39a89e97\" data-lake-id=\"f5f30c916e79f0071315f162eebe4239\" id=\"f5f30c916e79f0071315f162eebe4239\"><span data-lake-id=\"u0765f03d\" id=\"u0765f03d\">lvchange     lvcreate     lvextend     lvmchange    lvmdiskscan  lvmetad      lvmsar       lvremove     lvresize     lvscan</span></li><li fid=\"u39a89e97\" data-lake-id=\"b7566079b63f5efdf265555bc5140019\" id=\"b7566079b63f5efdf265555bc5140019\"><span data-lake-id=\"u8af6260d\" id=\"u8af6260d\">lvconvert    lvdisplay    lvm</span></li></ol><h1 data-lake-id=\"eNBVQ\" id=\"eNBVQ\"><span data-lake-id=\"ucf6326e1\" id=\"ucf6326e1\">四、默认安装情况</span></h1><h5 data-lake-id=\"EnXI3\" id=\"EnXI3\"><span data-lake-id=\"u95140ef6\" id=\"u95140ef6\">df -h //查看磁盘使用情况</span></h5><h5 data-lake-id=\"LNDAY\" id=\"LNDAY\"><span data-lake-id=\"u34054384\" id=\"u34054384\">cat /etc/fstab</span></h5><h5 data-lake-id=\"Nq3Vi\" id=\"Nq3Vi\"><span data-lake-id=\"u733d8da4\" id=\"u733d8da4\">vgdisplay //查看逻辑卷组情况</span></h5><h5 data-lake-id=\"NAzyd\" id=\"NAzyd\"><span data-lake-id=\"u4d39e2b2\" id=\"u4d39e2b2\">lvdisplay //查看逻辑卷情况，默认三个，root、home和交换空间swap</span></h5><h1 data-lake-id=\"eLfJn\" id=\"eLfJn\"><span data-lake-id=\"ud6e5c7c5\" id=\"ud6e5c7c5\">五、操作步骤</span></h1><h4 data-lake-id=\"praAu\" id=\"praAu\"><span data-lake-id=\"ue0daed34\" id=\"ue0daed34\">备份/home中的用户数据</span></h4><blockquote data-lake-id=\"u43b4a717\" id=\"u43b4a717\"><p data-lake-id=\"dc21e2bdc2afcee7c7a26e7312115244\" id=\"dc21e2bdc2afcee7c7a26e7312115244\"><span data-lake-id=\"u50162862\" id=\"u50162862\">[root</span><a href=\"/localhost \" data-lake-id=\"uadc2f4ac\" id=\"uadc2f4ac\"><em><span data-lake-id=\"uf1f350bf\" id=\"uf1f350bf\">@</span></em><span data-lake-id=\"u9f828211\" id=\"u9f828211\">localhost </span></a><span data-lake-id=\"uc595d8f2\" id=\"uc595d8f2\"> /]# mkdir /backup &amp;&amp; mv /home/* /backup </span></p><p data-lake-id=\"1aa5d4d2d4c7a0734190b600957de01c\" id=\"1aa5d4d2d4c7a0734190b600957de01c\"><span data-lake-id=\"u6e1e2d42\" id=\"u6e1e2d42\">[root</span><a href=\"/localhost \" data-lake-id=\"u42e26a83\" id=\"u42e26a83\"><em><span data-lake-id=\"uc91c5358\" id=\"uc91c5358\">@</span></em><span data-lake-id=\"u55a7489c\" id=\"u55a7489c\">localhost </span></a><span data-lake-id=\"u39d87c51\" id=\"u39d87c51\"> /]# ls /home/ </span></p></blockquote><h4 data-lake-id=\"D1GBx\" id=\"D1GBx\"><span data-lake-id=\"ub9c7674f\" id=\"ub9c7674f\">卸载这个/home并删除逻辑卷home</span></h4><blockquote data-lake-id=\"u633f9fb3\" id=\"u633f9fb3\"><p data-lake-id=\"39a57959a62053ff4b02580150acaedc\" id=\"39a57959a62053ff4b02580150acaedc\"><span data-lake-id=\"uc46e5a25\" id=\"uc46e5a25\">umount /home</span></p></blockquote><h4 data-lake-id=\"WpAt6\" id=\"WpAt6\"><span data-lake-id=\"ue54fe30e\" id=\"ue54fe30e\">df -h //查看磁盘情况</span></h4><blockquote data-lake-id=\"u61da739b\" id=\"u61da739b\"><p data-lake-id=\"0bbb130e6138f88511056ab402eb9a22\" id=\"0bbb130e6138f88511056ab402eb9a22\"><span data-lake-id=\"u53cef138\" id=\"u53cef138\">Filesystem               Size  Used Avail Use% Mounted on</span></p><p data-lake-id=\"d595a1f2f07cf783a344a639772fd11a\" id=\"d595a1f2f07cf783a344a639772fd11a\"><span data-lake-id=\"ub9ae418b\" id=\"ub9ae418b\">/dev/mapper/centos-root   50G   17G   34G  33% /</span></p><p data-lake-id=\"74ee2049ac96a9eec679d31f0502e973\" id=\"74ee2049ac96a9eec679d31f0502e973\"><span data-lake-id=\"u0c34997c\" id=\"u0c34997c\">devtmpfs                 3.9G     0  3.9G   0% /dev</span></p><p data-lake-id=\"01a01d09394a07cacfffd1ab325393ec\" id=\"01a01d09394a07cacfffd1ab325393ec\"><span data-lake-id=\"u34fec92e\" id=\"u34fec92e\">tmpfs                    3.9G   84K  3.9G   1% /dev/shm</span></p><p data-lake-id=\"c6b5e6c7ec024990b8f728d46d36e13d\" id=\"c6b5e6c7ec024990b8f728d46d36e13d\"><span data-lake-id=\"u8ebd5da1\" id=\"u8ebd5da1\">tmpfs                    3.9G  9.0M  3.9G   1% /run</span></p><p data-lake-id=\"ad96e457432a52ea9e22177eb9913b5a\" id=\"ad96e457432a52ea9e22177eb9913b5a\"><span data-lake-id=\"u6acfa661\" id=\"u6acfa661\">tmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup</span></p><p data-lake-id=\"67047204b98a0a03990e85a5d1c9e87d\" id=\"67047204b98a0a03990e85a5d1c9e87d\"><span data-lake-id=\"u75377e23\" id=\"u75377e23\">/dev/sda1                494M  133M  362M  27% /boot</span></p></blockquote><h4 data-lake-id=\"ijyTT\" id=\"ijyTT\"><span data-lake-id=\"uc23aeffa\" id=\"uc23aeffa\">lvremove /dev/centos/home //删除逻辑卷home</span></h4><blockquote data-lake-id=\"u686cd17d\" id=\"u686cd17d\"><p data-lake-id=\"97061331612b892cca4bec8466de8bf9\" id=\"97061331612b892cca4bec8466de8bf9\"><span data-lake-id=\"u223df75b\" id=\"u223df75b\">Do you really want to remove active logical volume home? [y/n]: y</span></p><p data-lake-id=\"2640a81f9d62366b316c164f67782573\" id=\"2640a81f9d62366b316c164f67782573\"><span data-lake-id=\"u667fb2ce\" id=\"u667fb2ce\">Logical volume &quot;home&quot; successfully removed</span></p></blockquote><h4 data-lake-id=\"rUBLQ\" id=\"rUBLQ\"><span data-lake-id=\"ucdc89641\" id=\"ucdc89641\">vgdisplay //查看卷组可用空间</span></h4><h4 data-lake-id=\"MtC9w\" id=\"MtC9w\"><span data-lake-id=\"ude8ee5ce\" id=\"ude8ee5ce\">新建一个卷home，fdisk格式化为8e格式，文件系统还是搞为xfs（同样挂载到/home）</span></h4><blockquote data-lake-id=\"ub7fd30ae\" id=\"ub7fd30ae\"><p data-lake-id=\"04ef2572deef8c112abdaca1a49073b2\" id=\"04ef2572deef8c112abdaca1a49073b2\"><span data-lake-id=\"u4f614187\" id=\"u4f614187\">lvcreate -L 50G -n home centos //L表示大小，默认单位为M；n表示卷名；这里的centos是CentOS7安装系统的时候就默认建立好的卷组名</span></p><p data-lake-id=\"ec22d6c5cfeb9ddc6dc14f7c694cbd35\" id=\"ec22d6c5cfeb9ddc6dc14f7c694cbd35\"><span data-lake-id=\"u20ca1a40\" id=\"u20ca1a40\">WARNING: xfs signature detected on /dev/centos/home at offset 0. Wipe it? [y/n]: y</span></p><p data-lake-id=\"605831b505ff928ff029bad4af936e83\" id=\"605831b505ff928ff029bad4af936e83\"><span data-lake-id=\"ua2b3aa3d\" id=\"ua2b3aa3d\">Wiping xfs signature on /dev/centos/home.</span></p><p data-lake-id=\"949a027a17bbfba96791067fea0cc287\" id=\"949a027a17bbfba96791067fea0cc287\"><span data-lake-id=\"u71ec80eb\" id=\"u71ec80eb\">Logical volume &quot;home&quot; created.</span></p></blockquote><h4 data-lake-id=\"OMWqz\" id=\"OMWqz\"><span data-lake-id=\"uf2730fd8\" id=\"uf2730fd8\">lvdisplay //查看逻辑卷home</span></h4><h4 data-lake-id=\"pkbnr\" id=\"pkbnr\"><span data-lake-id=\"u526f0a84\" id=\"u526f0a84\">vgdisplay //再次查看卷组空间大小</span></h4><h4 data-lake-id=\"xxYyW\" id=\"xxYyW\"><span data-lake-id=\"ue6290499\" id=\"ue6290499\">[# vgchange -ay centos  //可选步骤：激活卷组centos，使得这个新建的home逻辑卷生效（用vgchange而不用lvchange）]</span></h4><blockquote data-lake-id=\"uf1c1439b\" id=\"uf1c1439b\"><p data-lake-id=\"8f8bc238b077cf91ac6db86de202c749\" id=\"8f8bc238b077cf91ac6db86de202c749\"><span data-lake-id=\"u7abf8fdc\" id=\"u7abf8fdc\">3 logical volume(s) in volume group &quot;centos&quot; now active</span></p></blockquote><h5 data-lake-id=\"oymp4\" id=\"oymp4\"><span data-lake-id=\"u47e344dd\" id=\"u47e344dd\">mkfs -t xfs /dev/centos/home //在新建的逻辑卷home上建立xfs文件系统</span></h5><h5 data-lake-id=\"TuWq5\" id=\"TuWq5\"><span data-lake-id=\"u0cf24665\" id=\"u0cf24665\">mount /dev/centos/home /home/ //把这个新逻辑卷home挂到之前的文件夹/home中去，直接重启用fstab来挂载也行</span></h5><h5 data-lake-id=\"Low1e\" id=\"Low1e\"><span data-lake-id=\"u9f0f0d08\" id=\"u9f0f0d08\">df -h //现在来查看磁盘使用情况</span></h5><h5 data-lake-id=\"KMMl4\" id=\"KMMl4\"><span data-lake-id=\"uf5f13e42\" id=\"uf5f13e42\">mv /backup/* /home/ //再把之前拷出来的东西拷回新建的/home中，拷贝完成就可以直接用这个普通用户来桌面登录系统了，不用重启</span></h5><h5 data-lake-id=\"WcTgv\" id=\"WcTgv\"><span data-lake-id=\"u5f36f4df\" id=\"u5f36f4df\">最后再把释放出来多余的空间分配给root卷并xfs_growfs扩展文件系统</span></h5><p data-lake-id=\"8fabb577170f14f920aba3c8fee21c37\" id=\"8fabb577170f14f920aba3c8fee21c37\"><span data-lake-id=\"uabd38534\" id=\"uabd38534\">lvextend -L +823G /dev/centos/root //把剩下的823G现在分配给root卷，剩下那点渣渣空间让它闲着；+号表示在原来的基础上额外增加，不要加好则设定为具体额度</span></p><p data-lake-id=\"9b285b76d339400b40a4bfcd5241a2b1\" id=\"9b285b76d339400b40a4bfcd5241a2b1\"><span data-lake-id=\"uec41ed9d\" id=\"uec41ed9d\">Size of logical volume centos/root changed from 50.00 GiB (12800 extents) to 873.00 GiB (223488 extents).</span></p><p data-lake-id=\"5f6134c3cea2f997460aaa0f745e58fd\" id=\"5f6134c3cea2f997460aaa0f745e58fd\"><span data-lake-id=\"u6be08b1c\" id=\"u6be08b1c\">Logical volume root successfully resized</span></p><h5 data-lake-id=\"i9mS8\" id=\"i9mS8\"><span data-lake-id=\"u0ee01448\" id=\"u0ee01448\">lvdisplay //查看逻辑卷和卷组情况</span></h5><h4 data-lake-id=\"wfxHT\" id=\"wfxHT\"><span data-lake-id=\"u10a816f8\" id=\"u10a816f8\">df -h //不使用xfs_growfs扩展文件系统，磁盘是不认得多的空间的</span></h4><h5 data-lake-id=\"XWR1r\" id=\"XWR1r\"><span data-lake-id=\"u2d88c858\" id=\"u2d88c858\">xfs_growfs /dev/centos/root //扩展root卷</span></h5><h5 data-lake-id=\"TgnOx\" id=\"TgnOx\"><span data-lake-id=\"u095464e8\" id=\"u095464e8\">df -h //再看root大小已经生效</span></h5><h1 data-lake-id=\"UOsae\" id=\"UOsae\"><span data-lake-id=\"uab152932\" id=\"uab152932\">六、命令汇总</span></h1><p data-lake-id=\"3e811213836744735d1666e6b0060d33\" id=\"3e811213836744735d1666e6b0060d33\"><span data-lake-id=\"u75c18602\" id=\"u75c18602\">简单总结下，就是下面几条命令：</span></p><ol list=\"u14589b44\"><li fid=\"u0bc9fe10\" data-lake-id=\"e7240ad4bb07a713d892f08c98f74513\" id=\"e7240ad4bb07a713d892f08c98f74513\"><span data-lake-id=\"ua6043d33\" id=\"ua6043d33\">mkdir /backup</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"8a3501778034eb4f5e4c47484fcd5fea\" id=\"8a3501778034eb4f5e4c47484fcd5fea\"><span data-lake-id=\"u2b0d0b96\" id=\"u2b0d0b96\">mv /home/* /backup/</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"867c27facc6a79a26f45fa34e41cb411\" id=\"867c27facc6a79a26f45fa34e41cb411\"><span data-lake-id=\"u6862a9a6\" id=\"u6862a9a6\">umount /home</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"a6588a8e81cd619ad765f1337d1c53db\" id=\"a6588a8e81cd619ad765f1337d1c53db\"><span data-lake-id=\"uf4722edc\" id=\"uf4722edc\">lvremove /dev/centos/home</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"a306d3bd30dda6866957f1aa0d1dd2da\" id=\"a306d3bd30dda6866957f1aa0d1dd2da\"><span data-lake-id=\"u5b3f8f8e\" id=\"u5b3f8f8e\">lvcreate -L 50G -n home cents</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"c4cd6c3c5d93cd9d8982d7ce6abe6206\" id=\"c4cd6c3c5d93cd9d8982d7ce6abe6206\"><span data-lake-id=\"uec56d5cb\" id=\"uec56d5cb\">mkfs -t xfs /dev/centos/home</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"e8a1eab0369bf200bb1c44b1de89c24b\" id=\"e8a1eab0369bf200bb1c44b1de89c24b\"><span data-lake-id=\"ub52b57ea\" id=\"ub52b57ea\">mv /backup/* /home/</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"357d5c2060b48585574a7f897fa1d51f\" id=\"357d5c2060b48585574a7f897fa1d51f\"><span data-lake-id=\"u684944f5\" id=\"u684944f5\">lvextend -L +xxxG /dev/centos/root</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"b5841b6138aab52a35d40b10493209d6\" id=\"b5841b6138aab52a35d40b10493209d6\"><span data-lake-id=\"u46164353\" id=\"u46164353\">xfs_growfs root</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"6ef142356ce7d11927f7501075614f8c\" id=\"6ef142356ce7d11927f7501075614f8c\"><span data-lake-id=\"ufb77aa3d\" id=\"ufb77aa3d\">rm -rf /backup</span></li></ol>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22weuli%22%7D\"></card><p data-lake-id=\"485b8515cba3e9ebece0eef3d3f4ff90\" id=\"485b8515cba3e9ebece0eef3d3f4ff90\"><span data-lake-id=\"ue209f64b\" id=\"ue209f64b\">date: 2019-01-26 10:16:32+00:00</span></p><p data-lake-id=\"50ad4a03b8c4a8971b0215385192ed25\" id=\"50ad4a03b8c4a8971b0215385192ed25\"><span data-lake-id=\"uaeacf128\" id=\"uaeacf128\">layout: post</span></p><p data-lake-id=\"534a05effed7145da67b5988fd521a2b\" id=\"534a05effed7145da67b5988fd521a2b\"><span data-lake-id=\"u8c54da49\" id=\"u8c54da49\">title: 从CentOS7默认安装的/home中转移空间到根目录/</span></p><p data-lake-id=\"602aa901fe428ec0f3dd433cbb534567\" id=\"602aa901fe428ec0f3dd433cbb534567\"><span data-lake-id=\"u98be4f39\" id=\"u98be4f39\">categories: Centos</span></p><p data-lake-id=\"6ff815e844f13efcd69d98918db01ec2\" id=\"6ff815e844f13efcd69d98918db01ec2\"><span data-lake-id=\"u5da961a5\" id=\"u5da961a5\">key: 20190126</span></p><p data-lake-id=\"95cfd805296c054618bdfcfeab117d48\" id=\"95cfd805296c054618bdfcfeab117d48\"><span data-lake-id=\"u741e010a\" id=\"u741e010a\">tags:</span></p><ul list=\"u745fc7f6\"><li fid=\"uc46184b7\" data-lake-id=\"6f9c81cad045462d13f88a5fc6eac36e\" id=\"6f9c81cad045462d13f88a5fc6eac36e\"><span data-lake-id=\"u7c2920a0\" id=\"u7c2920a0\">centos</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22xHSf0%22%7D\"></card><p data-lake-id=\"61c35e8e96fdb673873abc724c466051\" id=\"61c35e8e96fdb673873abc724c466051\"><span data-lake-id=\"ufe015e8e\" id=\"ufe015e8e\">转自 </span><a href=\"https://blog.csdn.net/evandeng2009/article/details/49814097\" target=\"_blank\" data-lake-id=\"u284199d5\" id=\"u284199d5\"><span data-lake-id=\"u1e4d6e8a\" id=\"u1e4d6e8a\">https://blog.csdn.net/evandeng2009/article/details/49814097</span></a></p><h1 data-lake-id=\"bKTBg\" id=\"bKTBg\"><span data-lake-id=\"uc80d6395\" id=\"uc80d6395\">一、基础概念</span></h1><p data-lake-id=\"fa09f391fc81872c05547190b24f52ca\" id=\"fa09f391fc81872c05547190b24f52ca\"><span data-lake-id=\"uf5d01e02\" id=\"uf5d01e02\">Cent0S 7默认启用LVM2（Logical Volume Manager），把机器的一块硬盘分为两个区sda1和sda2，其中分区sda1作为系统盘/boot挂载，少量空间；sda2作为一个物理卷并且完全作为逻辑卷组VG(Volume Group）centos，在这个逻辑卷组centos中建立三个逻辑卷LV（Logical Volume）root和home还有swap，分别挂载到根目录/和/home以及swap。而两个分区sda1和sda2上都建立了文件系统XFS，文件系统XFS作为RedHat的默认文件系统也有它的考虑，成为继ext3，ext4之后的主流文件系统。</span></p><p data-lake-id=\"7ea93d69bd86e012746165525fd5ef3e\" id=\"7ea93d69bd86e012746165525fd5ef3e\"><span data-lake-id=\"ub1f39f21\" id=\"ub1f39f21\">几个概念的关系：M个物理硬盘HD或者物理硬盘中的分区一起组建为一个逻辑卷组VG及存储池，在卷组VG中创建N个逻辑卷LV，在一个逻辑卷LV中创建文件系统比如xfs。物理硬盘/分区、逻辑卷有最小基本寻址单元，CentOS7默认的大小为4MB，二者一一对应，类似于链接或者变量引用，但是一个二者关系并非一直不变，因为物理硬盘可能发生变化而逻辑卷自动调整。创建卷组和逻辑卷，会类似于创建分区一样在磁盘开始位置写入卷的信息VGDA（卷组描述符区域，Volume Group Descriptor Area）用于识别。逻辑卷的好处在于屏蔽物理底层支撑，可自由扩展变更，而不用担心硬盘或者分区的物理空间局限，也就不会存在为了扩展分区大小而去备份/扩展分区重新格式化硬盘等问题。</span></p><p data-lake-id=\"dc3d6fd85bc5b183da7fa934be58db96\" id=\"dc3d6fd85bc5b183da7fa934be58db96\"><span data-lake-id=\"ucbb41a83\" id=\"ucbb41a83\">HD/分区--通过pvcreate-&gt;PV--通过vgcreate(vgchange)/vgextend--&gt;VG--通过lvcreate/lvextend--&gt;LV--通过mkfs--&gt;FS--通过xfs_growfs等--&gt;df磁盘生效</span></p><p data-lake-id=\"539e5da5515efd1ccb575a58e2613038\" id=\"539e5da5515efd1ccb575a58e2613038\"><span data-lake-id=\"u5ece8963\" id=\"u5ece8963\">但是关键点在于，CentOS 7默认安装时/home占用太多空间，根目录相较而言就小得多(只有50G)，而OpenStack安装以及存储的东西都在根目录下。上传几个镜像说不定就把你的根目录空间耗尽。不像其他文件系统ext3，ext4或者reiserfs等，有命令（resize2fs，resize_reiserfs）直接支持缩小文件系统的大小，</span><strong><span data-lake-id=\"u5377bfc5\" id=\"u5377bfc5\">默认安装的xfs支持扩展增大但是不支持缩小空间！</span></strong></p><h1 data-lake-id=\"MfNsq\" id=\"MfNsq\"><span data-lake-id=\"u8074da90\" id=\"u8074da90\">二、步骤概览</span></h1><p data-lake-id=\"c8688a5a183fd9db9e463e279d5ba92c\" id=\"c8688a5a183fd9db9e463e279d5ba92c\"><span data-lake-id=\"u6713e2b7\" id=\"u6713e2b7\">所以下面要做的步骤大概为：（直接root用户登录系统，本机或者ssh root过去，如果使用当前普通用户会遇到点不必要的麻烦）</span></p><ol list=\"u874730b2\"><li fid=\"u41de9208\" data-lake-id=\"d8cf0bb10ad7486d43e8b3cacb049cbc\" id=\"d8cf0bb10ad7486d43e8b3cacb049cbc\"><span data-lake-id=\"u4df9da33\" id=\"u4df9da33\">备份/home/用户文件，要是没啥内容则忽略这步（为什么非要这个/home，删掉直接用root？还是保留它，它存在也有道理的，再说生产环境还是不要只用root）</span></li><li fid=\"u41de9208\" data-lake-id=\"c1044d4fa5c4964d499336e757bceac3\" id=\"c1044d4fa5c4964d499336e757bceac3\"><span data-lake-id=\"ueb6a59f8\" id=\"ueb6a59f8\">umount /home 卸载并lvremove删除这个home逻辑卷，释放它的空间，vgdisplay查看卷组可用空间大小</span></li><li fid=\"u41de9208\" data-lake-id=\"ea90b77a3ab595429dbd680fa9131676\" id=\"ea90b77a3ab595429dbd680fa9131676\"><span data-lake-id=\"u1116b8a5\" id=\"u1116b8a5\">lvcreate新建一个新的home卷，并在其上mkfs建立xfs文件系统，(分配挂载到/home - 不用更改/etc/fstab，重启即可，) 拷贝回来之前的内容</span></li></ol><p data-lake-id=\"628438b419292fd92173e6dfcf5cf488\" id=\"628438b419292fd92173e6dfcf5cf488\"><span data-lake-id=\"u7dc1b320\" id=\"u7dc1b320\">(这个时候空余的空间随便你分配，可以再建立别的逻辑卷，或者直接空闲下来以后使用，也可以直奔主题的走下面的第四步)</span></p><ol list=\"ud59b7816\" start=\"4\"><li fid=\"u3ad4f881\" data-lake-id=\"696a3fc28d67c93934fc095b8e976ecc\" id=\"696a3fc28d67c93934fc095b8e976ecc\"><span data-lake-id=\"ubea465d1\" id=\"ubea465d1\">把之前的home逻辑卷释放并分配新卷home之后剩下的空间，lvextend分配给root卷，并用命令xfs_growfs扩展它的文件系统空间</span></li></ol><h1 data-lake-id=\"XHgkk\" id=\"XHgkk\"><span data-lake-id=\"u126c0cdd\" id=\"u126c0cdd\">三、相关命令</span></h1><p data-lake-id=\"528878c207111a22b0df1e9a5209dd15\" id=\"528878c207111a22b0df1e9a5209dd15\"><span data-lake-id=\"u21631f26\" id=\"u21631f26\">看看大概的命令有哪些</span></p><h4 data-lake-id=\"ARfpu\" id=\"ARfpu\"><span data-lake-id=\"u1936b6a3\" id=\"u1936b6a3\">pv</span></h4><blockquote data-lake-id=\"u5d018209\" id=\"u5d018209\"><p data-lake-id=\"85a2b5b20010806404bcfad1060d6bc7\" id=\"85a2b5b20010806404bcfad1060d6bc7\"><span data-lake-id=\"ue3470b67\" id=\"ue3470b67\">pvchange   pvck       pvcreate   pvdisplay  pvmove     pvremove   pvresize   pvs        pvscan</span></p></blockquote><h5 data-lake-id=\"VKAkA\" id=\"VKAkA\"><span data-lake-id=\"ubdd324b2\" id=\"ubdd324b2\">vb</span></h5><ol list=\"uc11cf5cc\"><li fid=\"ud0c995ad\" data-lake-id=\"cac2d550b5723021a451ef5309fcd906\" id=\"cac2d550b5723021a451ef5309fcd906\"><span data-lake-id=\"u0859e8ec\" id=\"u0859e8ec\">vgcfgbackup    vgchange       vgconvert      vgdisplay      vgextend       vgimportclone  vgmknodes      vgremove       vgs</span></li><li fid=\"ud0c995ad\" data-lake-id=\"b59bd712c8da304518f663ea62c57cf9\" id=\"b59bd712c8da304518f663ea62c57cf9\"><span data-lake-id=\"u26a9f7fd\" id=\"u26a9f7fd\">vgsplit        vgcfgrestore   vgck           vgcreate       vgexport       vgimport       vgmerge        vgreduce       vgrename</span></li><li fid=\"ud0c995ad\" data-lake-id=\"459cdd195ab788d63b168df9b5241543\" id=\"459cdd195ab788d63b168df9b5241543\"><span data-lake-id=\"u07d9aa9d\" id=\"u07d9aa9d\">vgscan</span></li></ol><h5 data-lake-id=\"hqAZb\" id=\"hqAZb\"><span data-lake-id=\"uedb0ba64\" id=\"uedb0ba64\">lv</span></h5><ol list=\"u102e70b8\"><li fid=\"u39a89e97\" data-lake-id=\"f5f30c916e79f0071315f162eebe4239\" id=\"f5f30c916e79f0071315f162eebe4239\"><span data-lake-id=\"u0765f03d\" id=\"u0765f03d\">lvchange     lvcreate     lvextend     lvmchange    lvmdiskscan  lvmetad      lvmsar       lvremove     lvresize     lvscan</span></li><li fid=\"u39a89e97\" data-lake-id=\"b7566079b63f5efdf265555bc5140019\" id=\"b7566079b63f5efdf265555bc5140019\"><span data-lake-id=\"u8af6260d\" id=\"u8af6260d\">lvconvert    lvdisplay    lvm</span></li></ol><h1 data-lake-id=\"eNBVQ\" id=\"eNBVQ\"><span data-lake-id=\"ucf6326e1\" id=\"ucf6326e1\">四、默认安装情况</span></h1><h5 data-lake-id=\"EnXI3\" id=\"EnXI3\"><span data-lake-id=\"u95140ef6\" id=\"u95140ef6\">df -h //查看磁盘使用情况</span></h5><h5 data-lake-id=\"LNDAY\" id=\"LNDAY\"><span data-lake-id=\"u34054384\" id=\"u34054384\">cat /etc/fstab</span></h5><h5 data-lake-id=\"Nq3Vi\" id=\"Nq3Vi\"><span data-lake-id=\"u733d8da4\" id=\"u733d8da4\">vgdisplay //查看逻辑卷组情况</span></h5><h5 data-lake-id=\"NAzyd\" id=\"NAzyd\"><span data-lake-id=\"u4d39e2b2\" id=\"u4d39e2b2\">lvdisplay //查看逻辑卷情况，默认三个，root、home和交换空间swap</span></h5><h1 data-lake-id=\"eLfJn\" id=\"eLfJn\"><span data-lake-id=\"ud6e5c7c5\" id=\"ud6e5c7c5\">五、操作步骤</span></h1><h4 data-lake-id=\"praAu\" id=\"praAu\"><span data-lake-id=\"ue0daed34\" id=\"ue0daed34\">备份/home中的用户数据</span></h4><blockquote data-lake-id=\"u43b4a717\" id=\"u43b4a717\"><p data-lake-id=\"dc21e2bdc2afcee7c7a26e7312115244\" id=\"dc21e2bdc2afcee7c7a26e7312115244\"><span data-lake-id=\"u50162862\" id=\"u50162862\">[root</span><a href=\"/localhost \" data-lake-id=\"uadc2f4ac\" id=\"uadc2f4ac\"><em><span data-lake-id=\"uf1f350bf\" id=\"uf1f350bf\">@</span></em><span data-lake-id=\"u9f828211\" id=\"u9f828211\">localhost </span></a><span data-lake-id=\"uc595d8f2\" id=\"uc595d8f2\"> /]# mkdir /backup &amp;&amp; mv /home/* /backup </span></p><p data-lake-id=\"1aa5d4d2d4c7a0734190b600957de01c\" id=\"1aa5d4d2d4c7a0734190b600957de01c\"><span data-lake-id=\"u6e1e2d42\" id=\"u6e1e2d42\">[root</span><a href=\"/localhost \" data-lake-id=\"u42e26a83\" id=\"u42e26a83\"><em><span data-lake-id=\"uc91c5358\" id=\"uc91c5358\">@</span></em><span data-lake-id=\"u55a7489c\" id=\"u55a7489c\">localhost </span></a><span data-lake-id=\"u39d87c51\" id=\"u39d87c51\"> /]# ls /home/ </span></p></blockquote><h4 data-lake-id=\"D1GBx\" id=\"D1GBx\"><span data-lake-id=\"ub9c7674f\" id=\"ub9c7674f\">卸载这个/home并删除逻辑卷home</span></h4><blockquote data-lake-id=\"u633f9fb3\" id=\"u633f9fb3\"><p data-lake-id=\"39a57959a62053ff4b02580150acaedc\" id=\"39a57959a62053ff4b02580150acaedc\"><span data-lake-id=\"uc46e5a25\" id=\"uc46e5a25\">umount /home</span></p></blockquote><h4 data-lake-id=\"WpAt6\" id=\"WpAt6\"><span data-lake-id=\"ue54fe30e\" id=\"ue54fe30e\">df -h //查看磁盘情况</span></h4><blockquote data-lake-id=\"u61da739b\" id=\"u61da739b\"><p data-lake-id=\"0bbb130e6138f88511056ab402eb9a22\" id=\"0bbb130e6138f88511056ab402eb9a22\"><span data-lake-id=\"u53cef138\" id=\"u53cef138\">Filesystem               Size  Used Avail Use% Mounted on</span></p><p data-lake-id=\"d595a1f2f07cf783a344a639772fd11a\" id=\"d595a1f2f07cf783a344a639772fd11a\"><span data-lake-id=\"ub9ae418b\" id=\"ub9ae418b\">/dev/mapper/centos-root   50G   17G   34G  33% /</span></p><p data-lake-id=\"74ee2049ac96a9eec679d31f0502e973\" id=\"74ee2049ac96a9eec679d31f0502e973\"><span data-lake-id=\"u0c34997c\" id=\"u0c34997c\">devtmpfs                 3.9G     0  3.9G   0% /dev</span></p><p data-lake-id=\"01a01d09394a07cacfffd1ab325393ec\" id=\"01a01d09394a07cacfffd1ab325393ec\"><span data-lake-id=\"u34fec92e\" id=\"u34fec92e\">tmpfs                    3.9G   84K  3.9G   1% /dev/shm</span></p><p data-lake-id=\"c6b5e6c7ec024990b8f728d46d36e13d\" id=\"c6b5e6c7ec024990b8f728d46d36e13d\"><span data-lake-id=\"u8ebd5da1\" id=\"u8ebd5da1\">tmpfs                    3.9G  9.0M  3.9G   1% /run</span></p><p data-lake-id=\"ad96e457432a52ea9e22177eb9913b5a\" id=\"ad96e457432a52ea9e22177eb9913b5a\"><span data-lake-id=\"u6acfa661\" id=\"u6acfa661\">tmpfs                    3.9G     0  3.9G   0% /sys/fs/cgroup</span></p><p data-lake-id=\"67047204b98a0a03990e85a5d1c9e87d\" id=\"67047204b98a0a03990e85a5d1c9e87d\"><span data-lake-id=\"u75377e23\" id=\"u75377e23\">/dev/sda1                494M  133M  362M  27% /boot</span></p></blockquote><h4 data-lake-id=\"ijyTT\" id=\"ijyTT\"><span data-lake-id=\"uc23aeffa\" id=\"uc23aeffa\">lvremove /dev/centos/home //删除逻辑卷home</span></h4><blockquote data-lake-id=\"u686cd17d\" id=\"u686cd17d\"><p data-lake-id=\"97061331612b892cca4bec8466de8bf9\" id=\"97061331612b892cca4bec8466de8bf9\"><span data-lake-id=\"u223df75b\" id=\"u223df75b\">Do you really want to remove active logical volume home? [y/n]: y</span></p><p data-lake-id=\"2640a81f9d62366b316c164f67782573\" id=\"2640a81f9d62366b316c164f67782573\"><span data-lake-id=\"u667fb2ce\" id=\"u667fb2ce\">Logical volume &quot;home&quot; successfully removed</span></p></blockquote><h4 data-lake-id=\"rUBLQ\" id=\"rUBLQ\"><span data-lake-id=\"ucdc89641\" id=\"ucdc89641\">vgdisplay //查看卷组可用空间</span></h4><h4 data-lake-id=\"MtC9w\" id=\"MtC9w\"><span data-lake-id=\"ude8ee5ce\" id=\"ude8ee5ce\">新建一个卷home，fdisk格式化为8e格式，文件系统还是搞为xfs（同样挂载到/home）</span></h4><blockquote data-lake-id=\"ub7fd30ae\" id=\"ub7fd30ae\"><p data-lake-id=\"04ef2572deef8c112abdaca1a49073b2\" id=\"04ef2572deef8c112abdaca1a49073b2\"><span data-lake-id=\"u4f614187\" id=\"u4f614187\">lvcreate -L 50G -n home centos //L表示大小，默认单位为M；n表示卷名；这里的centos是CentOS7安装系统的时候就默认建立好的卷组名</span></p><p data-lake-id=\"ec22d6c5cfeb9ddc6dc14f7c694cbd35\" id=\"ec22d6c5cfeb9ddc6dc14f7c694cbd35\"><span data-lake-id=\"u20ca1a40\" id=\"u20ca1a40\">WARNING: xfs signature detected on /dev/centos/home at offset 0. Wipe it? [y/n]: y</span></p><p data-lake-id=\"605831b505ff928ff029bad4af936e83\" id=\"605831b505ff928ff029bad4af936e83\"><span data-lake-id=\"ua2b3aa3d\" id=\"ua2b3aa3d\">Wiping xfs signature on /dev/centos/home.</span></p><p data-lake-id=\"949a027a17bbfba96791067fea0cc287\" id=\"949a027a17bbfba96791067fea0cc287\"><span data-lake-id=\"u71ec80eb\" id=\"u71ec80eb\">Logical volume &quot;home&quot; created.</span></p></blockquote><h4 data-lake-id=\"OMWqz\" id=\"OMWqz\"><span data-lake-id=\"uf2730fd8\" id=\"uf2730fd8\">lvdisplay //查看逻辑卷home</span></h4><h4 data-lake-id=\"pkbnr\" id=\"pkbnr\"><span data-lake-id=\"u526f0a84\" id=\"u526f0a84\">vgdisplay //再次查看卷组空间大小</span></h4><h4 data-lake-id=\"xxYyW\" id=\"xxYyW\"><span data-lake-id=\"ue6290499\" id=\"ue6290499\">[# vgchange -ay centos  //可选步骤：激活卷组centos，使得这个新建的home逻辑卷生效（用vgchange而不用lvchange）]</span></h4><blockquote data-lake-id=\"uf1c1439b\" id=\"uf1c1439b\"><p data-lake-id=\"8f8bc238b077cf91ac6db86de202c749\" id=\"8f8bc238b077cf91ac6db86de202c749\"><span data-lake-id=\"u7abf8fdc\" id=\"u7abf8fdc\">3 logical volume(s) in volume group &quot;centos&quot; now active</span></p></blockquote><h5 data-lake-id=\"oymp4\" id=\"oymp4\"><span data-lake-id=\"u47e344dd\" id=\"u47e344dd\">mkfs -t xfs /dev/centos/home //在新建的逻辑卷home上建立xfs文件系统</span></h5><h5 data-lake-id=\"TuWq5\" id=\"TuWq5\"><span data-lake-id=\"u0cf24665\" id=\"u0cf24665\">mount /dev/centos/home /home/ //把这个新逻辑卷home挂到之前的文件夹/home中去，直接重启用fstab来挂载也行</span></h5><h5 data-lake-id=\"Low1e\" id=\"Low1e\"><span data-lake-id=\"u9f0f0d08\" id=\"u9f0f0d08\">df -h //现在来查看磁盘使用情况</span></h5><h5 data-lake-id=\"KMMl4\" id=\"KMMl4\"><span data-lake-id=\"uf5f13e42\" id=\"uf5f13e42\">mv /backup/* /home/ //再把之前拷出来的东西拷回新建的/home中，拷贝完成就可以直接用这个普通用户来桌面登录系统了，不用重启</span></h5><h5 data-lake-id=\"WcTgv\" id=\"WcTgv\"><span data-lake-id=\"u5f36f4df\" id=\"u5f36f4df\">最后再把释放出来多余的空间分配给root卷并xfs_growfs扩展文件系统</span></h5><p data-lake-id=\"8fabb577170f14f920aba3c8fee21c37\" id=\"8fabb577170f14f920aba3c8fee21c37\"><span data-lake-id=\"uabd38534\" id=\"uabd38534\">lvextend -L +823G /dev/centos/root //把剩下的823G现在分配给root卷，剩下那点渣渣空间让它闲着；+号表示在原来的基础上额外增加，不要加好则设定为具体额度</span></p><p data-lake-id=\"9b285b76d339400b40a4bfcd5241a2b1\" id=\"9b285b76d339400b40a4bfcd5241a2b1\"><span data-lake-id=\"uec41ed9d\" id=\"uec41ed9d\">Size of logical volume centos/root changed from 50.00 GiB (12800 extents) to 873.00 GiB (223488 extents).</span></p><p data-lake-id=\"5f6134c3cea2f997460aaa0f745e58fd\" id=\"5f6134c3cea2f997460aaa0f745e58fd\"><span data-lake-id=\"u6be08b1c\" id=\"u6be08b1c\">Logical volume root successfully resized</span></p><h5 data-lake-id=\"i9mS8\" id=\"i9mS8\"><span data-lake-id=\"u0ee01448\" id=\"u0ee01448\">lvdisplay //查看逻辑卷和卷组情况</span></h5><h4 data-lake-id=\"wfxHT\" id=\"wfxHT\"><span data-lake-id=\"u10a816f8\" id=\"u10a816f8\">df -h //不使用xfs_growfs扩展文件系统，磁盘是不认得多的空间的</span></h4><h5 data-lake-id=\"XWR1r\" id=\"XWR1r\"><span data-lake-id=\"u2d88c858\" id=\"u2d88c858\">xfs_growfs /dev/centos/root //扩展root卷</span></h5><h5 data-lake-id=\"TgnOx\" id=\"TgnOx\"><span data-lake-id=\"u095464e8\" id=\"u095464e8\">df -h //再看root大小已经生效</span></h5><h1 data-lake-id=\"UOsae\" id=\"UOsae\"><span data-lake-id=\"uab152932\" id=\"uab152932\">六、命令汇总</span></h1><p data-lake-id=\"3e811213836744735d1666e6b0060d33\" id=\"3e811213836744735d1666e6b0060d33\"><span data-lake-id=\"u75c18602\" id=\"u75c18602\">简单总结下，就是下面几条命令：</span></p><ol list=\"u14589b44\"><li fid=\"u0bc9fe10\" data-lake-id=\"e7240ad4bb07a713d892f08c98f74513\" id=\"e7240ad4bb07a713d892f08c98f74513\"><span data-lake-id=\"ua6043d33\" id=\"ua6043d33\">mkdir /backup</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"8a3501778034eb4f5e4c47484fcd5fea\" id=\"8a3501778034eb4f5e4c47484fcd5fea\"><span data-lake-id=\"u2b0d0b96\" id=\"u2b0d0b96\">mv /home/* /backup/</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"867c27facc6a79a26f45fa34e41cb411\" id=\"867c27facc6a79a26f45fa34e41cb411\"><span data-lake-id=\"u6862a9a6\" id=\"u6862a9a6\">umount /home</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"a6588a8e81cd619ad765f1337d1c53db\" id=\"a6588a8e81cd619ad765f1337d1c53db\"><span data-lake-id=\"uf4722edc\" id=\"uf4722edc\">lvremove /dev/centos/home</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"a306d3bd30dda6866957f1aa0d1dd2da\" id=\"a306d3bd30dda6866957f1aa0d1dd2da\"><span data-lake-id=\"u5b3f8f8e\" id=\"u5b3f8f8e\">lvcreate -L 50G -n home cents</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"c4cd6c3c5d93cd9d8982d7ce6abe6206\" id=\"c4cd6c3c5d93cd9d8982d7ce6abe6206\"><span data-lake-id=\"uec56d5cb\" id=\"uec56d5cb\">mkfs -t xfs /dev/centos/home</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"e8a1eab0369bf200bb1c44b1de89c24b\" id=\"e8a1eab0369bf200bb1c44b1de89c24b\"><span data-lake-id=\"ub52b57ea\" id=\"ub52b57ea\">mv /backup/* /home/</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"357d5c2060b48585574a7f897fa1d51f\" id=\"357d5c2060b48585574a7f897fa1d51f\"><span data-lake-id=\"u684944f5\" id=\"u684944f5\">lvextend -L +xxxG /dev/centos/root</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"b5841b6138aab52a35d40b10493209d6\" id=\"b5841b6138aab52a35d40b10493209d6\"><span data-lake-id=\"u46164353\" id=\"u46164353\">xfs_growfs root</span></li><li fid=\"u0bc9fe10\" data-lake-id=\"6ef142356ce7d11927f7501075614f8c\" id=\"6ef142356ce7d11927f7501075614f8c\"><span data-lake-id=\"ufb77aa3d\" id=\"ufb77aa3d\">rm -rf /backup</span></li></ol>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-10T14:08:51.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:31.000Z",
    "updated_at": "2022-12-10T14:08:52.000Z",
    "published_at": "2022-12-10T14:08:51.000Z",
    "first_published_at": "2022-12-09T12:02:31.229Z",
    "word_count": 1732,
    "cover": null,
    "description": "date: 2019-01-26 10:16:32+00:00layout: posttitle: 从CentOS7默认安装的/home中转移空间到根目录/categories: Centoskey: 20190126tags:centos转自 https://blog.csdn.net/ev...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945050,
    "slug": "ea56a08a3843799212555d85eb6c097c",
    "title": "2018-07-18-django Translation 实现中英文切换",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-07-18 10:16:32+00:00<br />layout: post<br />title: django Translation 实现中英文切换<br />categories: django<br />tags:\n\n- django\n\n---\n\n<a name=\"UgOUx\"></a>\n## 环境\n```\ndjango 2.0.6 (之前文章有详细项目新建的描述)\n```\n<a name=\"nbaNt\"></a>\n## 配置\n<a name=\"SbDHt\"></a>\n### setting.py\n<a name=\"ggHKY\"></a>\n###### 配置 MIDDLEWARE\n```\nMIDDLEWARE = [\n   'django.contrib.sessions.middleware.SessionMiddleware',\n   'django.middleware.locale.LocaleMiddleware',\n   'django.middleware.common.CommonMiddleware',\n]\n```\n注意：LocaleMiddleware 需要放在SessionMiddleware之后，CommonMiddleware之前。<br />[详细介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-language-preference)\n<a name=\"iYKgD\"></a>\n###### 配置template\n```\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n                'django.template.context_processors.i18n',\n            ],\n        },\n    },\n]\n```\n<a name=\"FF6Lx\"></a>\n###### 启用i18n\n```\nUSE_I18N = True\nUSE_L10N = True\nUSE_TZ = True\n# 翻译文件所在目录，需手工创建\nLOCALE_PATHS = [\n    os.path.join(BASE_DIR, 'locale'),\n]\nLANGUAGE_CODE = 'zh-hans'\nLANGUAGES = {\n    ('zh-hans', '中文简体'),\n    ('en', 'English'),\n}\n```\n注意：如果local文件夹在app目录下无需创建LOCALE_PATHS变量。[详细介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-translations)<br />LANGUAGES 中可以添加多个django支持的语言（这边以中英文为例）\n<a name=\"oz5Ml\"></a>\n### yourproject/urls.py\n```\nfrom django.conf.urls.i18n import i18n_patterns\nurlpatterns = [\n    path('i18n/', include('django.conf.urls.i18n')),\n]\nurlpatterns += i18n_patterns(\n    path('', include('yourapp.urls')),\n)\n```\n<a name=\"L8Giu\"></a>\n## 声明需要翻译的字符串\n<a name=\"lFCHJ\"></a>\n##### 准备工作\n需要提前安装gettext<br />在ubuntu下运行\n```\nsudo apt-get install gettext\n```\n即可。\n<a name=\"VXRnV\"></a>\n### 在python代码中\n在此示例中，文本“欢迎访问我的网站”。 被标记为翻译字符串：\n```\nfrom django.http import HttpResponse\nfrom django.utils.translation import gettext as _\ndef my_view(request):\n    output = _(\"欢迎访问我的网站\")\n    return HttpResponse(output)\n```\n[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-python-code)\n<a name=\"nBKkS\"></a>\n### 在tmplate代码中\n需要将{％ load i18n ％}<br />放到模板文件头部（继承的文件也需要假如该声明）<br />{％trans％}模板标记转换为常量字符串（用单引号或双引号括起来）或变量内容：\n```python\n<title>{％ trans \"This is the title.\" ％}</title>\n<title>{％ trans myvar ％}</title>\n```\n如果您的翻译需要带变量的字符串（占位符），请改用{％blocktrans％}。\n```\n{％ blocktrans ％}This string will have {{ value }} inside.{％ endblocktrans ％}\n```\n如果您想要检索已翻译的字符串而不显示它，可以使用以下语法：\n```\n{％ trans \"This is the title\" as the_title ％}\n<title>{{ the_title }}</title>\n<meta name=\"description\" content=\"{{ the_title }}\">\n```\n[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-template-code)\n<a name=\"DnuaA\"></a>\n## 创建语言文件\n要创建或更新消息文件，请运行以下命令：\n```\ndjango-admin makemessages -l en\n```\nen 是你想创建的文件的语言。<br />注意：该脚本应该从两个地方之一运行（在运行前需要新建locale文件夹）：\n```\nDjango项目的根目录（包含manage.py的目录）。\n您的一个Django应用程序的根目录。\n```\n运行完命令后会创建一个.po文件<br />编辑 yourproject/locale/en/LC_MESSAGES/django.po\n```\n#: path/to/python/module.py:23\nmsgid \"欢迎访问我的网站。 \"\nmsgstr \"Welcome to my site.\"\n```\nmsgid 是标记的想要翻译的字符串<br />msgstr 是你想要翻译后显示的字符串，默认为空。<br />[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#localization-how-to-create-language-files)\n<a name=\"vulAt\"></a>\n### 编译语言文件\n运行以下代码\n```\ndjango-admin compilemessages\n```\n大功告成。<br />[详细介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#compiling-message-files)\n<a name=\"rIJ1W\"></a>\n## 设置语言\n在模板中添加以下代码\n```\n{％ load i18n ％}\n<form action=\"{％ url 'set_language' ％}\" method=\"post\">{％ csrf_token ％}\n    <input name=\"next\" type=\"hidden\" value=\"{{ redirect_to }}\" />\n    <select name=\"language\">\n        {％ get_current_language as LANGUAGE_CODE ％}\n        {％ get_available_languages as LANGUAGES ％}\n        {％ get_language_info_list for LANGUAGES as languages ％}\n        {％ for language in languages ％}\n            <option value=\"{{ language.code }}\"{％ if language.code == LANGUAGE_CODE ％} selected{％ endif ％}>\n                {{ language.name_local }} ({{ language.code }})\n            </option>\n        {％ endfor ％}\n    </select>\n    <input type=\"submit\" value=\"Go\" />\n</form>\n```\n实现语言选择功能。<br />[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#the-set-language-redirect-view)<br />以上是简单的实现中英文切换的步骤，如需了解更多，可以点击更多介绍进入官网进行了解。<br />提示：复制后请把%替换为小写。\n",
    "body_draft": "---\n\ndate: 2018-07-18 10:16:32+00:00<br />layout: post<br />title: django Translation 实现中英文切换<br />categories: django<br />tags:\n\n- django\n\n---\n\n<a name=\"UgOUx\"></a>\n## 环境\n```\ndjango 2.0.6 (之前文章有详细项目新建的描述)\n```\n<a name=\"nbaNt\"></a>\n## 配置\n<a name=\"SbDHt\"></a>\n### setting.py\n<a name=\"ggHKY\"></a>\n###### 配置 MIDDLEWARE\n```\nMIDDLEWARE = [\n   'django.contrib.sessions.middleware.SessionMiddleware',\n   'django.middleware.locale.LocaleMiddleware',\n   'django.middleware.common.CommonMiddleware',\n]\n```\n注意：LocaleMiddleware 需要放在SessionMiddleware之后，CommonMiddleware之前。<br />[详细介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-language-preference)\n<a name=\"iYKgD\"></a>\n###### 配置template\n```\nTEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n                'django.template.context_processors.i18n',\n            ],\n        },\n    },\n]\n```\n<a name=\"FF6Lx\"></a>\n###### 启用i18n\n```\nUSE_I18N = True\nUSE_L10N = True\nUSE_TZ = True\n# 翻译文件所在目录，需手工创建\nLOCALE_PATHS = [\n    os.path.join(BASE_DIR, 'locale'),\n]\nLANGUAGE_CODE = 'zh-hans'\nLANGUAGES = {\n    ('zh-hans', '中文简体'),\n    ('en', 'English'),\n}\n```\n注意：如果local文件夹在app目录下无需创建LOCALE_PATHS变量。[详细介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-translations)<br />LANGUAGES 中可以添加多个django支持的语言（这边以中英文为例）\n<a name=\"oz5Ml\"></a>\n### yourproject/urls.py\n```\nfrom django.conf.urls.i18n import i18n_patterns\nurlpatterns = [\n    path('i18n/', include('django.conf.urls.i18n')),\n]\nurlpatterns += i18n_patterns(\n    path('', include('yourapp.urls')),\n)\n```\n<a name=\"L8Giu\"></a>\n## 声明需要翻译的字符串\n<a name=\"lFCHJ\"></a>\n##### 准备工作\n需要提前安装gettext<br />在ubuntu下运行\n```\nsudo apt-get install gettext\n```\n即可。\n<a name=\"VXRnV\"></a>\n### 在python代码中\n在此示例中，文本“欢迎访问我的网站”。 被标记为翻译字符串：\n```\nfrom django.http import HttpResponse\nfrom django.utils.translation import gettext as _\ndef my_view(request):\n    output = _(\"欢迎访问我的网站\")\n    return HttpResponse(output)\n```\n[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-python-code)\n<a name=\"nBKkS\"></a>\n### 在tmplate代码中\n需要将{％ load i18n ％}<br />放到模板文件头部（继承的文件也需要假如该声明）<br />{％trans％}模板标记转换为常量字符串（用单引号或双引号括起来）或变量内容：\n```python\n<title>{％ trans \"This is the title.\" ％}</title>\n<title>{％ trans myvar ％}</title>\n```\n如果您的翻译需要带变量的字符串（占位符），请改用{％blocktrans％}。\n```\n{％ blocktrans ％}This string will have {{ value }} inside.{％ endblocktrans ％}\n```\n如果您想要检索已翻译的字符串而不显示它，可以使用以下语法：\n```\n{％ trans \"This is the title\" as the_title ％}\n<title>{{ the_title }}</title>\n<meta name=\"description\" content=\"{{ the_title }}\">\n```\n[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-template-code)\n<a name=\"DnuaA\"></a>\n## 创建语言文件\n要创建或更新消息文件，请运行以下命令：\n```\ndjango-admin makemessages -l en\n```\nen 是你想创建的文件的语言。<br />注意：该脚本应该从两个地方之一运行（在运行前需要新建locale文件夹）：\n```\nDjango项目的根目录（包含manage.py的目录）。\n您的一个Django应用程序的根目录。\n```\n运行完命令后会创建一个.po文件<br />编辑 yourproject/locale/en/LC_MESSAGES/django.po\n```\n#: path/to/python/module.py:23\nmsgid \"欢迎访问我的网站。 \"\nmsgstr \"Welcome to my site.\"\n```\nmsgid 是标记的想要翻译的字符串<br />msgstr 是你想要翻译后显示的字符串，默认为空。<br />[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#localization-how-to-create-language-files)\n<a name=\"vulAt\"></a>\n### 编译语言文件\n运行以下代码\n```\ndjango-admin compilemessages\n```\n大功告成。<br />[详细介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#compiling-message-files)\n<a name=\"rIJ1W\"></a>\n## 设置语言\n在模板中添加以下代码\n```\n{％ load i18n ％}\n<form action=\"{％ url 'set_language' ％}\" method=\"post\">{％ csrf_token ％}\n    <input name=\"next\" type=\"hidden\" value=\"{{ redirect_to }}\" />\n    <select name=\"language\">\n        {％ get_current_language as LANGUAGE_CODE ％}\n        {％ get_available_languages as LANGUAGES ％}\n        {％ get_language_info_list for LANGUAGES as languages ％}\n        {％ for language in languages ％}\n            <option value=\"{{ language.code }}\"{％ if language.code == LANGUAGE_CODE ％} selected{％ endif ％}>\n                {{ language.name_local }} ({{ language.code }})\n            </option>\n        {％ endfor ％}\n    </select>\n    <input type=\"submit\" value=\"Go\" />\n</form>\n```\n实现语言选择功能。<br />[更多介绍](https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#the-set-language-redirect-view)<br />以上是简单的实现中英文切换的步骤，如需了解更多，可以点击更多介绍进入官网进行了解。<br />提示：复制后请把%替换为小写。\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"GZ0KP\" class=\"ne-hr\"><p id=\"58572647cb76f468ad97c9a71a9100a2\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-07-18 10:16:32+00:00</span></p><p id=\"6f0e6acafa1ad8fe56c8ac2f6aceb85a\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"ee36c34a8f79b8b3200ca91974f0fb6f\" class=\"ne-p\"><span class=\"ne-text\">title: django Translation 实现中英文切换</span></p><p id=\"ee0078c1b61e80a56a3b0ddc65692b2b\" class=\"ne-p\"><span class=\"ne-text\">categories: django</span></p><p id=\"dbe6f669a19353f0d8acf7460776be64\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"7da29d0e946f08606f125daccdbd6aeb\"><span class=\"ne-text\">django</span></li></ul><hr id=\"JztLU\" class=\"ne-hr\"><h2 id=\"UgOUx\"><span class=\"ne-text\">环境</span></h2><pre data-language=\"plain\" id=\"SN45F\" class=\"ne-codeblock language-plain\">django 2.0.6 (之前文章有详细项目新建的描述)</pre><h2 id=\"nbaNt\"><span class=\"ne-text\">配置</span></h2><h3 id=\"SbDHt\"><span class=\"ne-text\">setting.py</span></h3><h6 id=\"ggHKY\"><span class=\"ne-text\">配置 MIDDLEWARE</span></h6><pre data-language=\"plain\" id=\"nwjfm\" class=\"ne-codeblock language-plain\">MIDDLEWARE = [\n   'django.contrib.sessions.middleware.SessionMiddleware',\n   'django.middleware.locale.LocaleMiddleware',\n   'django.middleware.common.CommonMiddleware',\n]</pre><p id=\"6821b8656562c7ffc44db2a4422484f8\" class=\"ne-p\"><span class=\"ne-text\">注意：LocaleMiddleware 需要放在SessionMiddleware之后，CommonMiddleware之前。</span></p><p id=\"c2c1028aacc5f5f7e956c5ac2a96725f\" class=\"ne-p\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-language-preference\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-language-preference\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">详细介绍</span></a></p><h6 id=\"iYKgD\"><span class=\"ne-text\">配置template</span></h6><pre data-language=\"plain\" id=\"kN38I\" class=\"ne-codeblock language-plain\">TEMPLATES = [\n    {\n        'BACKEND': 'django.template.backends.django.DjangoTemplates',\n        'DIRS': [os.path.join(BASE_DIR, 'templates')],\n        'APP_DIRS': True,\n        'OPTIONS': {\n            'context_processors': [\n                'django.template.context_processors.debug',\n                'django.template.context_processors.request',\n                'django.contrib.auth.context_processors.auth',\n                'django.contrib.messages.context_processors.messages',\n                'django.template.context_processors.i18n',\n            ],\n        },\n    },\n]</pre><h6 id=\"FF6Lx\"><span class=\"ne-text\">启用i18n</span></h6><pre data-language=\"plain\" id=\"gfcse\" class=\"ne-codeblock language-plain\">USE_I18N = True\nUSE_L10N = True\nUSE_TZ = True\n# 翻译文件所在目录，需手工创建\nLOCALE_PATHS = [\n    os.path.join(BASE_DIR, 'locale'),\n]\nLANGUAGE_CODE = 'zh-hans'\nLANGUAGES = {\n    ('zh-hans', '中文简体'),\n    ('en', 'English'),\n}</pre><p id=\"a81aef9ec0d8d3644752786233253380\" class=\"ne-p\"><span class=\"ne-text\">注意：如果local文件夹在app目录下无需创建LOCALE_PATHS变量。</span><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-translations\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-translations\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">详细介绍</span></a></p><p id=\"c760341159f563804236fe5197f9da62\" class=\"ne-p\"><span class=\"ne-text\">LANGUAGES 中可以添加多个django支持的语言（这边以中英文为例）</span></p><h3 id=\"oz5Ml\"><span class=\"ne-text\">yourproject/urls.py</span></h3><pre data-language=\"plain\" id=\"TASHo\" class=\"ne-codeblock language-plain\">from django.conf.urls.i18n import i18n_patterns\nurlpatterns = [\n    path('i18n/', include('django.conf.urls.i18n')),\n]\nurlpatterns += i18n_patterns(\n    path('', include('yourapp.urls')),\n)</pre><h2 id=\"L8Giu\"><span class=\"ne-text\">声明需要翻译的字符串</span></h2><h5 id=\"lFCHJ\"><span class=\"ne-text\">准备工作</span></h5><p id=\"92f53fcec2b9b21b741fdda426adadbb\" class=\"ne-p\"><span class=\"ne-text\">需要提前安装gettext</span></p><p id=\"88a3476a0f201170e6578994867338e5\" class=\"ne-p\"><span class=\"ne-text\">在ubuntu下运行</span></p><pre data-language=\"plain\" id=\"bkRYX\" class=\"ne-codeblock language-plain\">sudo apt-get install gettext</pre><p id=\"f5181c18eb9dc28b70149b9cf0947318\" class=\"ne-p\"><span class=\"ne-text\">即可。</span></p><h3 id=\"VXRnV\"><span class=\"ne-text\">在python代码中</span></h3><p id=\"9aa15f3fd646698601526cb7b083548f\" class=\"ne-p\"><span class=\"ne-text\">在此示例中，文本“欢迎访问我的网站”。 被标记为翻译字符串：</span></p><pre data-language=\"plain\" id=\"KtOwU\" class=\"ne-codeblock language-plain\">from django.http import HttpResponse\nfrom django.utils.translation import gettext as _\ndef my_view(request):\n    output = _(&quot;欢迎访问我的网站&quot;)\n    return HttpResponse(output)</pre><p id=\"05f711990408de23cf0f5cb395370697\" class=\"ne-p\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-python-code\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-python-code\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">更多介绍</span></a></p><h3 id=\"nBKkS\"><span class=\"ne-text\">在tmplate代码中</span></h3><p id=\"ae4301477190016aa6f8a29b3b614574\" class=\"ne-p\"><span class=\"ne-text\">需要将{％ load i18n ％}</span></p><p id=\"a0b938a7b2fcd942026ec75c5ad87d1e\" class=\"ne-p\"><span class=\"ne-text\">放到模板文件头部（继承的文件也需要假如该声明）</span></p><p id=\"5e8ca23dd1900b0050eea6739f5aaf00\" class=\"ne-p\"><span class=\"ne-text\">{％trans％}模板标记转换为常量字符串（用单引号或双引号括起来）或变量内容：</span></p><pre data-language=\"python\" id=\"IUSLT\" class=\"ne-codeblock language-python\">&lt;title&gt;{％ trans &quot;This is the title.&quot; ％}&lt;/title&gt;\n&lt;title&gt;{％ trans myvar ％}&lt;/title&gt;</pre><p id=\"594c32ad054578a31dd07abbdebcb7d4\" class=\"ne-p\"><span class=\"ne-text\">如果您的翻译需要带变量的字符串（占位符），请改用{％blocktrans％}。</span></p><pre data-language=\"plain\" id=\"QddeH\" class=\"ne-codeblock language-plain\">{％ blocktrans ％}This string will have {{ value }} inside.{％ endblocktrans ％}</pre><p id=\"b82b0394b46f9bf1d0dd121a700c12e3\" class=\"ne-p\"><span class=\"ne-text\">如果您想要检索已翻译的字符串而不显示它，可以使用以下语法：</span></p><pre data-language=\"plain\" id=\"O82xQ\" class=\"ne-codeblock language-plain\">{％ trans &quot;This is the title&quot; as the_title ％}\n&lt;title&gt;{{ the_title }}&lt;/title&gt;\n&lt;meta name=&quot;description&quot; content=&quot;{{ the_title }}&quot;&gt;</pre><p id=\"122837f249bc1cb1abcf93b3e6e02b3e\" class=\"ne-p\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-template-code\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-template-code\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">更多介绍</span></a></p><h2 id=\"DnuaA\"><span class=\"ne-text\">创建语言文件</span></h2><p id=\"7a2164be19766eb952ed8a391ccda71d\" class=\"ne-p\"><span class=\"ne-text\">要创建或更新消息文件，请运行以下命令：</span></p><pre data-language=\"plain\" id=\"2Q2HV\" class=\"ne-codeblock language-plain\">django-admin makemessages -l en</pre><p id=\"82ebff9ccc8c622435ccfe98581da0ab\" class=\"ne-p\"><span class=\"ne-text\">en 是你想创建的文件的语言。</span></p><p id=\"7bf58281b0b5ae294a352248897b6e57\" class=\"ne-p\"><span class=\"ne-text\">注意：该脚本应该从两个地方之一运行（在运行前需要新建locale文件夹）：</span></p><pre data-language=\"plain\" id=\"XKRnK\" class=\"ne-codeblock language-plain\">Django项目的根目录（包含manage.py的目录）。\n您的一个Django应用程序的根目录。</pre><p id=\"76d558df40b42954d3039c286dec8813\" class=\"ne-p\"><span class=\"ne-text\">运行完命令后会创建一个.po文件</span></p><p id=\"abebb32ff33cc698c6a106d7efdf733b\" class=\"ne-p\"><span class=\"ne-text\">编辑 yourproject/locale/en/LC_MESSAGES/django.po</span></p><pre data-language=\"plain\" id=\"MX8NO\" class=\"ne-codeblock language-plain\">#: path/to/python/module.py:23\nmsgid &quot;欢迎访问我的网站。 &quot;\nmsgstr &quot;Welcome to my site.&quot;</pre><p id=\"4a21c90bea9464aeb30469e884011313\" class=\"ne-p\"><span class=\"ne-text\">msgid 是标记的想要翻译的字符串</span></p><p id=\"b626f81a441cf7825b4859ba14981d0b\" class=\"ne-p\"><span class=\"ne-text\">msgstr 是你想要翻译后显示的字符串，默认为空。</span></p><p id=\"e655a0196966a8f99c48be9d74fa44cb\" class=\"ne-p\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#localization-how-to-create-language-files\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#localization-how-to-create-language-files\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">更多介绍</span></a></p><h3 id=\"vulAt\"><span class=\"ne-text\">编译语言文件</span></h3><p id=\"77cad3cf72b24e72eb1f41642c8f1775\" class=\"ne-p\"><span class=\"ne-text\">运行以下代码</span></p><pre data-language=\"plain\" id=\"UHeFF\" class=\"ne-codeblock language-plain\">django-admin compilemessages</pre><p id=\"38da12f06f6ab69075bd2cc498c1fa43\" class=\"ne-p\"><span class=\"ne-text\">大功告成。</span></p><p id=\"ea2f9e8a9404f43414a07416f7cb4d25\" class=\"ne-p\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#compiling-message-files\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#compiling-message-files\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">详细介绍</span></a></p><h2 id=\"rIJ1W\"><span class=\"ne-text\">设置语言</span></h2><p id=\"56c8d8bb4c9960218563131a1be12308\" class=\"ne-p\"><span class=\"ne-text\">在模板中添加以下代码</span></p><pre data-language=\"plain\" id=\"CsAWS\" class=\"ne-codeblock language-plain\">{％ load i18n ％}\n&lt;form action=&quot;{％ url 'set_language' ％}&quot; method=&quot;post&quot;&gt;{％ csrf_token ％}\n    &lt;input name=&quot;next&quot; type=&quot;hidden&quot; value=&quot;{{ redirect_to }}&quot; /&gt;\n    &lt;select name=&quot;language&quot;&gt;\n        {％ get_current_language as LANGUAGE_CODE ％}\n        {％ get_available_languages as LANGUAGES ％}\n        {％ get_language_info_list for LANGUAGES as languages ％}\n        {％ for language in languages ％}\n            &lt;option value=&quot;{{ language.code }}&quot;{％ if language.code == LANGUAGE_CODE ％} selected{％ endif ％}&gt;\n                {{ language.name_local }} ({{ language.code }})\n            &lt;/option&gt;\n        {％ endfor ％}\n    &lt;/select&gt;\n    &lt;input type=&quot;submit&quot; value=&quot;Go&quot; /&gt;\n&lt;/form&gt;</pre><p id=\"9b4fc136e9a96527bb73ee23f9d1444e\" class=\"ne-p\"><span class=\"ne-text\">实现语言选择功能。</span></p><p id=\"e70b213d03309037ff99e8f37640ec91\" class=\"ne-p\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#the-set-language-redirect-view\" data-href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#the-set-language-redirect-view\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">更多介绍</span></a></p><p id=\"3e5168fc8085ea45389b2fdc8a8e1d0d\" class=\"ne-p\"><span class=\"ne-text\">以上是简单的实现中英文切换的步骤，如需了解更多，可以点击更多介绍进入官网进行了解。</span></p><p id=\"0bdac02065a2205905aa4a48fa77318d\" class=\"ne-p\"><span class=\"ne-text\">提示：复制后请把%替换为小写。</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22GZ0KP%22%7D\"></card><p data-lake-id=\"58572647cb76f468ad97c9a71a9100a2\" id=\"58572647cb76f468ad97c9a71a9100a2\"><span data-lake-id=\"u28e9dd86\" id=\"u28e9dd86\">date: 2018-07-18 10:16:32+00:00</span></p><p data-lake-id=\"6f0e6acafa1ad8fe56c8ac2f6aceb85a\" id=\"6f0e6acafa1ad8fe56c8ac2f6aceb85a\"><span data-lake-id=\"u89cc5ae7\" id=\"u89cc5ae7\">layout: post</span></p><p data-lake-id=\"ee36c34a8f79b8b3200ca91974f0fb6f\" id=\"ee36c34a8f79b8b3200ca91974f0fb6f\"><span data-lake-id=\"ud54199c9\" id=\"ud54199c9\">title: django Translation 实现中英文切换</span></p><p data-lake-id=\"ee0078c1b61e80a56a3b0ddc65692b2b\" id=\"ee0078c1b61e80a56a3b0ddc65692b2b\"><span data-lake-id=\"u4f04db64\" id=\"u4f04db64\">categories: django</span></p><p data-lake-id=\"dbe6f669a19353f0d8acf7460776be64\" id=\"dbe6f669a19353f0d8acf7460776be64\"><span data-lake-id=\"uc62fd626\" id=\"uc62fd626\">tags:</span></p><ul list=\"u269ac97f\"><li fid=\"u5785e390\" data-lake-id=\"7da29d0e946f08606f125daccdbd6aeb\" id=\"7da29d0e946f08606f125daccdbd6aeb\"><span data-lake-id=\"uce37f611\" id=\"uce37f611\">django</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22JztLU%22%7D\"></card><h2 data-lake-id=\"UgOUx\" id=\"UgOUx\"><span data-lake-id=\"u53a92820\" id=\"u53a92820\">环境</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django%202.0.6%20(%E4%B9%8B%E5%89%8D%E6%96%87%E7%AB%A0%E6%9C%89%E8%AF%A6%E7%BB%86%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%BB%BA%E7%9A%84%E6%8F%8F%E8%BF%B0)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22SN45F%22%7D\"></card><h2 data-lake-id=\"nbaNt\" id=\"nbaNt\"><span data-lake-id=\"ub10208bd\" id=\"ub10208bd\">配置</span></h2><h3 data-lake-id=\"SbDHt\" id=\"SbDHt\"><span data-lake-id=\"u666204f7\" id=\"u666204f7\">setting.py</span></h3><h6 data-lake-id=\"ggHKY\" id=\"ggHKY\"><span data-lake-id=\"u6b40283a\" id=\"u6b40283a\">配置 MIDDLEWARE</span></h6><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22MIDDLEWARE%20%3D%20%5B%5Cn%20%20%20'django.contrib.sessions.middleware.SessionMiddleware'%2C%5Cn%20%20%20'django.middleware.locale.LocaleMiddleware'%2C%5Cn%20%20%20'django.middleware.common.CommonMiddleware'%2C%5Cn%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nwjfm%22%7D\"></card><p data-lake-id=\"6821b8656562c7ffc44db2a4422484f8\" id=\"6821b8656562c7ffc44db2a4422484f8\"><span data-lake-id=\"u23784888\" id=\"u23784888\">注意：LocaleMiddleware 需要放在SessionMiddleware之后，CommonMiddleware之前。</span></p><p data-lake-id=\"c2c1028aacc5f5f7e956c5ac2a96725f\" id=\"c2c1028aacc5f5f7e956c5ac2a96725f\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-language-preference\" target=\"_blank\" data-lake-id=\"u1c00bfce\" id=\"u1c00bfce\"><span data-lake-id=\"u0a962045\" id=\"u0a962045\">详细介绍</span></a></p><h6 data-lake-id=\"iYKgD\" id=\"iYKgD\"><span data-lake-id=\"u0052dbf2\" id=\"u0052dbf2\">配置template</span></h6><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22TEMPLATES%20%3D%20%5B%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20'BACKEND'%3A%20'django.template.backends.django.DjangoTemplates'%2C%5Cn%20%20%20%20%20%20%20%20'DIRS'%3A%20%5Bos.path.join(BASE_DIR%2C%20'templates')%5D%2C%5Cn%20%20%20%20%20%20%20%20'APP_DIRS'%3A%20True%2C%5Cn%20%20%20%20%20%20%20%20'OPTIONS'%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20'context_processors'%3A%20%5B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.template.context_processors.debug'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.template.context_processors.request'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.contrib.auth.context_processors.auth'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.contrib.messages.context_processors.messages'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.template.context_processors.i18n'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%7D%2C%5Cn%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kN38I%22%7D\"></card><h6 data-lake-id=\"FF6Lx\" id=\"FF6Lx\"><span data-lake-id=\"uc3736fd7\" id=\"uc3736fd7\">启用i18n</span></h6><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22USE_I18N%20%3D%20True%5CnUSE_L10N%20%3D%20True%5CnUSE_TZ%20%3D%20True%5Cn%23%20%E7%BF%BB%E8%AF%91%E6%96%87%E4%BB%B6%E6%89%80%E5%9C%A8%E7%9B%AE%E5%BD%95%EF%BC%8C%E9%9C%80%E6%89%8B%E5%B7%A5%E5%88%9B%E5%BB%BA%5CnLOCALE_PATHS%20%3D%20%5B%5Cn%20%20%20%20os.path.join(BASE_DIR%2C%20'locale')%2C%5Cn%5D%5CnLANGUAGE_CODE%20%3D%20'zh-hans'%5CnLANGUAGES%20%3D%20%7B%5Cn%20%20%20%20('zh-hans'%2C%20'%E4%B8%AD%E6%96%87%E7%AE%80%E4%BD%93')%2C%5Cn%20%20%20%20('en'%2C%20'English')%2C%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22gfcse%22%7D\"></card><p data-lake-id=\"a81aef9ec0d8d3644752786233253380\" id=\"a81aef9ec0d8d3644752786233253380\"><span data-lake-id=\"u07acf7cb\" id=\"u07acf7cb\">注意：如果local文件夹在app目录下无需创建LOCALE_PATHS变量。</span><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-translations\" target=\"_blank\" data-lake-id=\"ucef7c849\" id=\"ucef7c849\"><span data-lake-id=\"u90445883\" id=\"u90445883\">详细介绍</span></a></p><p data-lake-id=\"c760341159f563804236fe5197f9da62\" id=\"c760341159f563804236fe5197f9da62\"><span data-lake-id=\"u963d6287\" id=\"u963d6287\">LANGUAGES 中可以添加多个django支持的语言（这边以中英文为例）</span></p><h3 data-lake-id=\"oz5Ml\" id=\"oz5Ml\"><span data-lake-id=\"uf8762370\" id=\"uf8762370\">yourproject/urls.py</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22from%20django.conf.urls.i18n%20import%20i18n_patterns%5Cnurlpatterns%20%3D%20%5B%5Cn%20%20%20%20path('i18n%2F'%2C%20include('django.conf.urls.i18n'))%2C%5Cn%5D%5Cnurlpatterns%20%2B%3D%20i18n_patterns(%5Cn%20%20%20%20path(''%2C%20include('yourapp.urls'))%2C%5Cn)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22TASHo%22%7D\"></card><h2 data-lake-id=\"L8Giu\" id=\"L8Giu\"><span data-lake-id=\"u98e7192b\" id=\"u98e7192b\">声明需要翻译的字符串</span></h2><h5 data-lake-id=\"lFCHJ\" id=\"lFCHJ\"><span data-lake-id=\"ue1712a77\" id=\"ue1712a77\">准备工作</span></h5><p data-lake-id=\"92f53fcec2b9b21b741fdda426adadbb\" id=\"92f53fcec2b9b21b741fdda426adadbb\"><span data-lake-id=\"u91cacb44\" id=\"u91cacb44\">需要提前安装gettext</span></p><p data-lake-id=\"88a3476a0f201170e6578994867338e5\" id=\"88a3476a0f201170e6578994867338e5\"><span data-lake-id=\"u6061c5bb\" id=\"u6061c5bb\">在ubuntu下运行</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20apt-get%20install%20gettext%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22bkRYX%22%7D\"></card><p data-lake-id=\"f5181c18eb9dc28b70149b9cf0947318\" id=\"f5181c18eb9dc28b70149b9cf0947318\"><span data-lake-id=\"ub29e4f04\" id=\"ub29e4f04\">即可。</span></p><h3 data-lake-id=\"VXRnV\" id=\"VXRnV\"><span data-lake-id=\"ua655eafc\" id=\"ua655eafc\">在python代码中</span></h3><p data-lake-id=\"9aa15f3fd646698601526cb7b083548f\" id=\"9aa15f3fd646698601526cb7b083548f\"><span data-lake-id=\"u22cc8241\" id=\"u22cc8241\">在此示例中，文本“欢迎访问我的网站”。 被标记为翻译字符串：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22from%20django.http%20import%20HttpResponse%5Cnfrom%20django.utils.translation%20import%20gettext%20as%20_%5Cndef%20my_view(request)%3A%5Cn%20%20%20%20output%20%3D%20_(%5C%22%E6%AC%A2%E8%BF%8E%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84%E7%BD%91%E7%AB%99%5C%22)%5Cn%20%20%20%20return%20HttpResponse(output)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22KtOwU%22%7D\"></card><p data-lake-id=\"05f711990408de23cf0f5cb395370697\" id=\"05f711990408de23cf0f5cb395370697\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-python-code\" target=\"_blank\" data-lake-id=\"u41d59781\" id=\"u41d59781\"><span data-lake-id=\"u7353dfab\" id=\"u7353dfab\">更多介绍</span></a></p><h3 data-lake-id=\"nBKkS\" id=\"nBKkS\"><span data-lake-id=\"uf32433ab\" id=\"uf32433ab\">在tmplate代码中</span></h3><p data-lake-id=\"ae4301477190016aa6f8a29b3b614574\" id=\"ae4301477190016aa6f8a29b3b614574\"><span data-lake-id=\"u6d32d1c0\" id=\"u6d32d1c0\">需要将{％ load i18n ％}</span></p><p data-lake-id=\"a0b938a7b2fcd942026ec75c5ad87d1e\" id=\"a0b938a7b2fcd942026ec75c5ad87d1e\"><span data-lake-id=\"u0aab5b58\" id=\"u0aab5b58\">放到模板文件头部（继承的文件也需要假如该声明）</span></p><p data-lake-id=\"5e8ca23dd1900b0050eea6739f5aaf00\" id=\"5e8ca23dd1900b0050eea6739f5aaf00\"><span data-lake-id=\"u6cc4248b\" id=\"u6cc4248b\">{％trans％}模板标记转换为常量字符串（用单引号或双引号括起来）或变量内容：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22python%22%2C%22code%22%3A%22%3Ctitle%3E%7B%EF%BC%85%20trans%20%5C%22This%20is%20the%20title.%5C%22%20%EF%BC%85%7D%3C%2Ftitle%3E%5Cn%3Ctitle%3E%7B%EF%BC%85%20trans%20myvar%20%EF%BC%85%7D%3C%2Ftitle%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22IUSLT%22%7D\"></card><p data-lake-id=\"594c32ad054578a31dd07abbdebcb7d4\" id=\"594c32ad054578a31dd07abbdebcb7d4\"><span data-lake-id=\"ua4977348\" id=\"ua4977348\">如果您的翻译需要带变量的字符串（占位符），请改用{％blocktrans％}。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%7B%EF%BC%85%20blocktrans%20%EF%BC%85%7DThis%20string%20will%20have%20%7B%7B%20value%20%7D%7D%20inside.%7B%EF%BC%85%20endblocktrans%20%EF%BC%85%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QddeH%22%7D\"></card><p data-lake-id=\"b82b0394b46f9bf1d0dd121a700c12e3\" id=\"b82b0394b46f9bf1d0dd121a700c12e3\"><span data-lake-id=\"ufa890f89\" id=\"ufa890f89\">如果您想要检索已翻译的字符串而不显示它，可以使用以下语法：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%7B%EF%BC%85%20trans%20%5C%22This%20is%20the%20title%5C%22%20as%20the_title%20%EF%BC%85%7D%5Cn%3Ctitle%3E%7B%7B%20the_title%20%7D%7D%3C%2Ftitle%3E%5Cn%3Cmeta%20name%3D%5C%22description%5C%22%20content%3D%5C%22%7B%7B%20the_title%20%7D%7D%5C%22%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22O82xQ%22%7D\"></card><p data-lake-id=\"122837f249bc1cb1abcf93b3e6e02b3e\" id=\"122837f249bc1cb1abcf93b3e6e02b3e\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-template-code\" target=\"_blank\" data-lake-id=\"ucffd3fbe\" id=\"ucffd3fbe\"><span data-lake-id=\"u43b40b43\" id=\"u43b40b43\">更多介绍</span></a></p><h2 data-lake-id=\"DnuaA\" id=\"DnuaA\"><span data-lake-id=\"u9e1f6b29\" id=\"u9e1f6b29\">创建语言文件</span></h2><p data-lake-id=\"7a2164be19766eb952ed8a391ccda71d\" id=\"7a2164be19766eb952ed8a391ccda71d\"><span data-lake-id=\"u74b810dc\" id=\"u74b810dc\">要创建或更新消息文件，请运行以下命令：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-admin%20makemessages%20-l%20en%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222Q2HV%22%7D\"></card><p data-lake-id=\"82ebff9ccc8c622435ccfe98581da0ab\" id=\"82ebff9ccc8c622435ccfe98581da0ab\"><span data-lake-id=\"u4b11f738\" id=\"u4b11f738\">en 是你想创建的文件的语言。</span></p><p data-lake-id=\"7bf58281b0b5ae294a352248897b6e57\" id=\"7bf58281b0b5ae294a352248897b6e57\"><span data-lake-id=\"ucc16a19a\" id=\"ucc16a19a\">注意：该脚本应该从两个地方之一运行（在运行前需要新建locale文件夹）：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Django%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%95%EF%BC%88%E5%8C%85%E5%90%ABmanage.py%E7%9A%84%E7%9B%AE%E5%BD%95%EF%BC%89%E3%80%82%5Cn%E6%82%A8%E7%9A%84%E4%B8%80%E4%B8%AADjango%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%95%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XKRnK%22%7D\"></card><p data-lake-id=\"76d558df40b42954d3039c286dec8813\" id=\"76d558df40b42954d3039c286dec8813\"><span data-lake-id=\"u4936fb3c\" id=\"u4936fb3c\">运行完命令后会创建一个.po文件</span></p><p data-lake-id=\"abebb32ff33cc698c6a106d7efdf733b\" id=\"abebb32ff33cc698c6a106d7efdf733b\"><span data-lake-id=\"u39a3780d\" id=\"u39a3780d\">编辑 yourproject/locale/en/LC_MESSAGES/django.po</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%3A%20path%2Fto%2Fpython%2Fmodule.py%3A23%5Cnmsgid%20%5C%22%E6%AC%A2%E8%BF%8E%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84%E7%BD%91%E7%AB%99%E3%80%82%20%5C%22%5Cnmsgstr%20%5C%22Welcome%20to%20my%20site.%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22MX8NO%22%7D\"></card><p data-lake-id=\"4a21c90bea9464aeb30469e884011313\" id=\"4a21c90bea9464aeb30469e884011313\"><span data-lake-id=\"u44c1314e\" id=\"u44c1314e\">msgid 是标记的想要翻译的字符串</span></p><p data-lake-id=\"b626f81a441cf7825b4859ba14981d0b\" id=\"b626f81a441cf7825b4859ba14981d0b\"><span data-lake-id=\"u18136190\" id=\"u18136190\">msgstr 是你想要翻译后显示的字符串，默认为空。</span></p><p data-lake-id=\"e655a0196966a8f99c48be9d74fa44cb\" id=\"e655a0196966a8f99c48be9d74fa44cb\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#localization-how-to-create-language-files\" target=\"_blank\" data-lake-id=\"u439b7909\" id=\"u439b7909\"><span data-lake-id=\"ue0faedbb\" id=\"ue0faedbb\">更多介绍</span></a></p><h3 data-lake-id=\"vulAt\" id=\"vulAt\"><span data-lake-id=\"uf8a788b1\" id=\"uf8a788b1\">编译语言文件</span></h3><p data-lake-id=\"77cad3cf72b24e72eb1f41642c8f1775\" id=\"77cad3cf72b24e72eb1f41642c8f1775\"><span data-lake-id=\"u1a40bb92\" id=\"u1a40bb92\">运行以下代码</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-admin%20compilemessages%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22UHeFF%22%7D\"></card><p data-lake-id=\"38da12f06f6ab69075bd2cc498c1fa43\" id=\"38da12f06f6ab69075bd2cc498c1fa43\"><span data-lake-id=\"uf46ae5f3\" id=\"uf46ae5f3\">大功告成。</span></p><p data-lake-id=\"ea2f9e8a9404f43414a07416f7cb4d25\" id=\"ea2f9e8a9404f43414a07416f7cb4d25\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#compiling-message-files\" target=\"_blank\" data-lake-id=\"ue50f4186\" id=\"ue50f4186\"><span data-lake-id=\"u03af856d\" id=\"u03af856d\">详细介绍</span></a></p><h2 data-lake-id=\"rIJ1W\" id=\"rIJ1W\"><span data-lake-id=\"u77c5c43a\" id=\"u77c5c43a\">设置语言</span></h2><p data-lake-id=\"56c8d8bb4c9960218563131a1be12308\" id=\"56c8d8bb4c9960218563131a1be12308\"><span data-lake-id=\"u6e754612\" id=\"u6e754612\">在模板中添加以下代码</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%7B%EF%BC%85%20load%20i18n%20%EF%BC%85%7D%5Cn%3Cform%20action%3D%5C%22%7B%EF%BC%85%20url%20'set_language'%20%EF%BC%85%7D%5C%22%20method%3D%5C%22post%5C%22%3E%7B%EF%BC%85%20csrf_token%20%EF%BC%85%7D%5Cn%20%20%20%20%3Cinput%20name%3D%5C%22next%5C%22%20type%3D%5C%22hidden%5C%22%20value%3D%5C%22%7B%7B%20redirect_to%20%7D%7D%5C%22%20%2F%3E%5Cn%20%20%20%20%3Cselect%20name%3D%5C%22language%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20get_current_language%20as%20LANGUAGE_CODE%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20get_available_languages%20as%20LANGUAGES%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20get_language_info_list%20for%20LANGUAGES%20as%20languages%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20for%20language%20in%20languages%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%5C%22%7B%7B%20language.code%20%7D%7D%5C%22%7B%EF%BC%85%20if%20language.code%20%3D%3D%20LANGUAGE_CODE%20%EF%BC%85%7D%20selected%7B%EF%BC%85%20endif%20%EF%BC%85%7D%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7B%20language.name_local%20%7D%7D%20(%7B%7B%20language.code%20%7D%7D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Foption%3E%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20endfor%20%EF%BC%85%7D%5Cn%20%20%20%20%3C%2Fselect%3E%5Cn%20%20%20%20%3Cinput%20type%3D%5C%22submit%5C%22%20value%3D%5C%22Go%5C%22%20%2F%3E%5Cn%3C%2Fform%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CsAWS%22%7D\"></card><p data-lake-id=\"9b4fc136e9a96527bb73ee23f9d1444e\" id=\"9b4fc136e9a96527bb73ee23f9d1444e\"><span data-lake-id=\"udadb28f5\" id=\"udadb28f5\">实现语言选择功能。</span></p><p data-lake-id=\"e70b213d03309037ff99e8f37640ec91\" id=\"e70b213d03309037ff99e8f37640ec91\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#the-set-language-redirect-view\" target=\"_blank\" data-lake-id=\"ubbdf2a9c\" id=\"ubbdf2a9c\"><span data-lake-id=\"u19dd19e2\" id=\"u19dd19e2\">更多介绍</span></a></p><p data-lake-id=\"3e5168fc8085ea45389b2fdc8a8e1d0d\" id=\"3e5168fc8085ea45389b2fdc8a8e1d0d\"><span data-lake-id=\"uae045f3f\" id=\"uae045f3f\">以上是简单的实现中英文切换的步骤，如需了解更多，可以点击更多介绍进入官网进行了解。</span></p><p data-lake-id=\"0bdac02065a2205905aa4a48fa77318d\" id=\"0bdac02065a2205905aa4a48fa77318d\"><span data-lake-id=\"u723e16f9\" id=\"u723e16f9\">提示：复制后请把%替换为小写。</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22GZ0KP%22%7D\"></card><p data-lake-id=\"58572647cb76f468ad97c9a71a9100a2\" id=\"58572647cb76f468ad97c9a71a9100a2\"><span data-lake-id=\"u28e9dd86\" id=\"u28e9dd86\">date: 2018-07-18 10:16:32+00:00</span></p><p data-lake-id=\"6f0e6acafa1ad8fe56c8ac2f6aceb85a\" id=\"6f0e6acafa1ad8fe56c8ac2f6aceb85a\"><span data-lake-id=\"u89cc5ae7\" id=\"u89cc5ae7\">layout: post</span></p><p data-lake-id=\"ee36c34a8f79b8b3200ca91974f0fb6f\" id=\"ee36c34a8f79b8b3200ca91974f0fb6f\"><span data-lake-id=\"ud54199c9\" id=\"ud54199c9\">title: django Translation 实现中英文切换</span></p><p data-lake-id=\"ee0078c1b61e80a56a3b0ddc65692b2b\" id=\"ee0078c1b61e80a56a3b0ddc65692b2b\"><span data-lake-id=\"u4f04db64\" id=\"u4f04db64\">categories: django</span></p><p data-lake-id=\"dbe6f669a19353f0d8acf7460776be64\" id=\"dbe6f669a19353f0d8acf7460776be64\"><span data-lake-id=\"uc62fd626\" id=\"uc62fd626\">tags:</span></p><ul list=\"u269ac97f\"><li fid=\"u5785e390\" data-lake-id=\"7da29d0e946f08606f125daccdbd6aeb\" id=\"7da29d0e946f08606f125daccdbd6aeb\"><span data-lake-id=\"uce37f611\" id=\"uce37f611\">django</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22JztLU%22%7D\"></card><h2 data-lake-id=\"UgOUx\" id=\"UgOUx\"><span data-lake-id=\"u53a92820\" id=\"u53a92820\">环境</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django%202.0.6%20(%E4%B9%8B%E5%89%8D%E6%96%87%E7%AB%A0%E6%9C%89%E8%AF%A6%E7%BB%86%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%BB%BA%E7%9A%84%E6%8F%8F%E8%BF%B0)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22SN45F%22%7D\"></card><h2 data-lake-id=\"nbaNt\" id=\"nbaNt\"><span data-lake-id=\"ub10208bd\" id=\"ub10208bd\">配置</span></h2><h3 data-lake-id=\"SbDHt\" id=\"SbDHt\"><span data-lake-id=\"u666204f7\" id=\"u666204f7\">setting.py</span></h3><h6 data-lake-id=\"ggHKY\" id=\"ggHKY\"><span data-lake-id=\"u6b40283a\" id=\"u6b40283a\">配置 MIDDLEWARE</span></h6><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22MIDDLEWARE%20%3D%20%5B%5Cn%20%20%20'django.contrib.sessions.middleware.SessionMiddleware'%2C%5Cn%20%20%20'django.middleware.locale.LocaleMiddleware'%2C%5Cn%20%20%20'django.middleware.common.CommonMiddleware'%2C%5Cn%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nwjfm%22%7D\"></card><p data-lake-id=\"6821b8656562c7ffc44db2a4422484f8\" id=\"6821b8656562c7ffc44db2a4422484f8\"><span data-lake-id=\"u23784888\" id=\"u23784888\">注意：LocaleMiddleware 需要放在SessionMiddleware之后，CommonMiddleware之前。</span></p><p data-lake-id=\"c2c1028aacc5f5f7e956c5ac2a96725f\" id=\"c2c1028aacc5f5f7e956c5ac2a96725f\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-language-preference\" target=\"_blank\" data-lake-id=\"u1c00bfce\" id=\"u1c00bfce\"><span data-lake-id=\"u0a962045\" id=\"u0a962045\">详细介绍</span></a></p><h6 data-lake-id=\"iYKgD\" id=\"iYKgD\"><span data-lake-id=\"u0052dbf2\" id=\"u0052dbf2\">配置template</span></h6><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22TEMPLATES%20%3D%20%5B%5Cn%20%20%20%20%7B%5Cn%20%20%20%20%20%20%20%20'BACKEND'%3A%20'django.template.backends.django.DjangoTemplates'%2C%5Cn%20%20%20%20%20%20%20%20'DIRS'%3A%20%5Bos.path.join(BASE_DIR%2C%20'templates')%5D%2C%5Cn%20%20%20%20%20%20%20%20'APP_DIRS'%3A%20True%2C%5Cn%20%20%20%20%20%20%20%20'OPTIONS'%3A%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20'context_processors'%3A%20%5B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.template.context_processors.debug'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.template.context_processors.request'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.contrib.auth.context_processors.auth'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.contrib.messages.context_processors.messages'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20'django.template.context_processors.i18n'%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%5D%2C%5Cn%20%20%20%20%20%20%20%20%7D%2C%5Cn%20%20%20%20%7D%2C%5Cn%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kN38I%22%7D\"></card><h6 data-lake-id=\"FF6Lx\" id=\"FF6Lx\"><span data-lake-id=\"uc3736fd7\" id=\"uc3736fd7\">启用i18n</span></h6><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22USE_I18N%20%3D%20True%5CnUSE_L10N%20%3D%20True%5CnUSE_TZ%20%3D%20True%5Cn%23%20%E7%BF%BB%E8%AF%91%E6%96%87%E4%BB%B6%E6%89%80%E5%9C%A8%E7%9B%AE%E5%BD%95%EF%BC%8C%E9%9C%80%E6%89%8B%E5%B7%A5%E5%88%9B%E5%BB%BA%5CnLOCALE_PATHS%20%3D%20%5B%5Cn%20%20%20%20os.path.join(BASE_DIR%2C%20'locale')%2C%5Cn%5D%5CnLANGUAGE_CODE%20%3D%20'zh-hans'%5CnLANGUAGES%20%3D%20%7B%5Cn%20%20%20%20('zh-hans'%2C%20'%E4%B8%AD%E6%96%87%E7%AE%80%E4%BD%93')%2C%5Cn%20%20%20%20('en'%2C%20'English')%2C%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22gfcse%22%7D\"></card><p data-lake-id=\"a81aef9ec0d8d3644752786233253380\" id=\"a81aef9ec0d8d3644752786233253380\"><span data-lake-id=\"u07acf7cb\" id=\"u07acf7cb\">注意：如果local文件夹在app目录下无需创建LOCALE_PATHS变量。</span><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#how-django-discovers-translations\" target=\"_blank\" data-lake-id=\"ucef7c849\" id=\"ucef7c849\"><span data-lake-id=\"u90445883\" id=\"u90445883\">详细介绍</span></a></p><p data-lake-id=\"c760341159f563804236fe5197f9da62\" id=\"c760341159f563804236fe5197f9da62\"><span data-lake-id=\"u963d6287\" id=\"u963d6287\">LANGUAGES 中可以添加多个django支持的语言（这边以中英文为例）</span></p><h3 data-lake-id=\"oz5Ml\" id=\"oz5Ml\"><span data-lake-id=\"uf8762370\" id=\"uf8762370\">yourproject/urls.py</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22from%20django.conf.urls.i18n%20import%20i18n_patterns%5Cnurlpatterns%20%3D%20%5B%5Cn%20%20%20%20path('i18n%2F'%2C%20include('django.conf.urls.i18n'))%2C%5Cn%5D%5Cnurlpatterns%20%2B%3D%20i18n_patterns(%5Cn%20%20%20%20path(''%2C%20include('yourapp.urls'))%2C%5Cn)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22TASHo%22%7D\"></card><h2 data-lake-id=\"L8Giu\" id=\"L8Giu\"><span data-lake-id=\"u98e7192b\" id=\"u98e7192b\">声明需要翻译的字符串</span></h2><h5 data-lake-id=\"lFCHJ\" id=\"lFCHJ\"><span data-lake-id=\"ue1712a77\" id=\"ue1712a77\">准备工作</span></h5><p data-lake-id=\"92f53fcec2b9b21b741fdda426adadbb\" id=\"92f53fcec2b9b21b741fdda426adadbb\"><span data-lake-id=\"u91cacb44\" id=\"u91cacb44\">需要提前安装gettext</span></p><p data-lake-id=\"88a3476a0f201170e6578994867338e5\" id=\"88a3476a0f201170e6578994867338e5\"><span data-lake-id=\"u6061c5bb\" id=\"u6061c5bb\">在ubuntu下运行</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20apt-get%20install%20gettext%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22bkRYX%22%7D\"></card><p data-lake-id=\"f5181c18eb9dc28b70149b9cf0947318\" id=\"f5181c18eb9dc28b70149b9cf0947318\"><span data-lake-id=\"ub29e4f04\" id=\"ub29e4f04\">即可。</span></p><h3 data-lake-id=\"VXRnV\" id=\"VXRnV\"><span data-lake-id=\"ua655eafc\" id=\"ua655eafc\">在python代码中</span></h3><p data-lake-id=\"9aa15f3fd646698601526cb7b083548f\" id=\"9aa15f3fd646698601526cb7b083548f\"><span data-lake-id=\"u22cc8241\" id=\"u22cc8241\">在此示例中，文本“欢迎访问我的网站”。 被标记为翻译字符串：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22from%20django.http%20import%20HttpResponse%5Cnfrom%20django.utils.translation%20import%20gettext%20as%20_%5Cndef%20my_view(request)%3A%5Cn%20%20%20%20output%20%3D%20_(%5C%22%E6%AC%A2%E8%BF%8E%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84%E7%BD%91%E7%AB%99%5C%22)%5Cn%20%20%20%20return%20HttpResponse(output)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22KtOwU%22%7D\"></card><p data-lake-id=\"05f711990408de23cf0f5cb395370697\" id=\"05f711990408de23cf0f5cb395370697\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-python-code\" target=\"_blank\" data-lake-id=\"u41d59781\" id=\"u41d59781\"><span data-lake-id=\"u7353dfab\" id=\"u7353dfab\">更多介绍</span></a></p><h3 data-lake-id=\"nBKkS\" id=\"nBKkS\"><span data-lake-id=\"uf32433ab\" id=\"uf32433ab\">在tmplate代码中</span></h3><p data-lake-id=\"ae4301477190016aa6f8a29b3b614574\" id=\"ae4301477190016aa6f8a29b3b614574\"><span data-lake-id=\"u6d32d1c0\" id=\"u6d32d1c0\">需要将{％ load i18n ％}</span></p><p data-lake-id=\"a0b938a7b2fcd942026ec75c5ad87d1e\" id=\"a0b938a7b2fcd942026ec75c5ad87d1e\"><span data-lake-id=\"u0aab5b58\" id=\"u0aab5b58\">放到模板文件头部（继承的文件也需要假如该声明）</span></p><p data-lake-id=\"5e8ca23dd1900b0050eea6739f5aaf00\" id=\"5e8ca23dd1900b0050eea6739f5aaf00\"><span data-lake-id=\"u6cc4248b\" id=\"u6cc4248b\">{％trans％}模板标记转换为常量字符串（用单引号或双引号括起来）或变量内容：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22python%22%2C%22code%22%3A%22%3Ctitle%3E%7B%EF%BC%85%20trans%20%5C%22This%20is%20the%20title.%5C%22%20%EF%BC%85%7D%3C%2Ftitle%3E%5Cn%3Ctitle%3E%7B%EF%BC%85%20trans%20myvar%20%EF%BC%85%7D%3C%2Ftitle%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22IUSLT%22%7D\"></card><p data-lake-id=\"594c32ad054578a31dd07abbdebcb7d4\" id=\"594c32ad054578a31dd07abbdebcb7d4\"><span data-lake-id=\"ua4977348\" id=\"ua4977348\">如果您的翻译需要带变量的字符串（占位符），请改用{％blocktrans％}。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%7B%EF%BC%85%20blocktrans%20%EF%BC%85%7DThis%20string%20will%20have%20%7B%7B%20value%20%7D%7D%20inside.%7B%EF%BC%85%20endblocktrans%20%EF%BC%85%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QddeH%22%7D\"></card><p data-lake-id=\"b82b0394b46f9bf1d0dd121a700c12e3\" id=\"b82b0394b46f9bf1d0dd121a700c12e3\"><span data-lake-id=\"ufa890f89\" id=\"ufa890f89\">如果您想要检索已翻译的字符串而不显示它，可以使用以下语法：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%7B%EF%BC%85%20trans%20%5C%22This%20is%20the%20title%5C%22%20as%20the_title%20%EF%BC%85%7D%5Cn%3Ctitle%3E%7B%7B%20the_title%20%7D%7D%3C%2Ftitle%3E%5Cn%3Cmeta%20name%3D%5C%22description%5C%22%20content%3D%5C%22%7B%7B%20the_title%20%7D%7D%5C%22%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22O82xQ%22%7D\"></card><p data-lake-id=\"122837f249bc1cb1abcf93b3e6e02b3e\" id=\"122837f249bc1cb1abcf93b3e6e02b3e\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#internationalization-in-template-code\" target=\"_blank\" data-lake-id=\"ucffd3fbe\" id=\"ucffd3fbe\"><span data-lake-id=\"u43b40b43\" id=\"u43b40b43\">更多介绍</span></a></p><h2 data-lake-id=\"DnuaA\" id=\"DnuaA\"><span data-lake-id=\"u9e1f6b29\" id=\"u9e1f6b29\">创建语言文件</span></h2><p data-lake-id=\"7a2164be19766eb952ed8a391ccda71d\" id=\"7a2164be19766eb952ed8a391ccda71d\"><span data-lake-id=\"u74b810dc\" id=\"u74b810dc\">要创建或更新消息文件，请运行以下命令：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-admin%20makemessages%20-l%20en%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222Q2HV%22%7D\"></card><p data-lake-id=\"82ebff9ccc8c622435ccfe98581da0ab\" id=\"82ebff9ccc8c622435ccfe98581da0ab\"><span data-lake-id=\"u4b11f738\" id=\"u4b11f738\">en 是你想创建的文件的语言。</span></p><p data-lake-id=\"7bf58281b0b5ae294a352248897b6e57\" id=\"7bf58281b0b5ae294a352248897b6e57\"><span data-lake-id=\"ucc16a19a\" id=\"ucc16a19a\">注意：该脚本应该从两个地方之一运行（在运行前需要新建locale文件夹）：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Django%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%95%EF%BC%88%E5%8C%85%E5%90%ABmanage.py%E7%9A%84%E7%9B%AE%E5%BD%95%EF%BC%89%E3%80%82%5Cn%E6%82%A8%E7%9A%84%E4%B8%80%E4%B8%AADjango%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%A0%B9%E7%9B%AE%E5%BD%95%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XKRnK%22%7D\"></card><p data-lake-id=\"76d558df40b42954d3039c286dec8813\" id=\"76d558df40b42954d3039c286dec8813\"><span data-lake-id=\"u4936fb3c\" id=\"u4936fb3c\">运行完命令后会创建一个.po文件</span></p><p data-lake-id=\"abebb32ff33cc698c6a106d7efdf733b\" id=\"abebb32ff33cc698c6a106d7efdf733b\"><span data-lake-id=\"u39a3780d\" id=\"u39a3780d\">编辑 yourproject/locale/en/LC_MESSAGES/django.po</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%3A%20path%2Fto%2Fpython%2Fmodule.py%3A23%5Cnmsgid%20%5C%22%E6%AC%A2%E8%BF%8E%E8%AE%BF%E9%97%AE%E6%88%91%E7%9A%84%E7%BD%91%E7%AB%99%E3%80%82%20%5C%22%5Cnmsgstr%20%5C%22Welcome%20to%20my%20site.%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22MX8NO%22%7D\"></card><p data-lake-id=\"4a21c90bea9464aeb30469e884011313\" id=\"4a21c90bea9464aeb30469e884011313\"><span data-lake-id=\"u44c1314e\" id=\"u44c1314e\">msgid 是标记的想要翻译的字符串</span></p><p data-lake-id=\"b626f81a441cf7825b4859ba14981d0b\" id=\"b626f81a441cf7825b4859ba14981d0b\"><span data-lake-id=\"u18136190\" id=\"u18136190\">msgstr 是你想要翻译后显示的字符串，默认为空。</span></p><p data-lake-id=\"e655a0196966a8f99c48be9d74fa44cb\" id=\"e655a0196966a8f99c48be9d74fa44cb\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#localization-how-to-create-language-files\" target=\"_blank\" data-lake-id=\"u439b7909\" id=\"u439b7909\"><span data-lake-id=\"ue0faedbb\" id=\"ue0faedbb\">更多介绍</span></a></p><h3 data-lake-id=\"vulAt\" id=\"vulAt\"><span data-lake-id=\"uf8a788b1\" id=\"uf8a788b1\">编译语言文件</span></h3><p data-lake-id=\"77cad3cf72b24e72eb1f41642c8f1775\" id=\"77cad3cf72b24e72eb1f41642c8f1775\"><span data-lake-id=\"u1a40bb92\" id=\"u1a40bb92\">运行以下代码</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-admin%20compilemessages%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22UHeFF%22%7D\"></card><p data-lake-id=\"38da12f06f6ab69075bd2cc498c1fa43\" id=\"38da12f06f6ab69075bd2cc498c1fa43\"><span data-lake-id=\"uf46ae5f3\" id=\"uf46ae5f3\">大功告成。</span></p><p data-lake-id=\"ea2f9e8a9404f43414a07416f7cb4d25\" id=\"ea2f9e8a9404f43414a07416f7cb4d25\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#compiling-message-files\" target=\"_blank\" data-lake-id=\"ue50f4186\" id=\"ue50f4186\"><span data-lake-id=\"u03af856d\" id=\"u03af856d\">详细介绍</span></a></p><h2 data-lake-id=\"rIJ1W\" id=\"rIJ1W\"><span data-lake-id=\"u77c5c43a\" id=\"u77c5c43a\">设置语言</span></h2><p data-lake-id=\"56c8d8bb4c9960218563131a1be12308\" id=\"56c8d8bb4c9960218563131a1be12308\"><span data-lake-id=\"u6e754612\" id=\"u6e754612\">在模板中添加以下代码</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%7B%EF%BC%85%20load%20i18n%20%EF%BC%85%7D%5Cn%3Cform%20action%3D%5C%22%7B%EF%BC%85%20url%20'set_language'%20%EF%BC%85%7D%5C%22%20method%3D%5C%22post%5C%22%3E%7B%EF%BC%85%20csrf_token%20%EF%BC%85%7D%5Cn%20%20%20%20%3Cinput%20name%3D%5C%22next%5C%22%20type%3D%5C%22hidden%5C%22%20value%3D%5C%22%7B%7B%20redirect_to%20%7D%7D%5C%22%20%2F%3E%5Cn%20%20%20%20%3Cselect%20name%3D%5C%22language%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20get_current_language%20as%20LANGUAGE_CODE%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20get_available_languages%20as%20LANGUAGES%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20get_language_info_list%20for%20LANGUAGES%20as%20languages%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20for%20language%20in%20languages%20%EF%BC%85%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3Coption%20value%3D%5C%22%7B%7B%20language.code%20%7D%7D%5C%22%7B%EF%BC%85%20if%20language.code%20%3D%3D%20LANGUAGE_CODE%20%EF%BC%85%7D%20selected%7B%EF%BC%85%20endif%20%EF%BC%85%7D%3E%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7B%7B%20language.name_local%20%7D%7D%20(%7B%7B%20language.code%20%7D%7D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%3C%2Foption%3E%5Cn%20%20%20%20%20%20%20%20%7B%EF%BC%85%20endfor%20%EF%BC%85%7D%5Cn%20%20%20%20%3C%2Fselect%3E%5Cn%20%20%20%20%3Cinput%20type%3D%5C%22submit%5C%22%20value%3D%5C%22Go%5C%22%20%2F%3E%5Cn%3C%2Fform%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CsAWS%22%7D\"></card><p data-lake-id=\"9b4fc136e9a96527bb73ee23f9d1444e\" id=\"9b4fc136e9a96527bb73ee23f9d1444e\"><span data-lake-id=\"udadb28f5\" id=\"udadb28f5\">实现语言选择功能。</span></p><p data-lake-id=\"e70b213d03309037ff99e8f37640ec91\" id=\"e70b213d03309037ff99e8f37640ec91\"><a href=\"https://docs.djangoproject.com/zh-hans/2.0/topics/i18n/translation/#the-set-language-redirect-view\" target=\"_blank\" data-lake-id=\"ubbdf2a9c\" id=\"ubbdf2a9c\"><span data-lake-id=\"u19dd19e2\" id=\"u19dd19e2\">更多介绍</span></a></p><p data-lake-id=\"3e5168fc8085ea45389b2fdc8a8e1d0d\" id=\"3e5168fc8085ea45389b2fdc8a8e1d0d\"><span data-lake-id=\"uae045f3f\" id=\"uae045f3f\">以上是简单的实现中英文切换的步骤，如需了解更多，可以点击更多介绍进入官网进行了解。</span></p><p data-lake-id=\"0bdac02065a2205905aa4a48fa77318d\" id=\"0bdac02065a2205905aa4a48fa77318d\"><span data-lake-id=\"u723e16f9\" id=\"u723e16f9\">提示：复制后请把%替换为小写。</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:00:15.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:30.000Z",
    "updated_at": "2022-12-11T13:00:16.000Z",
    "published_at": "2022-12-11T13:00:15.000Z",
    "first_published_at": "2022-12-09T12:02:29.984Z",
    "word_count": 873,
    "cover": null,
    "description": "date: 2018-07-18 10:16:32+00:00layout: posttitle: django Translation 实现中英文切换categories: djangotags:django环境django 2.0.6 (之前文章有详细项目新建的描述)配置setting.p...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945046,
    "slug": "c338b2d897ca073247963da6d032b6b1",
    "title": "2018-06-26-django+celery+supervisor 定时任务+部署",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-17T10:33:20.470Z",
      "updated_at": "2022-12-17T10:33:20.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-06-26 16:16:32+00:00<br />layout: post<br />title: django + celery + supervisor 定时任务 + 部署<br />categories: django<br />tags:\n\n- django\n- celery\n- supervisor\n\n---\n\n<a name=\"M1hll\"></a>\n## 环境\n```\ndjango 2.0.6 (上一篇文章有详细项目新建的描述)\ncelery 4.2.0\ndjango-celery-beat 1.1.1\ndjango-celery-results 1.0.1\n```\n<a name=\"fM33J\"></a>\n# 安装配置celery\n<a name=\"aEshl\"></a>\n### 选择broker\n```\n我选择了RabbitMQ(官方推荐，安装配置简单) [了解更多](http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html#choosing-a-broker)\n安装RabbitMQ\n```\n```\nsudo apt-get install rabbitmq-server\n```\n添加配置到setting.py末尾\n```\n# celery broker\nBROKER_URL = 'amqp://localhost//'\n```\n<a name=\"MAOow\"></a>\n### 安装celery\n```\ncelery是一个python包所以可以通过pip直接安装\n```\n```\ncd ~/user/myproject\npipenv shell\npipenv install celery\n```\n```\ncelery 3.1版本以后不需要再安装django-celery模块。\n```\n添加配置到setting.py末尾\n```\nCELERY_ACCEPT_CONTENT = ['pickle']\nCELERY_TASK_SERIALIZER = 'pickle'\nCELERY_RESULT_SERIALIZER = 'pickle'\n# celery时区设置，使用settings中TIME_ZONE同样的时区\nCELERY_TIMEZONE = TIME_ZONE\n```\n<a name=\"Dok6b\"></a>\n### 安装django-celery-results\n```\ndjango-celery-results使用django orm提供结果。\n```\n安装 django-celery-restults\n```\npip install django-celery-results\n```\n```\n添加 django-celery-restults 到setting.py\n```\n```\nINSTALLED_APPS = (\n    ...,\n    'django_celery_results',\n)\n```\n```\n添加配置到setting.py末尾\n```\n```\n# celery结果返回\nCELERY_RESULT_BACKEND = 'django-db'\n```\n<a name=\"Ot8FW\"></a>\n### 安装django-celery-beat\n自定义调度程序类可以在命令行中指定（--scheduler参数）。<br />默认调度程序是celery.beat.PersistentScheduler，它只是跟踪本地搁置数据库文件中的最后一次运行时间。<br />还有一个django-celery-beat扩展，它将计划存储在Django数据库中，并提供了一个方便的管理界面来管理运行时的定期任务。<br />安装 django-celery-beat\n```\npip install django-celery-beat\n```\n添加 django-celery-beat 到setting.py\n```\nINSTALLED_APPS = (\n    ...,\n    'django_celery_beat',\n)\n```\n添加配置到setting.py末尾\n```\n# celery 定时任务\nCELERY_BEAT_SCHEDULER = \"django_celery_beat.schedulers:DatabaseScheduler\"\n```\n启动任务\n```\ncelery -A proj beat -l info --scheduler django_celery_beat.schedulers:DatabaseScheduler\n```\n访问Django后台界面设置定期任务。\n<a name=\"RFCtw\"></a>\n# 添加任务\n新建一个项目\n```\npython manage.py startapp demoapp\n```\n添加demoapp/tasks.py<br />@shared_task修饰器可以让你创建任务而不需要任何具体的应用程序实例\n```\n# Create your tasks here\nfrom __future__ import absolute_import, unicode_literals\nfrom celery import shared_task\n@shared_task\ndef add(x, y):\n    return x + y\n@shared_task\ndef mul(x, y):\n    return x * y\n@shared_task\ndef xsum(numbers):\n    return sum(numbers)\n```\n<a name=\"ENG88\"></a>\n# supervisor 配置\npip 安装supervisor (建议用系统自带的python2进行安装，py3不确定是否支持)\n```\npip install supervisor\n```\n生成配置文件\n```\necho_supervisord_conf > /etc/supervisord.conf\n```\n编辑配置文件，在末尾添加\n```\n[program:celery.worker]\ncommand= myprojectenv/bin/celery -A myproject worker -l info\ndirectory=/home/user/myproject\nnumprocs=1\nautostart=true\nautorestart=true\nstartretries=3\nredirect_stderr=true\nstdout_logfile=/home/home/user/myproject/log/celery_worker_out.log\n[program:celery.beat]\ncommand= myprojectenv/bin/celery -A myproject beat -l info\ndirectory=/home/user/myproject\nnumprocs=1\nautostart=true\nautorestart=true\nstartretries=3\nredirect_stderr=true\nstdout_logfile=/home/home/user/myproject/log/celery_beat_out.log\n```\n启动supervisor\n```\nsupervisord -c supervisord.conf\n```\n至此，大功告成。<br />django的配置可以按上一篇文章进行配置。<br />参考文件：<br />[http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html](http:_docs.celeryproject.org_en_latest_django_first-steps-with-django)<br />[http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html](http:_docs.celeryproject.org_en_latest_getting-started_first-steps-with-celery)\n",
    "body_draft": "---\n\ndate: 2018-06-26 16:16:32+00:00<br />layout: post<br />title: django + celery + supervisor 定时任务 + 部署<br />categories: django<br />tags:\n\n- django\n- celery\n- supervisor\n\n---\n\n<a name=\"M1hll\"></a>\n## 环境\n```\ndjango 2.0.6 (上一篇文章有详细项目新建的描述)\ncelery 4.2.0\ndjango-celery-beat 1.1.1\ndjango-celery-results 1.0.1\n```\n<a name=\"fM33J\"></a>\n# 安装配置celery\n<a name=\"aEshl\"></a>\n### 选择broker\n```\n我选择了RabbitMQ(官方推荐，安装配置简单) [了解更多](http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html#choosing-a-broker)\n安装RabbitMQ\n```\n```\nsudo apt-get install rabbitmq-server\n```\n添加配置到setting.py末尾\n```\n# celery broker\nBROKER_URL = 'amqp://localhost//'\n```\n<a name=\"MAOow\"></a>\n### 安装celery\n```\ncelery是一个python包所以可以通过pip直接安装\n```\n```\ncd ~/user/myproject\npipenv shell\npipenv install celery\n```\n```\ncelery 3.1版本以后不需要再安装django-celery模块。\n```\n添加配置到setting.py末尾\n```\nCELERY_ACCEPT_CONTENT = ['pickle']\nCELERY_TASK_SERIALIZER = 'pickle'\nCELERY_RESULT_SERIALIZER = 'pickle'\n# celery时区设置，使用settings中TIME_ZONE同样的时区\nCELERY_TIMEZONE = TIME_ZONE\n```\n<a name=\"Dok6b\"></a>\n### 安装django-celery-results\n```\ndjango-celery-results使用django orm提供结果。\n```\n安装 django-celery-restults\n```\npip install django-celery-results\n```\n```\n添加 django-celery-restults 到setting.py\n```\n```\nINSTALLED_APPS = (\n    ...,\n    'django_celery_results',\n)\n```\n```\n添加配置到setting.py末尾\n```\n```\n# celery结果返回\nCELERY_RESULT_BACKEND = 'django-db'\n```\n<a name=\"Ot8FW\"></a>\n### 安装django-celery-beat\n自定义调度程序类可以在命令行中指定（--scheduler参数）。<br />默认调度程序是celery.beat.PersistentScheduler，它只是跟踪本地搁置数据库文件中的最后一次运行时间。<br />还有一个django-celery-beat扩展，它将计划存储在Django数据库中，并提供了一个方便的管理界面来管理运行时的定期任务。<br />安装 django-celery-beat\n```\npip install django-celery-beat\n```\n添加 django-celery-beat 到setting.py\n```\nINSTALLED_APPS = (\n    ...,\n    'django_celery_beat',\n)\n```\n添加配置到setting.py末尾\n```\n# celery 定时任务\nCELERY_BEAT_SCHEDULER = \"django_celery_beat.schedulers:DatabaseScheduler\"\n```\n启动任务\n```\ncelery -A proj beat -l info --scheduler django_celery_beat.schedulers:DatabaseScheduler\n```\n访问Django后台界面设置定期任务。\n<a name=\"RFCtw\"></a>\n# 添加任务\n新建一个项目\n```\npython manage.py startapp demoapp\n```\n添加demoapp/tasks.py<br />@shared_task修饰器可以让你创建任务而不需要任何具体的应用程序实例\n```\n# Create your tasks here\nfrom __future__ import absolute_import, unicode_literals\nfrom celery import shared_task\n@shared_task\ndef add(x, y):\n    return x + y\n@shared_task\ndef mul(x, y):\n    return x * y\n@shared_task\ndef xsum(numbers):\n    return sum(numbers)\n```\n<a name=\"ENG88\"></a>\n# supervisor 配置\npip 安装supervisor (建议用系统自带的python2进行安装，py3不确定是否支持)\n```\npip install supervisor\n```\n生成配置文件\n```\necho_supervisord_conf > /etc/supervisord.conf\n```\n编辑配置文件，在末尾添加\n```\n[program:celery.worker]\ncommand= myprojectenv/bin/celery -A myproject worker -l info\ndirectory=/home/user/myproject\nnumprocs=1\nautostart=true\nautorestart=true\nstartretries=3\nredirect_stderr=true\nstdout_logfile=/home/home/user/myproject/log/celery_worker_out.log\n[program:celery.beat]\ncommand= myprojectenv/bin/celery -A myproject beat -l info\ndirectory=/home/user/myproject\nnumprocs=1\nautostart=true\nautorestart=true\nstartretries=3\nredirect_stderr=true\nstdout_logfile=/home/home/user/myproject/log/celery_beat_out.log\n```\n启动supervisor\n```\nsupervisord -c supervisord.conf\n```\n至此，大功告成。<br />django的配置可以按上一篇文章进行配置。<br />参考文件：<br />[http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html](http:_docs.celeryproject.org_en_latest_django_first-steps-with-django)<br />[http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html](http:_docs.celeryproject.org_en_latest_getting-started_first-steps-with-celery)\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"bOTlS\" class=\"ne-hr\"><p id=\"9857bc60d7180613eb6a6e74f68519ae\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-06-26 16:16:32+00:00</span></p><p id=\"c54ecb9aabc718ae6738ecd4125288b4\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"d6995ff2330a35c6030a50dffc627ba2\" class=\"ne-p\"><span class=\"ne-text\">title: django + celery + supervisor 定时任务 + 部署</span></p><p id=\"e8dcdc6f67179f386640a9e1db647d91\" class=\"ne-p\"><span class=\"ne-text\">categories: django</span></p><p id=\"c60e78b80613a3d2379876e824a627c4\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"2e3d9a19824dcc34b74d2f91f0bd5dee\"><span class=\"ne-text\">django</span></li><li id=\"4559ec78a16b99d34f12d7368cf47b55\"><span class=\"ne-text\">celery</span></li><li id=\"a81297b7929678a6517e8a45db03ae3f\"><span class=\"ne-text\">supervisor</span></li></ul><hr id=\"DAJpW\" class=\"ne-hr\"><h2 id=\"M1hll\"><span class=\"ne-text\">环境</span></h2><pre data-language=\"plain\" id=\"efxEd\" class=\"ne-codeblock language-plain\">django 2.0.6 (上一篇文章有详细项目新建的描述)\ncelery 4.2.0\ndjango-celery-beat 1.1.1\ndjango-celery-results 1.0.1</pre><h1 id=\"fM33J\"><span class=\"ne-text\">安装配置celery</span></h1><h3 id=\"aEshl\"><span class=\"ne-text\">选择broker</span></h3><pre data-language=\"plain\" id=\"JUK4N\" class=\"ne-codeblock language-plain\">我选择了RabbitMQ(官方推荐，安装配置简单) [了解更多](http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html#choosing-a-broker)\n安装RabbitMQ</pre><pre data-language=\"plain\" id=\"zfrmV\" class=\"ne-codeblock language-plain\">sudo apt-get install rabbitmq-server</pre><p id=\"0eee9b7e1d7bd4b99f53f06e86116acb\" class=\"ne-p\"><span class=\"ne-text\">添加配置到setting.py末尾</span></p><pre data-language=\"plain\" id=\"CkGO8\" class=\"ne-codeblock language-plain\"># celery broker\nBROKER_URL = 'amqp://localhost//'</pre><h3 id=\"MAOow\"><span class=\"ne-text\">安装celery</span></h3><pre data-language=\"plain\" id=\"wGJlo\" class=\"ne-codeblock language-plain\">celery是一个python包所以可以通过pip直接安装</pre><pre data-language=\"plain\" id=\"WPy01\" class=\"ne-codeblock language-plain\">cd ~/user/myproject\npipenv shell\npipenv install celery</pre><pre data-language=\"plain\" id=\"36LfL\" class=\"ne-codeblock language-plain\">celery 3.1版本以后不需要再安装django-celery模块。</pre><p id=\"2418958ea66cc3a6be1821219d9080c3\" class=\"ne-p\"><span class=\"ne-text\">添加配置到setting.py末尾</span></p><pre data-language=\"plain\" id=\"wmG3t\" class=\"ne-codeblock language-plain\">CELERY_ACCEPT_CONTENT = ['pickle']\nCELERY_TASK_SERIALIZER = 'pickle'\nCELERY_RESULT_SERIALIZER = 'pickle'\n# celery时区设置，使用settings中TIME_ZONE同样的时区\nCELERY_TIMEZONE = TIME_ZONE</pre><h3 id=\"Dok6b\"><span class=\"ne-text\">安装django-celery-results</span></h3><pre data-language=\"plain\" id=\"Wswb8\" class=\"ne-codeblock language-plain\">django-celery-results使用django orm提供结果。</pre><p id=\"744d88b7474eb3978409a665640de4f2\" class=\"ne-p\"><span class=\"ne-text\">安装 django-celery-restults</span></p><pre data-language=\"plain\" id=\"JGizM\" class=\"ne-codeblock language-plain\">pip install django-celery-results</pre><pre data-language=\"plain\" id=\"5lsvB\" class=\"ne-codeblock language-plain\">添加 django-celery-restults 到setting.py</pre><pre data-language=\"plain\" id=\"eHDey\" class=\"ne-codeblock language-plain\">INSTALLED_APPS = (\n    ...,\n    'django_celery_results',\n)</pre><pre data-language=\"plain\" id=\"rplIS\" class=\"ne-codeblock language-plain\">添加配置到setting.py末尾</pre><pre data-language=\"plain\" id=\"9vPEW\" class=\"ne-codeblock language-plain\"># celery结果返回\nCELERY_RESULT_BACKEND = 'django-db'</pre><h3 id=\"Ot8FW\"><span class=\"ne-text\">安装django-celery-beat</span></h3><p id=\"5595b47c2f95cfdaaabdce76d2521e06\" class=\"ne-p\"><span class=\"ne-text\">自定义调度程序类可以在命令行中指定（--scheduler参数）。</span></p><p id=\"6ddeebd6b2b9a840e2147f386f827fbf\" class=\"ne-p\"><span class=\"ne-text\">默认调度程序是celery.beat.PersistentScheduler，它只是跟踪本地搁置数据库文件中的最后一次运行时间。</span></p><p id=\"26716adbfe42dde15930eeee8db78a21\" class=\"ne-p\"><span class=\"ne-text\">还有一个django-celery-beat扩展，它将计划存储在Django数据库中，并提供了一个方便的管理界面来管理运行时的定期任务。</span></p><p id=\"79ffb2e7740dd2b0d6bbf05c6d8c3485\" class=\"ne-p\"><span class=\"ne-text\">安装 django-celery-beat</span></p><pre data-language=\"plain\" id=\"M3eaw\" class=\"ne-codeblock language-plain\">pip install django-celery-beat</pre><p id=\"f0ccc0bfdc6b963139fdb31a860ab4ea\" class=\"ne-p\"><span class=\"ne-text\">添加 django-celery-beat 到setting.py</span></p><pre data-language=\"plain\" id=\"VdmVV\" class=\"ne-codeblock language-plain\">INSTALLED_APPS = (\n    ...,\n    'django_celery_beat',\n)</pre><p id=\"4fcd1e778c0ee86b9f78b7f791a5ee26\" class=\"ne-p\"><span class=\"ne-text\">添加配置到setting.py末尾</span></p><pre data-language=\"plain\" id=\"ZCHvI\" class=\"ne-codeblock language-plain\"># celery 定时任务\nCELERY_BEAT_SCHEDULER = &quot;django_celery_beat.schedulers:DatabaseScheduler&quot;</pre><p id=\"0d30f153eed2d261a837d1d75b49070b\" class=\"ne-p\"><span class=\"ne-text\">启动任务</span></p><pre data-language=\"plain\" id=\"eXJRn\" class=\"ne-codeblock language-plain\">celery -A proj beat -l info --scheduler django_celery_beat.schedulers:DatabaseScheduler</pre><p id=\"3513bcbd40cbc69cb6dae7910454a4c9\" class=\"ne-p\"><span class=\"ne-text\">访问Django后台界面设置定期任务。</span></p><h1 id=\"RFCtw\"><span class=\"ne-text\">添加任务</span></h1><p id=\"215cf76087f082923703fc3b49395e74\" class=\"ne-p\"><span class=\"ne-text\">新建一个项目</span></p><pre data-language=\"plain\" id=\"ONLF9\" class=\"ne-codeblock language-plain\">python manage.py startapp demoapp</pre><p id=\"fb8d3ddff8b96864b093984d941e9a03\" class=\"ne-p\"><span class=\"ne-text\">添加demoapp/tasks.py</span></p><p id=\"3e423144053e1e0bb25b5ac2f68a7396\" class=\"ne-p\"><span class=\"ne-text\">@shared_task修饰器可以让你创建任务而不需要任何具体的应用程序实例</span></p><pre data-language=\"plain\" id=\"dNK8D\" class=\"ne-codeblock language-plain\"># Create your tasks here\nfrom __future__ import absolute_import, unicode_literals\nfrom celery import shared_task\n@shared_task\ndef add(x, y):\n    return x + y\n@shared_task\ndef mul(x, y):\n    return x * y\n@shared_task\ndef xsum(numbers):\n    return sum(numbers)</pre><h1 id=\"ENG88\"><span class=\"ne-text\">supervisor 配置</span></h1><p id=\"3aff7d00a8f1434fd7d33a2d09a34aff\" class=\"ne-p\"><span class=\"ne-text\">pip 安装supervisor (建议用系统自带的python2进行安装，py3不确定是否支持)</span></p><pre data-language=\"plain\" id=\"P99Eo\" class=\"ne-codeblock language-plain\">pip install supervisor</pre><p id=\"4dba077c8a79a2d41001cd4c2dfc5eda\" class=\"ne-p\"><span class=\"ne-text\">生成配置文件</span></p><pre data-language=\"plain\" id=\"mwK5Z\" class=\"ne-codeblock language-plain\">echo_supervisord_conf &gt; /etc/supervisord.conf</pre><p id=\"1d113e5f48e8ba792ebd9ca3f5e78409\" class=\"ne-p\"><span class=\"ne-text\">编辑配置文件，在末尾添加</span></p><pre data-language=\"plain\" id=\"Exzly\" class=\"ne-codeblock language-plain\">[program:celery.worker]\ncommand= myprojectenv/bin/celery -A myproject worker -l info\ndirectory=/home/user/myproject\nnumprocs=1\nautostart=true\nautorestart=true\nstartretries=3\nredirect_stderr=true\nstdout_logfile=/home/home/user/myproject/log/celery_worker_out.log\n[program:celery.beat]\ncommand= myprojectenv/bin/celery -A myproject beat -l info\ndirectory=/home/user/myproject\nnumprocs=1\nautostart=true\nautorestart=true\nstartretries=3\nredirect_stderr=true\nstdout_logfile=/home/home/user/myproject/log/celery_beat_out.log</pre><p id=\"bd5e977f20c941b66fffbb89aac2b755\" class=\"ne-p\"><span class=\"ne-text\">启动supervisor</span></p><pre data-language=\"plain\" id=\"73WIl\" class=\"ne-codeblock language-plain\">supervisord -c supervisord.conf</pre><p id=\"71b7da896f7d1e30ded8473d000ff7b2\" class=\"ne-p\"><span class=\"ne-text\">至此，大功告成。</span></p><p id=\"db366dcb96acc1fb062233c148a0bf47\" class=\"ne-p\"><span class=\"ne-text\">django的配置可以按上一篇文章进行配置。</span></p><p id=\"7f3acd370afd683dbeb63c5d852b4c57\" class=\"ne-p\"><span class=\"ne-text\">参考文件：</span></p><p id=\"d993e4932ba0560073a12d8a3b469ddb\" class=\"ne-p\"><a href=\"http:_docs.celeryproject.org_en_latest_django_first-steps-with-django\" data-href=\"http:_docs.celeryproject.org_en_latest_django_first-steps-with-django\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html</span></a></p><p id=\"d961ada51e78c92c955adbcb910255b0\" class=\"ne-p\"><a href=\"http:_docs.celeryproject.org_en_latest_getting-started_first-steps-with-celery\" data-href=\"http:_docs.celeryproject.org_en_latest_getting-started_first-steps-with-celery\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html</span></a></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22bOTlS%22%7D\"></card><p data-lake-id=\"9857bc60d7180613eb6a6e74f68519ae\" id=\"9857bc60d7180613eb6a6e74f68519ae\"><span data-lake-id=\"u419877e5\" id=\"u419877e5\">date: 2018-06-26 16:16:32+00:00</span></p><p data-lake-id=\"c54ecb9aabc718ae6738ecd4125288b4\" id=\"c54ecb9aabc718ae6738ecd4125288b4\"><span data-lake-id=\"u9ebde20a\" id=\"u9ebde20a\">layout: post</span></p><p data-lake-id=\"d6995ff2330a35c6030a50dffc627ba2\" id=\"d6995ff2330a35c6030a50dffc627ba2\"><span data-lake-id=\"u13392c8d\" id=\"u13392c8d\">title: django + celery + supervisor 定时任务 + 部署</span></p><p data-lake-id=\"e8dcdc6f67179f386640a9e1db647d91\" id=\"e8dcdc6f67179f386640a9e1db647d91\"><span data-lake-id=\"uad7d0c9f\" id=\"uad7d0c9f\">categories: django</span></p><p data-lake-id=\"c60e78b80613a3d2379876e824a627c4\" id=\"c60e78b80613a3d2379876e824a627c4\"><span data-lake-id=\"ucc967a97\" id=\"ucc967a97\">tags:</span></p><ul list=\"uea2008d9\"><li fid=\"u33b07795\" data-lake-id=\"2e3d9a19824dcc34b74d2f91f0bd5dee\" id=\"2e3d9a19824dcc34b74d2f91f0bd5dee\"><span data-lake-id=\"uc4a186d1\" id=\"uc4a186d1\">django</span></li><li fid=\"u33b07795\" data-lake-id=\"4559ec78a16b99d34f12d7368cf47b55\" id=\"4559ec78a16b99d34f12d7368cf47b55\"><span data-lake-id=\"u83e74cec\" id=\"u83e74cec\">celery</span></li><li fid=\"u33b07795\" data-lake-id=\"a81297b7929678a6517e8a45db03ae3f\" id=\"a81297b7929678a6517e8a45db03ae3f\"><span data-lake-id=\"u24dac34b\" id=\"u24dac34b\">supervisor</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22DAJpW%22%7D\"></card><h2 data-lake-id=\"M1hll\" id=\"M1hll\"><span data-lake-id=\"ua24f66c6\" id=\"ua24f66c6\">环境</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django%202.0.6%20(%E4%B8%8A%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E6%9C%89%E8%AF%A6%E7%BB%86%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%BB%BA%E7%9A%84%E6%8F%8F%E8%BF%B0)%5Cncelery%204.2.0%5Cndjango-celery-beat%201.1.1%5Cndjango-celery-results%201.0.1%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22efxEd%22%7D\"></card><h1 data-lake-id=\"fM33J\" id=\"fM33J\"><span data-lake-id=\"u963cbb03\" id=\"u963cbb03\">安装配置celery</span></h1><h3 data-lake-id=\"aEshl\" id=\"aEshl\"><span data-lake-id=\"ue748d7f9\" id=\"ue748d7f9\">选择broker</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%88%91%E9%80%89%E6%8B%A9%E4%BA%86RabbitMQ(%E5%AE%98%E6%96%B9%E6%8E%A8%E8%8D%90%EF%BC%8C%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E7%AE%80%E5%8D%95)%20%5B%E4%BA%86%E8%A7%A3%E6%9B%B4%E5%A4%9A%5D(http%3A%2F%2Fdocs.celeryproject.org%2Fen%2Flatest%2Fgetting-started%2Ffirst-steps-with-celery.html%23choosing-a-broker)%5Cn%E5%AE%89%E8%A3%85RabbitMQ%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JUK4N%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20apt-get%20install%20rabbitmq-server%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22zfrmV%22%7D\"></card><p data-lake-id=\"0eee9b7e1d7bd4b99f53f06e86116acb\" id=\"0eee9b7e1d7bd4b99f53f06e86116acb\"><span data-lake-id=\"u2a4aca88\" id=\"u2a4aca88\">添加配置到setting.py末尾</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20celery%20broker%5CnBROKER_URL%20%3D%20'amqp%3A%2F%2Flocalhost%2F%2F'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CkGO8%22%7D\"></card><h3 data-lake-id=\"MAOow\" id=\"MAOow\"><span data-lake-id=\"u14576105\" id=\"u14576105\">安装celery</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22celery%E6%98%AF%E4%B8%80%E4%B8%AApython%E5%8C%85%E6%89%80%E4%BB%A5%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87pip%E7%9B%B4%E6%8E%A5%E5%AE%89%E8%A3%85%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wGJlo%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20~%2Fuser%2Fmyproject%5Cnpipenv%20shell%5Cnpipenv%20install%20celery%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22WPy01%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22celery%203.1%E7%89%88%E6%9C%AC%E4%BB%A5%E5%90%8E%E4%B8%8D%E9%9C%80%E8%A6%81%E5%86%8D%E5%AE%89%E8%A3%85django-celery%E6%A8%A1%E5%9D%97%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%2236LfL%22%7D\"></card><p data-lake-id=\"2418958ea66cc3a6be1821219d9080c3\" id=\"2418958ea66cc3a6be1821219d9080c3\"><span data-lake-id=\"u827fb386\" id=\"u827fb386\">添加配置到setting.py末尾</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22CELERY_ACCEPT_CONTENT%20%3D%20%5B'pickle'%5D%5CnCELERY_TASK_SERIALIZER%20%3D%20'pickle'%5CnCELERY_RESULT_SERIALIZER%20%3D%20'pickle'%5Cn%23%20celery%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE%EF%BC%8C%E4%BD%BF%E7%94%A8settings%E4%B8%ADTIME_ZONE%E5%90%8C%E6%A0%B7%E7%9A%84%E6%97%B6%E5%8C%BA%5CnCELERY_TIMEZONE%20%3D%20TIME_ZONE%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wmG3t%22%7D\"></card><h3 data-lake-id=\"Dok6b\" id=\"Dok6b\"><span data-lake-id=\"u48ef08f9\" id=\"u48ef08f9\">安装django-celery-results</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-celery-results%E4%BD%BF%E7%94%A8django%20orm%E6%8F%90%E4%BE%9B%E7%BB%93%E6%9E%9C%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Wswb8%22%7D\"></card><p data-lake-id=\"744d88b7474eb3978409a665640de4f2\" id=\"744d88b7474eb3978409a665640de4f2\"><span data-lake-id=\"u6c1c7a70\" id=\"u6c1c7a70\">安装 django-celery-restults</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20django-celery-results%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JGizM%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%B7%BB%E5%8A%A0%20django-celery-restults%20%E5%88%B0setting.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%225lsvB%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22INSTALLED_APPS%20%3D%20(%5Cn%20%20%20%20...%2C%5Cn%20%20%20%20'django_celery_results'%2C%5Cn)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22eHDey%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E5%88%B0setting.py%E6%9C%AB%E5%B0%BE%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22rplIS%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20celery%E7%BB%93%E6%9E%9C%E8%BF%94%E5%9B%9E%5CnCELERY_RESULT_BACKEND%20%3D%20'django-db'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%229vPEW%22%7D\"></card><h3 data-lake-id=\"Ot8FW\" id=\"Ot8FW\"><span data-lake-id=\"u1b1ac221\" id=\"u1b1ac221\">安装django-celery-beat</span></h3><p data-lake-id=\"5595b47c2f95cfdaaabdce76d2521e06\" id=\"5595b47c2f95cfdaaabdce76d2521e06\"><span data-lake-id=\"u582bbbac\" id=\"u582bbbac\">自定义调度程序类可以在命令行中指定（--scheduler参数）。</span></p><p data-lake-id=\"6ddeebd6b2b9a840e2147f386f827fbf\" id=\"6ddeebd6b2b9a840e2147f386f827fbf\"><span data-lake-id=\"uf590f086\" id=\"uf590f086\">默认调度程序是celery.beat.PersistentScheduler，它只是跟踪本地搁置数据库文件中的最后一次运行时间。</span></p><p data-lake-id=\"26716adbfe42dde15930eeee8db78a21\" id=\"26716adbfe42dde15930eeee8db78a21\"><span data-lake-id=\"ubdb898d5\" id=\"ubdb898d5\">还有一个django-celery-beat扩展，它将计划存储在Django数据库中，并提供了一个方便的管理界面来管理运行时的定期任务。</span></p><p data-lake-id=\"79ffb2e7740dd2b0d6bbf05c6d8c3485\" id=\"79ffb2e7740dd2b0d6bbf05c6d8c3485\"><span data-lake-id=\"u8040a741\" id=\"u8040a741\">安装 django-celery-beat</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20django-celery-beat%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22M3eaw%22%7D\"></card><p data-lake-id=\"f0ccc0bfdc6b963139fdb31a860ab4ea\" id=\"f0ccc0bfdc6b963139fdb31a860ab4ea\"><span data-lake-id=\"u975ef320\" id=\"u975ef320\">添加 django-celery-beat 到setting.py</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22INSTALLED_APPS%20%3D%20(%5Cn%20%20%20%20...%2C%5Cn%20%20%20%20'django_celery_beat'%2C%5Cn)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22VdmVV%22%7D\"></card><p data-lake-id=\"4fcd1e778c0ee86b9f78b7f791a5ee26\" id=\"4fcd1e778c0ee86b9f78b7f791a5ee26\"><span data-lake-id=\"u2308393a\" id=\"u2308393a\">添加配置到setting.py末尾</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20celery%20%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%5CnCELERY_BEAT_SCHEDULER%20%3D%20%5C%22django_celery_beat.schedulers%3ADatabaseScheduler%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ZCHvI%22%7D\"></card><p data-lake-id=\"0d30f153eed2d261a837d1d75b49070b\" id=\"0d30f153eed2d261a837d1d75b49070b\"><span data-lake-id=\"u2bb2ba36\" id=\"u2bb2ba36\">启动任务</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22celery%20-A%20proj%20beat%20-l%20info%20--scheduler%20django_celery_beat.schedulers%3ADatabaseScheduler%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22eXJRn%22%7D\"></card><p data-lake-id=\"3513bcbd40cbc69cb6dae7910454a4c9\" id=\"3513bcbd40cbc69cb6dae7910454a4c9\"><span data-lake-id=\"u72f0a138\" id=\"u72f0a138\">访问Django后台界面设置定期任务。</span></p><h1 data-lake-id=\"RFCtw\" id=\"RFCtw\"><span data-lake-id=\"u2fbdcd94\" id=\"u2fbdcd94\">添加任务</span></h1><p data-lake-id=\"215cf76087f082923703fc3b49395e74\" id=\"215cf76087f082923703fc3b49395e74\"><span data-lake-id=\"uae56599d\" id=\"uae56599d\">新建一个项目</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20startapp%20demoapp%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ONLF9%22%7D\"></card><p data-lake-id=\"fb8d3ddff8b96864b093984d941e9a03\" id=\"fb8d3ddff8b96864b093984d941e9a03\"><span data-lake-id=\"u0ea5f528\" id=\"u0ea5f528\">添加demoapp/tasks.py</span></p><p data-lake-id=\"3e423144053e1e0bb25b5ac2f68a7396\" id=\"3e423144053e1e0bb25b5ac2f68a7396\"><span data-lake-id=\"u0c6d007b\" id=\"u0c6d007b\">@shared_task修饰器可以让你创建任务而不需要任何具体的应用程序实例</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20Create%20your%20tasks%20here%5Cnfrom%20__future__%20import%20absolute_import%2C%20unicode_literals%5Cnfrom%20celery%20import%20shared_task%5Cn%40shared_task%5Cndef%20add(x%2C%20y)%3A%5Cn%20%20%20%20return%20x%20%2B%20y%5Cn%40shared_task%5Cndef%20mul(x%2C%20y)%3A%5Cn%20%20%20%20return%20x%20*%20y%5Cn%40shared_task%5Cndef%20xsum(numbers)%3A%5Cn%20%20%20%20return%20sum(numbers)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22dNK8D%22%7D\"></card><h1 data-lake-id=\"ENG88\" id=\"ENG88\"><span data-lake-id=\"ud42fbfce\" id=\"ud42fbfce\">supervisor 配置</span></h1><p data-lake-id=\"3aff7d00a8f1434fd7d33a2d09a34aff\" id=\"3aff7d00a8f1434fd7d33a2d09a34aff\"><span data-lake-id=\"u2f4ad95c\" id=\"u2f4ad95c\">pip 安装supervisor (建议用系统自带的python2进行安装，py3不确定是否支持)</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20supervisor%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22P99Eo%22%7D\"></card><p data-lake-id=\"4dba077c8a79a2d41001cd4c2dfc5eda\" id=\"4dba077c8a79a2d41001cd4c2dfc5eda\"><span data-lake-id=\"u0027607a\" id=\"u0027607a\">生成配置文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22echo_supervisord_conf%20%3E%20%2Fetc%2Fsupervisord.conf%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22mwK5Z%22%7D\"></card><p data-lake-id=\"1d113e5f48e8ba792ebd9ca3f5e78409\" id=\"1d113e5f48e8ba792ebd9ca3f5e78409\"><span data-lake-id=\"u105df8ca\" id=\"u105df8ca\">编辑配置文件，在末尾添加</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%5Bprogram%3Acelery.worker%5D%5Cncommand%3D%20myprojectenv%2Fbin%2Fcelery%20-A%20myproject%20worker%20-l%20info%5Cndirectory%3D%2Fhome%2Fuser%2Fmyproject%5Cnnumprocs%3D1%5Cnautostart%3Dtrue%5Cnautorestart%3Dtrue%5Cnstartretries%3D3%5Cnredirect_stderr%3Dtrue%5Cnstdout_logfile%3D%2Fhome%2Fhome%2Fuser%2Fmyproject%2Flog%2Fcelery_worker_out.log%5Cn%5Bprogram%3Acelery.beat%5D%5Cncommand%3D%20myprojectenv%2Fbin%2Fcelery%20-A%20myproject%20beat%20-l%20info%5Cndirectory%3D%2Fhome%2Fuser%2Fmyproject%5Cnnumprocs%3D1%5Cnautostart%3Dtrue%5Cnautorestart%3Dtrue%5Cnstartretries%3D3%5Cnredirect_stderr%3Dtrue%5Cnstdout_logfile%3D%2Fhome%2Fhome%2Fuser%2Fmyproject%2Flog%2Fcelery_beat_out.log%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Exzly%22%7D\"></card><p data-lake-id=\"bd5e977f20c941b66fffbb89aac2b755\" id=\"bd5e977f20c941b66fffbb89aac2b755\"><span data-lake-id=\"ue749e906\" id=\"ue749e906\">启动supervisor</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22supervisord%20-c%20supervisord.conf%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%2273WIl%22%7D\"></card><p data-lake-id=\"71b7da896f7d1e30ded8473d000ff7b2\" id=\"71b7da896f7d1e30ded8473d000ff7b2\"><span data-lake-id=\"u88e55210\" id=\"u88e55210\">至此，大功告成。</span></p><p data-lake-id=\"db366dcb96acc1fb062233c148a0bf47\" id=\"db366dcb96acc1fb062233c148a0bf47\"><span data-lake-id=\"uc753ccda\" id=\"uc753ccda\">django的配置可以按上一篇文章进行配置。</span></p><p data-lake-id=\"7f3acd370afd683dbeb63c5d852b4c57\" id=\"7f3acd370afd683dbeb63c5d852b4c57\"><span data-lake-id=\"u671371f9\" id=\"u671371f9\">参考文件：</span></p><p data-lake-id=\"d993e4932ba0560073a12d8a3b469ddb\" id=\"d993e4932ba0560073a12d8a3b469ddb\"><a href=\"http:_docs.celeryproject.org_en_latest_django_first-steps-with-django\" target=\"_blank\" data-lake-id=\"ub36a4aaf\" id=\"ub36a4aaf\"><span data-lake-id=\"u276d072d\" id=\"u276d072d\">http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html</span></a></p><p data-lake-id=\"d961ada51e78c92c955adbcb910255b0\" id=\"d961ada51e78c92c955adbcb910255b0\"><a href=\"http:_docs.celeryproject.org_en_latest_getting-started_first-steps-with-celery\" target=\"_blank\" data-lake-id=\"u21266ac3\" id=\"u21266ac3\"><span data-lake-id=\"uc6619734\" id=\"uc6619734\">http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html</span></a></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22bOTlS%22%7D\"></card><p data-lake-id=\"9857bc60d7180613eb6a6e74f68519ae\" id=\"9857bc60d7180613eb6a6e74f68519ae\"><span data-lake-id=\"u419877e5\" id=\"u419877e5\">date: 2018-06-26 16:16:32+00:00</span></p><p data-lake-id=\"c54ecb9aabc718ae6738ecd4125288b4\" id=\"c54ecb9aabc718ae6738ecd4125288b4\"><span data-lake-id=\"u9ebde20a\" id=\"u9ebde20a\">layout: post</span></p><p data-lake-id=\"d6995ff2330a35c6030a50dffc627ba2\" id=\"d6995ff2330a35c6030a50dffc627ba2\"><span data-lake-id=\"u13392c8d\" id=\"u13392c8d\">title: django + celery + supervisor 定时任务 + 部署</span></p><p data-lake-id=\"e8dcdc6f67179f386640a9e1db647d91\" id=\"e8dcdc6f67179f386640a9e1db647d91\"><span data-lake-id=\"uad7d0c9f\" id=\"uad7d0c9f\">categories: django</span></p><p data-lake-id=\"c60e78b80613a3d2379876e824a627c4\" id=\"c60e78b80613a3d2379876e824a627c4\"><span data-lake-id=\"ucc967a97\" id=\"ucc967a97\">tags:</span></p><ul list=\"uea2008d9\"><li fid=\"u33b07795\" data-lake-id=\"2e3d9a19824dcc34b74d2f91f0bd5dee\" id=\"2e3d9a19824dcc34b74d2f91f0bd5dee\"><span data-lake-id=\"uc4a186d1\" id=\"uc4a186d1\">django</span></li><li fid=\"u33b07795\" data-lake-id=\"4559ec78a16b99d34f12d7368cf47b55\" id=\"4559ec78a16b99d34f12d7368cf47b55\"><span data-lake-id=\"u83e74cec\" id=\"u83e74cec\">celery</span></li><li fid=\"u33b07795\" data-lake-id=\"a81297b7929678a6517e8a45db03ae3f\" id=\"a81297b7929678a6517e8a45db03ae3f\"><span data-lake-id=\"u24dac34b\" id=\"u24dac34b\">supervisor</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22DAJpW%22%7D\"></card><h2 data-lake-id=\"M1hll\" id=\"M1hll\"><span data-lake-id=\"ua24f66c6\" id=\"ua24f66c6\">环境</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django%202.0.6%20(%E4%B8%8A%E4%B8%80%E7%AF%87%E6%96%87%E7%AB%A0%E6%9C%89%E8%AF%A6%E7%BB%86%E9%A1%B9%E7%9B%AE%E6%96%B0%E5%BB%BA%E7%9A%84%E6%8F%8F%E8%BF%B0)%5Cncelery%204.2.0%5Cndjango-celery-beat%201.1.1%5Cndjango-celery-results%201.0.1%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22efxEd%22%7D\"></card><h1 data-lake-id=\"fM33J\" id=\"fM33J\"><span data-lake-id=\"u963cbb03\" id=\"u963cbb03\">安装配置celery</span></h1><h3 data-lake-id=\"aEshl\" id=\"aEshl\"><span data-lake-id=\"ue748d7f9\" id=\"ue748d7f9\">选择broker</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%88%91%E9%80%89%E6%8B%A9%E4%BA%86RabbitMQ(%E5%AE%98%E6%96%B9%E6%8E%A8%E8%8D%90%EF%BC%8C%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE%E7%AE%80%E5%8D%95)%20%5B%E4%BA%86%E8%A7%A3%E6%9B%B4%E5%A4%9A%5D(http%3A%2F%2Fdocs.celeryproject.org%2Fen%2Flatest%2Fgetting-started%2Ffirst-steps-with-celery.html%23choosing-a-broker)%5Cn%E5%AE%89%E8%A3%85RabbitMQ%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JUK4N%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20apt-get%20install%20rabbitmq-server%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22zfrmV%22%7D\"></card><p data-lake-id=\"0eee9b7e1d7bd4b99f53f06e86116acb\" id=\"0eee9b7e1d7bd4b99f53f06e86116acb\"><span data-lake-id=\"u2a4aca88\" id=\"u2a4aca88\">添加配置到setting.py末尾</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20celery%20broker%5CnBROKER_URL%20%3D%20'amqp%3A%2F%2Flocalhost%2F%2F'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CkGO8%22%7D\"></card><h3 data-lake-id=\"MAOow\" id=\"MAOow\"><span data-lake-id=\"u14576105\" id=\"u14576105\">安装celery</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22celery%E6%98%AF%E4%B8%80%E4%B8%AApython%E5%8C%85%E6%89%80%E4%BB%A5%E5%8F%AF%E4%BB%A5%E9%80%9A%E8%BF%87pip%E7%9B%B4%E6%8E%A5%E5%AE%89%E8%A3%85%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wGJlo%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20~%2Fuser%2Fmyproject%5Cnpipenv%20shell%5Cnpipenv%20install%20celery%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22WPy01%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22celery%203.1%E7%89%88%E6%9C%AC%E4%BB%A5%E5%90%8E%E4%B8%8D%E9%9C%80%E8%A6%81%E5%86%8D%E5%AE%89%E8%A3%85django-celery%E6%A8%A1%E5%9D%97%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%2236LfL%22%7D\"></card><p data-lake-id=\"2418958ea66cc3a6be1821219d9080c3\" id=\"2418958ea66cc3a6be1821219d9080c3\"><span data-lake-id=\"u827fb386\" id=\"u827fb386\">添加配置到setting.py末尾</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22CELERY_ACCEPT_CONTENT%20%3D%20%5B'pickle'%5D%5CnCELERY_TASK_SERIALIZER%20%3D%20'pickle'%5CnCELERY_RESULT_SERIALIZER%20%3D%20'pickle'%5Cn%23%20celery%E6%97%B6%E5%8C%BA%E8%AE%BE%E7%BD%AE%EF%BC%8C%E4%BD%BF%E7%94%A8settings%E4%B8%ADTIME_ZONE%E5%90%8C%E6%A0%B7%E7%9A%84%E6%97%B6%E5%8C%BA%5CnCELERY_TIMEZONE%20%3D%20TIME_ZONE%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wmG3t%22%7D\"></card><h3 data-lake-id=\"Dok6b\" id=\"Dok6b\"><span data-lake-id=\"u48ef08f9\" id=\"u48ef08f9\">安装django-celery-results</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-celery-results%E4%BD%BF%E7%94%A8django%20orm%E6%8F%90%E4%BE%9B%E7%BB%93%E6%9E%9C%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Wswb8%22%7D\"></card><p data-lake-id=\"744d88b7474eb3978409a665640de4f2\" id=\"744d88b7474eb3978409a665640de4f2\"><span data-lake-id=\"u6c1c7a70\" id=\"u6c1c7a70\">安装 django-celery-restults</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20django-celery-results%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JGizM%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%B7%BB%E5%8A%A0%20django-celery-restults%20%E5%88%B0setting.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%225lsvB%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22INSTALLED_APPS%20%3D%20(%5Cn%20%20%20%20...%2C%5Cn%20%20%20%20'django_celery_results'%2C%5Cn)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22eHDey%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E5%88%B0setting.py%E6%9C%AB%E5%B0%BE%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22rplIS%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20celery%E7%BB%93%E6%9E%9C%E8%BF%94%E5%9B%9E%5CnCELERY_RESULT_BACKEND%20%3D%20'django-db'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%229vPEW%22%7D\"></card><h3 data-lake-id=\"Ot8FW\" id=\"Ot8FW\"><span data-lake-id=\"u1b1ac221\" id=\"u1b1ac221\">安装django-celery-beat</span></h3><p data-lake-id=\"5595b47c2f95cfdaaabdce76d2521e06\" id=\"5595b47c2f95cfdaaabdce76d2521e06\"><span data-lake-id=\"u582bbbac\" id=\"u582bbbac\">自定义调度程序类可以在命令行中指定（--scheduler参数）。</span></p><p data-lake-id=\"6ddeebd6b2b9a840e2147f386f827fbf\" id=\"6ddeebd6b2b9a840e2147f386f827fbf\"><span data-lake-id=\"uf590f086\" id=\"uf590f086\">默认调度程序是celery.beat.PersistentScheduler，它只是跟踪本地搁置数据库文件中的最后一次运行时间。</span></p><p data-lake-id=\"26716adbfe42dde15930eeee8db78a21\" id=\"26716adbfe42dde15930eeee8db78a21\"><span data-lake-id=\"ubdb898d5\" id=\"ubdb898d5\">还有一个django-celery-beat扩展，它将计划存储在Django数据库中，并提供了一个方便的管理界面来管理运行时的定期任务。</span></p><p data-lake-id=\"79ffb2e7740dd2b0d6bbf05c6d8c3485\" id=\"79ffb2e7740dd2b0d6bbf05c6d8c3485\"><span data-lake-id=\"u8040a741\" id=\"u8040a741\">安装 django-celery-beat</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20django-celery-beat%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22M3eaw%22%7D\"></card><p data-lake-id=\"f0ccc0bfdc6b963139fdb31a860ab4ea\" id=\"f0ccc0bfdc6b963139fdb31a860ab4ea\"><span data-lake-id=\"u975ef320\" id=\"u975ef320\">添加 django-celery-beat 到setting.py</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22INSTALLED_APPS%20%3D%20(%5Cn%20%20%20%20...%2C%5Cn%20%20%20%20'django_celery_beat'%2C%5Cn)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22VdmVV%22%7D\"></card><p data-lake-id=\"4fcd1e778c0ee86b9f78b7f791a5ee26\" id=\"4fcd1e778c0ee86b9f78b7f791a5ee26\"><span data-lake-id=\"u2308393a\" id=\"u2308393a\">添加配置到setting.py末尾</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20celery%20%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1%5CnCELERY_BEAT_SCHEDULER%20%3D%20%5C%22django_celery_beat.schedulers%3ADatabaseScheduler%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ZCHvI%22%7D\"></card><p data-lake-id=\"0d30f153eed2d261a837d1d75b49070b\" id=\"0d30f153eed2d261a837d1d75b49070b\"><span data-lake-id=\"u2bb2ba36\" id=\"u2bb2ba36\">启动任务</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22celery%20-A%20proj%20beat%20-l%20info%20--scheduler%20django_celery_beat.schedulers%3ADatabaseScheduler%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22eXJRn%22%7D\"></card><p data-lake-id=\"3513bcbd40cbc69cb6dae7910454a4c9\" id=\"3513bcbd40cbc69cb6dae7910454a4c9\"><span data-lake-id=\"u72f0a138\" id=\"u72f0a138\">访问Django后台界面设置定期任务。</span></p><h1 data-lake-id=\"RFCtw\" id=\"RFCtw\"><span data-lake-id=\"u2fbdcd94\" id=\"u2fbdcd94\">添加任务</span></h1><p data-lake-id=\"215cf76087f082923703fc3b49395e74\" id=\"215cf76087f082923703fc3b49395e74\"><span data-lake-id=\"uae56599d\" id=\"uae56599d\">新建一个项目</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20startapp%20demoapp%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ONLF9%22%7D\"></card><p data-lake-id=\"fb8d3ddff8b96864b093984d941e9a03\" id=\"fb8d3ddff8b96864b093984d941e9a03\"><span data-lake-id=\"u0ea5f528\" id=\"u0ea5f528\">添加demoapp/tasks.py</span></p><p data-lake-id=\"3e423144053e1e0bb25b5ac2f68a7396\" id=\"3e423144053e1e0bb25b5ac2f68a7396\"><span data-lake-id=\"u0c6d007b\" id=\"u0c6d007b\">@shared_task修饰器可以让你创建任务而不需要任何具体的应用程序实例</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20Create%20your%20tasks%20here%5Cnfrom%20__future__%20import%20absolute_import%2C%20unicode_literals%5Cnfrom%20celery%20import%20shared_task%5Cn%40shared_task%5Cndef%20add(x%2C%20y)%3A%5Cn%20%20%20%20return%20x%20%2B%20y%5Cn%40shared_task%5Cndef%20mul(x%2C%20y)%3A%5Cn%20%20%20%20return%20x%20*%20y%5Cn%40shared_task%5Cndef%20xsum(numbers)%3A%5Cn%20%20%20%20return%20sum(numbers)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22dNK8D%22%7D\"></card><h1 data-lake-id=\"ENG88\" id=\"ENG88\"><span data-lake-id=\"ud42fbfce\" id=\"ud42fbfce\">supervisor 配置</span></h1><p data-lake-id=\"3aff7d00a8f1434fd7d33a2d09a34aff\" id=\"3aff7d00a8f1434fd7d33a2d09a34aff\"><span data-lake-id=\"u2f4ad95c\" id=\"u2f4ad95c\">pip 安装supervisor (建议用系统自带的python2进行安装，py3不确定是否支持)</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20supervisor%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22P99Eo%22%7D\"></card><p data-lake-id=\"4dba077c8a79a2d41001cd4c2dfc5eda\" id=\"4dba077c8a79a2d41001cd4c2dfc5eda\"><span data-lake-id=\"u0027607a\" id=\"u0027607a\">生成配置文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22echo_supervisord_conf%20%3E%20%2Fetc%2Fsupervisord.conf%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22mwK5Z%22%7D\"></card><p data-lake-id=\"1d113e5f48e8ba792ebd9ca3f5e78409\" id=\"1d113e5f48e8ba792ebd9ca3f5e78409\"><span data-lake-id=\"u105df8ca\" id=\"u105df8ca\">编辑配置文件，在末尾添加</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%5Bprogram%3Acelery.worker%5D%5Cncommand%3D%20myprojectenv%2Fbin%2Fcelery%20-A%20myproject%20worker%20-l%20info%5Cndirectory%3D%2Fhome%2Fuser%2Fmyproject%5Cnnumprocs%3D1%5Cnautostart%3Dtrue%5Cnautorestart%3Dtrue%5Cnstartretries%3D3%5Cnredirect_stderr%3Dtrue%5Cnstdout_logfile%3D%2Fhome%2Fhome%2Fuser%2Fmyproject%2Flog%2Fcelery_worker_out.log%5Cn%5Bprogram%3Acelery.beat%5D%5Cncommand%3D%20myprojectenv%2Fbin%2Fcelery%20-A%20myproject%20beat%20-l%20info%5Cndirectory%3D%2Fhome%2Fuser%2Fmyproject%5Cnnumprocs%3D1%5Cnautostart%3Dtrue%5Cnautorestart%3Dtrue%5Cnstartretries%3D3%5Cnredirect_stderr%3Dtrue%5Cnstdout_logfile%3D%2Fhome%2Fhome%2Fuser%2Fmyproject%2Flog%2Fcelery_beat_out.log%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Exzly%22%7D\"></card><p data-lake-id=\"bd5e977f20c941b66fffbb89aac2b755\" id=\"bd5e977f20c941b66fffbb89aac2b755\"><span data-lake-id=\"ue749e906\" id=\"ue749e906\">启动supervisor</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22supervisord%20-c%20supervisord.conf%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%2273WIl%22%7D\"></card><p data-lake-id=\"71b7da896f7d1e30ded8473d000ff7b2\" id=\"71b7da896f7d1e30ded8473d000ff7b2\"><span data-lake-id=\"u88e55210\" id=\"u88e55210\">至此，大功告成。</span></p><p data-lake-id=\"db366dcb96acc1fb062233c148a0bf47\" id=\"db366dcb96acc1fb062233c148a0bf47\"><span data-lake-id=\"uc753ccda\" id=\"uc753ccda\">django的配置可以按上一篇文章进行配置。</span></p><p data-lake-id=\"7f3acd370afd683dbeb63c5d852b4c57\" id=\"7f3acd370afd683dbeb63c5d852b4c57\"><span data-lake-id=\"u671371f9\" id=\"u671371f9\">参考文件：</span></p><p data-lake-id=\"d993e4932ba0560073a12d8a3b469ddb\" id=\"d993e4932ba0560073a12d8a3b469ddb\"><a href=\"http:_docs.celeryproject.org_en_latest_django_first-steps-with-django\" target=\"_blank\" data-lake-id=\"ub36a4aaf\" id=\"ub36a4aaf\"><span data-lake-id=\"u276d072d\" id=\"u276d072d\">http://docs.celeryproject.org/en/latest/django/first-steps-with-django.html</span></a></p><p data-lake-id=\"d961ada51e78c92c955adbcb910255b0\" id=\"d961ada51e78c92c955adbcb910255b0\"><a href=\"http:_docs.celeryproject.org_en_latest_getting-started_first-steps-with-celery\" target=\"_blank\" data-lake-id=\"u21266ac3\" id=\"u21266ac3\"><span data-lake-id=\"uc6619734\" id=\"uc6619734\">http://docs.celeryproject.org/en/latest/getting-started/first-steps-with-celery.html</span></a></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:03:47.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:29.000Z",
    "updated_at": "2022-12-17T10:33:21.000Z",
    "published_at": "2022-12-17T10:33:20.000Z",
    "first_published_at": "2022-12-09T12:02:28.734Z",
    "word_count": 600,
    "cover": null,
    "description": "date: 2018-06-26 16:16:32+00:00layout: posttitle: django + celery + supervisor 定时任务 + 部署categories: djangotags:djangocelerysupervisor环境django 2.0.6...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945042,
    "slug": "dc4097dbbb7f8aef537fe72c595c2b38",
    "title": "2018-06-25-django + gunicorn + nginx部署",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-06-25 9:16:32+00:00<br />layout: post<br />title: django + gunicorn + nginx 部署<br />categories: django<br />tags:\n\n- django\n- gunicorn\n- nginx\n\n---\n\n<a name=\"V04OG\"></a>\n# 创建python 虚拟环境\n<a name=\"M3DH5\"></a>\n### 安装pipenv\n```\nsudo pip install pipenv\n```\n<a name=\"AbgKU\"></a>\n### 新建项目\n```\nmkdir ~/myproject\ncd ~/myproject\n```\n<a name=\"isFFZ\"></a>\n### 新建python环境\n```\npipenv --python 3.6\n```\n> 此处指定python版本进行安装，需要提前安装python3.6 ，也可以直接运行 pipenv --three 进行安装\n\n<a name=\"FlghV\"></a>\n### 激活环境并安装所需的包\n```\npipenv shell\npipenv install django gunicorn celery\n```\n> 至此环境配置完成。\n\n<a name=\"mtAJh\"></a>\n# 新建并配置django项目\n<a name=\"jFUi4\"></a>\n### 新建django 项目\n进入python 虚拟环境（以后默认都在该环境下进行操作）\n```\ncd ~/myproject\npipenv shell\n```\n新建项目\n```\ndjango-admin.py startproject myproject\n```\n<a name=\"pAGgW\"></a>\n### 更改项目配置\n编辑myproject/setting 文件\n```\nnano myproject/settings.py\n```\n在文件末尾添加以下内容并保存\n```\nSTATIC_ROOT = os.path.join(BASE_DIR, \"static/\")\n```\n<a name=\"GNCsP\"></a>\n### 初始化项目\n初始化数据\n```\npython manage.py makemigrations\npython manage.py migrate\n```\n新建管理员账号\n```\npython manage.py createsuperuser\n```\n收集静态文件\n```\npython manage.py collectstatic\n```\n静态文件会被集中放置到~/myproject/static 中。<br />最后使用django自带的轻量级服务进行测试\n```\npython manage.py runserver 0.0.0.0:8000\n```\n在浏览器中输入以下地址\n```\nhttp://server_domain_or_IP:8000\n```\n你可以看到默认的django主页面\n<a name=\"XNUII\"></a>\n### 测试gunicorn\n输入以下命令测试gunicorn\n```\ngunicorn --bind 0.0.0.0:8000 myproject.wsgi:application\n```\n在浏览器中再次浏览网页，如果现实正常则说明gunicorn运行成功。\n<a name=\"ub3al\"></a>\n# 新建gunicorn服务\n在文本编辑器中使用sudo权限创建并打开Gunicorn的启动文件\n```\nsudo nano /etc/init/gunicorn.conf\n```\n首先为我们的服务添加一个简单的描述，然后定义自动启动服务的系统运行级别\n```\ndescription \"Gunicorn application server handling myproject\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\n```\n接下来，我们要设置当服务停止时自动重启，并在指定的用户和组下运行，并将执行目录更改为我们的项目目录\n```\ndescription \"Gunicorn application server handling myproject\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nsetuid user\nsetgid www-data\nchdir /home/user/myproject\n```\n现在，添加启动gunicorn的命令，我们需要给出虚拟环境中gunicorn可执行文件的路径。我们选择使用了unix套接字和nginx进行通信，相比较于网络端口这更安全，更快速。\n```\ndescription \"Gunicorn application server handling myproject\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nsetuid user\nsetgid www-data\nchdir /home/user/myproject\nexec myprojectenv/bin/gunicorn --workers 3 --bind unix:/home/user/myproject/myproject.sock myproject.wsgi:application\n```\n保存文件，然后启动gunicorn服务\n```\nsudo service gunicorn start\n```\n<a name=\"t7TzF\"></a>\n# 配置nginx代理gunicorn\n新建nginx配置文件\n```\nsudo nano /etc/nginx/sites-available/myproject\n```\n在文件中，新建一个新的服务器，监听80端口并对服务器的ip或者域名做出响应。\n```\nserver {\n    listen 80;\n    server_name server_domain_or_IP;\n}\n```\n接下来，我们需要设置忽略favicon相关的错误，然后设置静态文件的根目录。\n```\nserver {\n    listen 80;\n    server_name server_domain_or_IP;\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location /static/ {\n        root /home/user/myproject;\n    }\n}\n```\n最后，我们会创建一个location / {}匹配所有其他请求，将流量通过套接字传递到gunicorn进程。\n```\nserver {\n    listen 80;\n    server_name server_domain_or_IP;\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location /static/ {\n        root /home/user/myproject;\n    }\n    location / {\n        include proxy_params;\n        proxy_pass http://unix:/home/user/myproject/myproject.sock;\n    }\n}\n```\n保存文件。通过文件链接来启动该文件\n```\nsudo ln -s /etc/nginx/sites-available/myproject /etc/nginx/sites-enabled\n```\n测试nginx 配置\n```\nsudo nginx -t\n```\n如果没有错误，重启nginx服务\n```\nsudo service nginx restart\n```\n大功告成。<br />参考网址：[https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn](https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn)\n",
    "body_draft": "---\n\ndate: 2018-06-25 9:16:32+00:00<br />layout: post<br />title: django + gunicorn + nginx 部署<br />categories: django<br />tags:\n\n- django\n- gunicorn\n- nginx\n\n---\n\n<a name=\"V04OG\"></a>\n# 创建python 虚拟环境\n<a name=\"M3DH5\"></a>\n### 安装pipenv\n```\nsudo pip install pipenv\n```\n<a name=\"AbgKU\"></a>\n### 新建项目\n```\nmkdir ~/myproject\ncd ~/myproject\n```\n<a name=\"isFFZ\"></a>\n### 新建python环境\n```\npipenv --python 3.6\n```\n> 此处指定python版本进行安装，需要提前安装python3.6 ，也可以直接运行 pipenv --three 进行安装\n\n<a name=\"FlghV\"></a>\n### 激活环境并安装所需的包\n```\npipenv shell\npipenv install django gunicorn celery\n```\n> 至此环境配置完成。\n\n<a name=\"mtAJh\"></a>\n# 新建并配置django项目\n<a name=\"jFUi4\"></a>\n### 新建django 项目\n进入python 虚拟环境（以后默认都在该环境下进行操作）\n```\ncd ~/myproject\npipenv shell\n```\n新建项目\n```\ndjango-admin.py startproject myproject\n```\n<a name=\"pAGgW\"></a>\n### 更改项目配置\n编辑myproject/setting 文件\n```\nnano myproject/settings.py\n```\n在文件末尾添加以下内容并保存\n```\nSTATIC_ROOT = os.path.join(BASE_DIR, \"static/\")\n```\n<a name=\"GNCsP\"></a>\n### 初始化项目\n初始化数据\n```\npython manage.py makemigrations\npython manage.py migrate\n```\n新建管理员账号\n```\npython manage.py createsuperuser\n```\n收集静态文件\n```\npython manage.py collectstatic\n```\n静态文件会被集中放置到~/myproject/static 中。<br />最后使用django自带的轻量级服务进行测试\n```\npython manage.py runserver 0.0.0.0:8000\n```\n在浏览器中输入以下地址\n```\nhttp://server_domain_or_IP:8000\n```\n你可以看到默认的django主页面\n<a name=\"XNUII\"></a>\n### 测试gunicorn\n输入以下命令测试gunicorn\n```\ngunicorn --bind 0.0.0.0:8000 myproject.wsgi:application\n```\n在浏览器中再次浏览网页，如果现实正常则说明gunicorn运行成功。\n<a name=\"ub3al\"></a>\n# 新建gunicorn服务\n在文本编辑器中使用sudo权限创建并打开Gunicorn的启动文件\n```\nsudo nano /etc/init/gunicorn.conf\n```\n首先为我们的服务添加一个简单的描述，然后定义自动启动服务的系统运行级别\n```\ndescription \"Gunicorn application server handling myproject\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\n```\n接下来，我们要设置当服务停止时自动重启，并在指定的用户和组下运行，并将执行目录更改为我们的项目目录\n```\ndescription \"Gunicorn application server handling myproject\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nsetuid user\nsetgid www-data\nchdir /home/user/myproject\n```\n现在，添加启动gunicorn的命令，我们需要给出虚拟环境中gunicorn可执行文件的路径。我们选择使用了unix套接字和nginx进行通信，相比较于网络端口这更安全，更快速。\n```\ndescription \"Gunicorn application server handling myproject\"\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nsetuid user\nsetgid www-data\nchdir /home/user/myproject\nexec myprojectenv/bin/gunicorn --workers 3 --bind unix:/home/user/myproject/myproject.sock myproject.wsgi:application\n```\n保存文件，然后启动gunicorn服务\n```\nsudo service gunicorn start\n```\n<a name=\"t7TzF\"></a>\n# 配置nginx代理gunicorn\n新建nginx配置文件\n```\nsudo nano /etc/nginx/sites-available/myproject\n```\n在文件中，新建一个新的服务器，监听80端口并对服务器的ip或者域名做出响应。\n```\nserver {\n    listen 80;\n    server_name server_domain_or_IP;\n}\n```\n接下来，我们需要设置忽略favicon相关的错误，然后设置静态文件的根目录。\n```\nserver {\n    listen 80;\n    server_name server_domain_or_IP;\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location /static/ {\n        root /home/user/myproject;\n    }\n}\n```\n最后，我们会创建一个location / {}匹配所有其他请求，将流量通过套接字传递到gunicorn进程。\n```\nserver {\n    listen 80;\n    server_name server_domain_or_IP;\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location /static/ {\n        root /home/user/myproject;\n    }\n    location / {\n        include proxy_params;\n        proxy_pass http://unix:/home/user/myproject/myproject.sock;\n    }\n}\n```\n保存文件。通过文件链接来启动该文件\n```\nsudo ln -s /etc/nginx/sites-available/myproject /etc/nginx/sites-enabled\n```\n测试nginx 配置\n```\nsudo nginx -t\n```\n如果没有错误，重启nginx服务\n```\nsudo service nginx restart\n```\n大功告成。<br />参考网址：[https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn](https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn)\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"uiWLB\" class=\"ne-hr\"><p id=\"3e65e04cc90087f0e9c5788e53302d12\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-06-25 9:16:32+00:00</span></p><p id=\"7c4c11932e098025e649f77fe71bb866\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"5f264bf64b62b522e24bce934699a9a2\" class=\"ne-p\"><span class=\"ne-text\">title: django + gunicorn + nginx 部署</span></p><p id=\"c506049906ba9b121b68f805d7cde12e\" class=\"ne-p\"><span class=\"ne-text\">categories: django</span></p><p id=\"2de200ab4ab432c54c80667407c929c2\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"875b46858e1ed77bedc3abed71aad96a\"><span class=\"ne-text\">django</span></li><li id=\"5730e036ed8af2550364f4297eae27dc\"><span class=\"ne-text\">gunicorn</span></li><li id=\"6c1d009d1e3440ce9222f0a033e42553\"><span class=\"ne-text\">nginx</span></li></ul><hr id=\"Sl0pb\" class=\"ne-hr\"><h1 id=\"V04OG\"><span class=\"ne-text\">创建python 虚拟环境</span></h1><h3 id=\"M3DH5\"><span class=\"ne-text\">安装pipenv</span></h3><pre data-language=\"plain\" id=\"isaPq\" class=\"ne-codeblock language-plain\">sudo pip install pipenv</pre><h3 id=\"AbgKU\"><span class=\"ne-text\">新建项目</span></h3><pre data-language=\"plain\" id=\"kZ8tk\" class=\"ne-codeblock language-plain\">mkdir ~/myproject\ncd ~/myproject</pre><h3 id=\"isFFZ\"><span class=\"ne-text\">新建python环境</span></h3><pre data-language=\"plain\" id=\"HIcNQ\" class=\"ne-codeblock language-plain\">pipenv --python 3.6</pre><div class=\"ne-quote\"><p id=\"0f914a55695b91ff21ee225f52ec5b53\" class=\"ne-p\"><span class=\"ne-text\">此处指定python版本进行安装，需要提前安装python3.6 ，也可以直接运行 pipenv --three 进行安装</span></p></div><h3 id=\"FlghV\"><span class=\"ne-text\">激活环境并安装所需的包</span></h3><pre data-language=\"plain\" id=\"iMEbY\" class=\"ne-codeblock language-plain\">pipenv shell\npipenv install django gunicorn celery</pre><div class=\"ne-quote\"><p id=\"e4b5672b386c7ff4d0710c7339fc86e9\" class=\"ne-p\"><span class=\"ne-text\">至此环境配置完成。</span></p></div><h1 id=\"mtAJh\"><span class=\"ne-text\">新建并配置django项目</span></h1><h3 id=\"jFUi4\"><span class=\"ne-text\">新建django 项目</span></h3><p id=\"5cc6462f12207377010cd089b5ecf4a3\" class=\"ne-p\"><span class=\"ne-text\">进入python 虚拟环境（以后默认都在该环境下进行操作）</span></p><pre data-language=\"plain\" id=\"u1di3\" class=\"ne-codeblock language-plain\">cd ~/myproject\npipenv shell</pre><p id=\"638561bdbf03341da271b253d14546cd\" class=\"ne-p\"><span class=\"ne-text\">新建项目</span></p><pre data-language=\"plain\" id=\"d6ZfC\" class=\"ne-codeblock language-plain\">django-admin.py startproject myproject</pre><h3 id=\"pAGgW\"><span class=\"ne-text\">更改项目配置</span></h3><p id=\"8ee7fe2742b2150de367f43d88e2183a\" class=\"ne-p\"><span class=\"ne-text\">编辑myproject/setting 文件</span></p><pre data-language=\"plain\" id=\"DtQVH\" class=\"ne-codeblock language-plain\">nano myproject/settings.py</pre><p id=\"dbd0de9e06b61d5ccb02df8ef547cc93\" class=\"ne-p\"><span class=\"ne-text\">在文件末尾添加以下内容并保存</span></p><pre data-language=\"plain\" id=\"8NR7t\" class=\"ne-codeblock language-plain\">STATIC_ROOT = os.path.join(BASE_DIR, &quot;static/&quot;)</pre><h3 id=\"GNCsP\"><span class=\"ne-text\">初始化项目</span></h3><p id=\"c2d96d39d4570d22bc31434e37dccc03\" class=\"ne-p\"><span class=\"ne-text\">初始化数据</span></p><pre data-language=\"plain\" id=\"kw700\" class=\"ne-codeblock language-plain\">python manage.py makemigrations\npython manage.py migrate</pre><p id=\"ce987e916c8f463e338ae44b6ce5f71a\" class=\"ne-p\"><span class=\"ne-text\">新建管理员账号</span></p><pre data-language=\"plain\" id=\"OcWOi\" class=\"ne-codeblock language-plain\">python manage.py createsuperuser</pre><p id=\"d8f7d0681b22a3c6ba1434cc1d07e26c\" class=\"ne-p\"><span class=\"ne-text\">收集静态文件</span></p><pre data-language=\"plain\" id=\"6uosa\" class=\"ne-codeblock language-plain\">python manage.py collectstatic</pre><p id=\"67bf3f88916244f33f0816c8547d87a6\" class=\"ne-p\"><span class=\"ne-text\">静态文件会被集中放置到~/myproject/static 中。</span></p><p id=\"71d9eb748ccd0a5aa46883bfc83dcdca\" class=\"ne-p\"><span class=\"ne-text\">最后使用django自带的轻量级服务进行测试</span></p><pre data-language=\"plain\" id=\"7H9yP\" class=\"ne-codeblock language-plain\">python manage.py runserver 0.0.0.0:8000</pre><p id=\"4d616ac2d870dbc6cff310236e9cfb72\" class=\"ne-p\"><span class=\"ne-text\">在浏览器中输入以下地址</span></p><pre data-language=\"plain\" id=\"MvbjF\" class=\"ne-codeblock language-plain\">http://server_domain_or_IP:8000</pre><p id=\"c8304a0bf07074db46db5626c24b7f49\" class=\"ne-p\"><span class=\"ne-text\">你可以看到默认的django主页面</span></p><h3 id=\"XNUII\"><span class=\"ne-text\">测试gunicorn</span></h3><p id=\"57520058738393655736ec85ac86c6f6\" class=\"ne-p\"><span class=\"ne-text\">输入以下命令测试gunicorn</span></p><pre data-language=\"plain\" id=\"AEtrY\" class=\"ne-codeblock language-plain\">gunicorn --bind 0.0.0.0:8000 myproject.wsgi:application</pre><p id=\"68240fcfdc50f232edfdd61807951b3f\" class=\"ne-p\"><span class=\"ne-text\">在浏览器中再次浏览网页，如果现实正常则说明gunicorn运行成功。</span></p><h1 id=\"ub3al\"><span class=\"ne-text\">新建gunicorn服务</span></h1><p id=\"2e5cbf844ea93f14cce71950e3e87075\" class=\"ne-p\"><span class=\"ne-text\">在文本编辑器中使用sudo权限创建并打开Gunicorn的启动文件</span></p><pre data-language=\"plain\" id=\"Isdag\" class=\"ne-codeblock language-plain\">sudo nano /etc/init/gunicorn.conf</pre><p id=\"ce2638f540278b73de2c8724c78ace14\" class=\"ne-p\"><span class=\"ne-text\">首先为我们的服务添加一个简单的描述，然后定义自动启动服务的系统运行级别</span></p><pre data-language=\"plain\" id=\"WQJdt\" class=\"ne-codeblock language-plain\">description &quot;Gunicorn application server handling myproject&quot;\nstart on runlevel [2345]\nstop on runlevel [!2345]</pre><p id=\"1b6e6362a15f99c5de09fe57dad906e2\" class=\"ne-p\"><span class=\"ne-text\">接下来，我们要设置当服务停止时自动重启，并在指定的用户和组下运行，并将执行目录更改为我们的项目目录</span></p><pre data-language=\"plain\" id=\"wXWuj\" class=\"ne-codeblock language-plain\">description &quot;Gunicorn application server handling myproject&quot;\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nsetuid user\nsetgid www-data\nchdir /home/user/myproject</pre><p id=\"ce40279b0147eef2aa8b839301f32a05\" class=\"ne-p\"><span class=\"ne-text\">现在，添加启动gunicorn的命令，我们需要给出虚拟环境中gunicorn可执行文件的路径。我们选择使用了unix套接字和nginx进行通信，相比较于网络端口这更安全，更快速。</span></p><pre data-language=\"plain\" id=\"uSYBx\" class=\"ne-codeblock language-plain\">description &quot;Gunicorn application server handling myproject&quot;\nstart on runlevel [2345]\nstop on runlevel [!2345]\nrespawn\nsetuid user\nsetgid www-data\nchdir /home/user/myproject\nexec myprojectenv/bin/gunicorn --workers 3 --bind unix:/home/user/myproject/myproject.sock myproject.wsgi:application</pre><p id=\"a8747c4daeccb0c1be0eb43d6ae88f22\" class=\"ne-p\"><span class=\"ne-text\">保存文件，然后启动gunicorn服务</span></p><pre data-language=\"plain\" id=\"6jjzJ\" class=\"ne-codeblock language-plain\">sudo service gunicorn start</pre><h1 id=\"t7TzF\"><span class=\"ne-text\">配置nginx代理gunicorn</span></h1><p id=\"cf0d0ec1e3538391790353daac08c697\" class=\"ne-p\"><span class=\"ne-text\">新建nginx配置文件</span></p><pre data-language=\"plain\" id=\"Nd8iY\" class=\"ne-codeblock language-plain\">sudo nano /etc/nginx/sites-available/myproject</pre><p id=\"7d637d79dfa7c60954642422922846de\" class=\"ne-p\"><span class=\"ne-text\">在文件中，新建一个新的服务器，监听80端口并对服务器的ip或者域名做出响应。</span></p><pre data-language=\"plain\" id=\"FFS4a\" class=\"ne-codeblock language-plain\">server {\n    listen 80;\n    server_name server_domain_or_IP;\n}</pre><p id=\"90a9d59de8ca384b7f14881152ff836c\" class=\"ne-p\"><span class=\"ne-text\">接下来，我们需要设置忽略favicon相关的错误，然后设置静态文件的根目录。</span></p><pre data-language=\"plain\" id=\"qmE05\" class=\"ne-codeblock language-plain\">server {\n    listen 80;\n    server_name server_domain_or_IP;\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location /static/ {\n        root /home/user/myproject;\n    }\n}</pre><p id=\"514b3df2ef95c0ca1c0ea39216ededc5\" class=\"ne-p\"><span class=\"ne-text\">最后，我们会创建一个location / {}匹配所有其他请求，将流量通过套接字传递到gunicorn进程。</span></p><pre data-language=\"plain\" id=\"d9fev\" class=\"ne-codeblock language-plain\">server {\n    listen 80;\n    server_name server_domain_or_IP;\n    location = /favicon.ico { access_log off; log_not_found off; }\n    location /static/ {\n        root /home/user/myproject;\n    }\n    location / {\n        include proxy_params;\n        proxy_pass http://unix:/home/user/myproject/myproject.sock;\n    }\n}</pre><p id=\"9d465dec74bc837e48f04783f15c2472\" class=\"ne-p\"><span class=\"ne-text\">保存文件。通过文件链接来启动该文件</span></p><pre data-language=\"plain\" id=\"CcMlg\" class=\"ne-codeblock language-plain\">sudo ln -s /etc/nginx/sites-available/myproject /etc/nginx/sites-enabled</pre><p id=\"f72baba74a8bcb59f34e7c21f509e8b7\" class=\"ne-p\"><span class=\"ne-text\">测试nginx 配置</span></p><pre data-language=\"plain\" id=\"4CQqH\" class=\"ne-codeblock language-plain\">sudo nginx -t</pre><p id=\"a5ee951d9583630a2f0d5c99049e218e\" class=\"ne-p\"><span class=\"ne-text\">如果没有错误，重启nginx服务</span></p><pre data-language=\"plain\" id=\"uXlDc\" class=\"ne-codeblock language-plain\">sudo service nginx restart</pre><p id=\"cd7e3b70183ede8401310bedf17521d8\" class=\"ne-p\"><span class=\"ne-text\">大功告成。</span></p><p id=\"b6d4ed45ce6d85128bc01b7f2cb3efdc\" class=\"ne-p\"><span class=\"ne-text\">参考网址：</span><a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn\" data-href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn</span></a></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22uiWLB%22%7D\"></card><p data-lake-id=\"3e65e04cc90087f0e9c5788e53302d12\" id=\"3e65e04cc90087f0e9c5788e53302d12\"><span data-lake-id=\"ufdc2a4bb\" id=\"ufdc2a4bb\">date: 2018-06-25 9:16:32+00:00</span></p><p data-lake-id=\"7c4c11932e098025e649f77fe71bb866\" id=\"7c4c11932e098025e649f77fe71bb866\"><span data-lake-id=\"u84eac33b\" id=\"u84eac33b\">layout: post</span></p><p data-lake-id=\"5f264bf64b62b522e24bce934699a9a2\" id=\"5f264bf64b62b522e24bce934699a9a2\"><span data-lake-id=\"uecd792e2\" id=\"uecd792e2\">title: django + gunicorn + nginx 部署</span></p><p data-lake-id=\"c506049906ba9b121b68f805d7cde12e\" id=\"c506049906ba9b121b68f805d7cde12e\"><span data-lake-id=\"u6cdc28ff\" id=\"u6cdc28ff\">categories: django</span></p><p data-lake-id=\"2de200ab4ab432c54c80667407c929c2\" id=\"2de200ab4ab432c54c80667407c929c2\"><span data-lake-id=\"u9b918028\" id=\"u9b918028\">tags:</span></p><ul list=\"ua2dd4eb3\"><li fid=\"u3a123122\" data-lake-id=\"875b46858e1ed77bedc3abed71aad96a\" id=\"875b46858e1ed77bedc3abed71aad96a\"><span data-lake-id=\"u0bc8ca21\" id=\"u0bc8ca21\">django</span></li><li fid=\"u3a123122\" data-lake-id=\"5730e036ed8af2550364f4297eae27dc\" id=\"5730e036ed8af2550364f4297eae27dc\"><span data-lake-id=\"uf8ab55a6\" id=\"uf8ab55a6\">gunicorn</span></li><li fid=\"u3a123122\" data-lake-id=\"6c1d009d1e3440ce9222f0a033e42553\" id=\"6c1d009d1e3440ce9222f0a033e42553\"><span data-lake-id=\"uea96c78d\" id=\"uea96c78d\">nginx</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Sl0pb%22%7D\"></card><h1 data-lake-id=\"V04OG\" id=\"V04OG\"><span data-lake-id=\"ub74aea12\" id=\"ub74aea12\">创建python 虚拟环境</span></h1><h3 data-lake-id=\"M3DH5\" id=\"M3DH5\"><span data-lake-id=\"u71fe3f23\" id=\"u71fe3f23\">安装pipenv</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20pip%20install%20pipenv%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22isaPq%22%7D\"></card><h3 data-lake-id=\"AbgKU\" id=\"AbgKU\"><span data-lake-id=\"u481ee118\" id=\"u481ee118\">新建项目</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22mkdir%20~%2Fmyproject%5Cncd%20~%2Fmyproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kZ8tk%22%7D\"></card><h3 data-lake-id=\"isFFZ\" id=\"isFFZ\"><span data-lake-id=\"ua674374a\" id=\"ua674374a\">新建python环境</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pipenv%20--python%203.6%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22HIcNQ%22%7D\"></card><blockquote data-lake-id=\"uc5db2e83\" id=\"uc5db2e83\"><p data-lake-id=\"0f914a55695b91ff21ee225f52ec5b53\" id=\"0f914a55695b91ff21ee225f52ec5b53\"><span data-lake-id=\"ufe7e236c\" id=\"ufe7e236c\">此处指定python版本进行安装，需要提前安装python3.6 ，也可以直接运行 pipenv --three 进行安装</span></p></blockquote><h3 data-lake-id=\"FlghV\" id=\"FlghV\"><span data-lake-id=\"u8c694b02\" id=\"u8c694b02\">激活环境并安装所需的包</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pipenv%20shell%5Cnpipenv%20install%20django%20gunicorn%20celery%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22iMEbY%22%7D\"></card><blockquote data-lake-id=\"u3c5c3e80\" id=\"u3c5c3e80\"><p data-lake-id=\"e4b5672b386c7ff4d0710c7339fc86e9\" id=\"e4b5672b386c7ff4d0710c7339fc86e9\"><span data-lake-id=\"u0991c7db\" id=\"u0991c7db\">至此环境配置完成。</span></p></blockquote><h1 data-lake-id=\"mtAJh\" id=\"mtAJh\"><span data-lake-id=\"ua773c8b5\" id=\"ua773c8b5\">新建并配置django项目</span></h1><h3 data-lake-id=\"jFUi4\" id=\"jFUi4\"><span data-lake-id=\"u4e83d58b\" id=\"u4e83d58b\">新建django 项目</span></h3><p data-lake-id=\"5cc6462f12207377010cd089b5ecf4a3\" id=\"5cc6462f12207377010cd089b5ecf4a3\"><span data-lake-id=\"u48e3b68f\" id=\"u48e3b68f\">进入python 虚拟环境（以后默认都在该环境下进行操作）</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20~%2Fmyproject%5Cnpipenv%20shell%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22u1di3%22%7D\"></card><p data-lake-id=\"638561bdbf03341da271b253d14546cd\" id=\"638561bdbf03341da271b253d14546cd\"><span data-lake-id=\"ufce3a48c\" id=\"ufce3a48c\">新建项目</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-admin.py%20startproject%20myproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22d6ZfC%22%7D\"></card><h3 data-lake-id=\"pAGgW\" id=\"pAGgW\"><span data-lake-id=\"uf81b34ff\" id=\"uf81b34ff\">更改项目配置</span></h3><p data-lake-id=\"8ee7fe2742b2150de367f43d88e2183a\" id=\"8ee7fe2742b2150de367f43d88e2183a\"><span data-lake-id=\"ubdf77063\" id=\"ubdf77063\">编辑myproject/setting 文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22nano%20myproject%2Fsettings.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22DtQVH%22%7D\"></card><p data-lake-id=\"dbd0de9e06b61d5ccb02df8ef547cc93\" id=\"dbd0de9e06b61d5ccb02df8ef547cc93\"><span data-lake-id=\"udb07efe2\" id=\"udb07efe2\">在文件末尾添加以下内容并保存</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22STATIC_ROOT%20%3D%20os.path.join(BASE_DIR%2C%20%5C%22static%2F%5C%22)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%228NR7t%22%7D\"></card><h3 data-lake-id=\"GNCsP\" id=\"GNCsP\"><span data-lake-id=\"u7adb9631\" id=\"u7adb9631\">初始化项目</span></h3><p data-lake-id=\"c2d96d39d4570d22bc31434e37dccc03\" id=\"c2d96d39d4570d22bc31434e37dccc03\"><span data-lake-id=\"u3639b54a\" id=\"u3639b54a\">初始化数据</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20makemigrations%5Cnpython%20manage.py%20migrate%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kw700%22%7D\"></card><p data-lake-id=\"ce987e916c8f463e338ae44b6ce5f71a\" id=\"ce987e916c8f463e338ae44b6ce5f71a\"><span data-lake-id=\"u831fd44f\" id=\"u831fd44f\">新建管理员账号</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20createsuperuser%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22OcWOi%22%7D\"></card><p data-lake-id=\"d8f7d0681b22a3c6ba1434cc1d07e26c\" id=\"d8f7d0681b22a3c6ba1434cc1d07e26c\"><span data-lake-id=\"u3c09a688\" id=\"u3c09a688\">收集静态文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20collectstatic%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226uosa%22%7D\"></card><p data-lake-id=\"67bf3f88916244f33f0816c8547d87a6\" id=\"67bf3f88916244f33f0816c8547d87a6\"><span data-lake-id=\"u05bca5b3\" id=\"u05bca5b3\">静态文件会被集中放置到~/myproject/static 中。</span></p><p data-lake-id=\"71d9eb748ccd0a5aa46883bfc83dcdca\" id=\"71d9eb748ccd0a5aa46883bfc83dcdca\"><span data-lake-id=\"ub82cfa10\" id=\"ub82cfa10\">最后使用django自带的轻量级服务进行测试</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20runserver%200.0.0.0%3A8000%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%227H9yP%22%7D\"></card><p data-lake-id=\"4d616ac2d870dbc6cff310236e9cfb72\" id=\"4d616ac2d870dbc6cff310236e9cfb72\"><span data-lake-id=\"u669f4f05\" id=\"u669f4f05\">在浏览器中输入以下地址</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22http%3A%2F%2Fserver_domain_or_IP%3A8000%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22MvbjF%22%7D\"></card><p data-lake-id=\"c8304a0bf07074db46db5626c24b7f49\" id=\"c8304a0bf07074db46db5626c24b7f49\"><span data-lake-id=\"u8740bf2d\" id=\"u8740bf2d\">你可以看到默认的django主页面</span></p><h3 data-lake-id=\"XNUII\" id=\"XNUII\"><span data-lake-id=\"u9383b662\" id=\"u9383b662\">测试gunicorn</span></h3><p data-lake-id=\"57520058738393655736ec85ac86c6f6\" id=\"57520058738393655736ec85ac86c6f6\"><span data-lake-id=\"u44d4307b\" id=\"u44d4307b\">输入以下命令测试gunicorn</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22gunicorn%20--bind%200.0.0.0%3A8000%20myproject.wsgi%3Aapplication%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AEtrY%22%7D\"></card><p data-lake-id=\"68240fcfdc50f232edfdd61807951b3f\" id=\"68240fcfdc50f232edfdd61807951b3f\"><span data-lake-id=\"ub0f4e9eb\" id=\"ub0f4e9eb\">在浏览器中再次浏览网页，如果现实正常则说明gunicorn运行成功。</span></p><h1 data-lake-id=\"ub3al\" id=\"ub3al\"><span data-lake-id=\"u0950a3c7\" id=\"u0950a3c7\">新建gunicorn服务</span></h1><p data-lake-id=\"2e5cbf844ea93f14cce71950e3e87075\" id=\"2e5cbf844ea93f14cce71950e3e87075\"><span data-lake-id=\"u06ed5c60\" id=\"u06ed5c60\">在文本编辑器中使用sudo权限创建并打开Gunicorn的启动文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20nano%20%2Fetc%2Finit%2Fgunicorn.conf%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Isdag%22%7D\"></card><p data-lake-id=\"ce2638f540278b73de2c8724c78ace14\" id=\"ce2638f540278b73de2c8724c78ace14\"><span data-lake-id=\"u1bcd6745\" id=\"u1bcd6745\">首先为我们的服务添加一个简单的描述，然后定义自动启动服务的系统运行级别</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22description%20%5C%22Gunicorn%20application%20server%20handling%20myproject%5C%22%5Cnstart%20on%20runlevel%20%5B2345%5D%5Cnstop%20on%20runlevel%20%5B!2345%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22WQJdt%22%7D\"></card><p data-lake-id=\"1b6e6362a15f99c5de09fe57dad906e2\" id=\"1b6e6362a15f99c5de09fe57dad906e2\"><span data-lake-id=\"u55cc0278\" id=\"u55cc0278\">接下来，我们要设置当服务停止时自动重启，并在指定的用户和组下运行，并将执行目录更改为我们的项目目录</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22description%20%5C%22Gunicorn%20application%20server%20handling%20myproject%5C%22%5Cnstart%20on%20runlevel%20%5B2345%5D%5Cnstop%20on%20runlevel%20%5B!2345%5D%5Cnrespawn%5Cnsetuid%20user%5Cnsetgid%20www-data%5Cnchdir%20%2Fhome%2Fuser%2Fmyproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wXWuj%22%7D\"></card><p data-lake-id=\"ce40279b0147eef2aa8b839301f32a05\" id=\"ce40279b0147eef2aa8b839301f32a05\"><span data-lake-id=\"u1b32fbcb\" id=\"u1b32fbcb\">现在，添加启动gunicorn的命令，我们需要给出虚拟环境中gunicorn可执行文件的路径。我们选择使用了unix套接字和nginx进行通信，相比较于网络端口这更安全，更快速。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22description%20%5C%22Gunicorn%20application%20server%20handling%20myproject%5C%22%5Cnstart%20on%20runlevel%20%5B2345%5D%5Cnstop%20on%20runlevel%20%5B!2345%5D%5Cnrespawn%5Cnsetuid%20user%5Cnsetgid%20www-data%5Cnchdir%20%2Fhome%2Fuser%2Fmyproject%5Cnexec%20myprojectenv%2Fbin%2Fgunicorn%20--workers%203%20--bind%20unix%3A%2Fhome%2Fuser%2Fmyproject%2Fmyproject.sock%20myproject.wsgi%3Aapplication%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uSYBx%22%7D\"></card><p data-lake-id=\"a8747c4daeccb0c1be0eb43d6ae88f22\" id=\"a8747c4daeccb0c1be0eb43d6ae88f22\"><span data-lake-id=\"u9a139df9\" id=\"u9a139df9\">保存文件，然后启动gunicorn服务</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20service%20gunicorn%20start%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226jjzJ%22%7D\"></card><h1 data-lake-id=\"t7TzF\" id=\"t7TzF\"><span data-lake-id=\"u34aec77f\" id=\"u34aec77f\">配置nginx代理gunicorn</span></h1><p data-lake-id=\"cf0d0ec1e3538391790353daac08c697\" id=\"cf0d0ec1e3538391790353daac08c697\"><span data-lake-id=\"u1fecb5b8\" id=\"u1fecb5b8\">新建nginx配置文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20nano%20%2Fetc%2Fnginx%2Fsites-available%2Fmyproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Nd8iY%22%7D\"></card><p data-lake-id=\"7d637d79dfa7c60954642422922846de\" id=\"7d637d79dfa7c60954642422922846de\"><span data-lake-id=\"u5732f19e\" id=\"u5732f19e\">在文件中，新建一个新的服务器，监听80端口并对服务器的ip或者域名做出响应。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%2080%3B%5Cn%20%20%20%20server_name%20server_domain_or_IP%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22FFS4a%22%7D\"></card><p data-lake-id=\"90a9d59de8ca384b7f14881152ff836c\" id=\"90a9d59de8ca384b7f14881152ff836c\"><span data-lake-id=\"ua730d89a\" id=\"ua730d89a\">接下来，我们需要设置忽略favicon相关的错误，然后设置静态文件的根目录。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%2080%3B%5Cn%20%20%20%20server_name%20server_domain_or_IP%3B%5Cn%20%20%20%20location%20%3D%20%2Ffavicon.ico%20%7B%20access_log%20off%3B%20log_not_found%20off%3B%20%7D%5Cn%20%20%20%20location%20%2Fstatic%2F%20%7B%5Cn%20%20%20%20%20%20%20%20root%20%2Fhome%2Fuser%2Fmyproject%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qmE05%22%7D\"></card><p data-lake-id=\"514b3df2ef95c0ca1c0ea39216ededc5\" id=\"514b3df2ef95c0ca1c0ea39216ededc5\"><span data-lake-id=\"uc04ddc24\" id=\"uc04ddc24\">最后，我们会创建一个location / {}匹配所有其他请求，将流量通过套接字传递到gunicorn进程。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%2080%3B%5Cn%20%20%20%20server_name%20server_domain_or_IP%3B%5Cn%20%20%20%20location%20%3D%20%2Ffavicon.ico%20%7B%20access_log%20off%3B%20log_not_found%20off%3B%20%7D%5Cn%20%20%20%20location%20%2Fstatic%2F%20%7B%5Cn%20%20%20%20%20%20%20%20root%20%2Fhome%2Fuser%2Fmyproject%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20location%20%2F%20%7B%5Cn%20%20%20%20%20%20%20%20include%20proxy_params%3B%5Cn%20%20%20%20%20%20%20%20proxy_pass%20http%3A%2F%2Funix%3A%2Fhome%2Fuser%2Fmyproject%2Fmyproject.sock%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22d9fev%22%7D\"></card><p data-lake-id=\"9d465dec74bc837e48f04783f15c2472\" id=\"9d465dec74bc837e48f04783f15c2472\"><span data-lake-id=\"ufaa9fa9f\" id=\"ufaa9fa9f\">保存文件。通过文件链接来启动该文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20ln%20-s%20%2Fetc%2Fnginx%2Fsites-available%2Fmyproject%20%2Fetc%2Fnginx%2Fsites-enabled%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CcMlg%22%7D\"></card><p data-lake-id=\"f72baba74a8bcb59f34e7c21f509e8b7\" id=\"f72baba74a8bcb59f34e7c21f509e8b7\"><span data-lake-id=\"uc528cacb\" id=\"uc528cacb\">测试nginx 配置</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20nginx%20-t%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224CQqH%22%7D\"></card><p data-lake-id=\"a5ee951d9583630a2f0d5c99049e218e\" id=\"a5ee951d9583630a2f0d5c99049e218e\"><span data-lake-id=\"ub3343e91\" id=\"ub3343e91\">如果没有错误，重启nginx服务</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20service%20nginx%20restart%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uXlDc%22%7D\"></card><p data-lake-id=\"cd7e3b70183ede8401310bedf17521d8\" id=\"cd7e3b70183ede8401310bedf17521d8\"><span data-lake-id=\"u1628d186\" id=\"u1628d186\">大功告成。</span></p><p data-lake-id=\"b6d4ed45ce6d85128bc01b7f2cb3efdc\" id=\"b6d4ed45ce6d85128bc01b7f2cb3efdc\"><span data-lake-id=\"u238a85e0\" id=\"u238a85e0\">参考网址：</span><a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn\" target=\"_blank\" data-lake-id=\"u556ebeaf\" id=\"u556ebeaf\"><span data-lake-id=\"u2c6cf4f8\" id=\"u2c6cf4f8\">https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn</span></a></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22uiWLB%22%7D\"></card><p data-lake-id=\"3e65e04cc90087f0e9c5788e53302d12\" id=\"3e65e04cc90087f0e9c5788e53302d12\"><span data-lake-id=\"ufdc2a4bb\" id=\"ufdc2a4bb\">date: 2018-06-25 9:16:32+00:00</span></p><p data-lake-id=\"7c4c11932e098025e649f77fe71bb866\" id=\"7c4c11932e098025e649f77fe71bb866\"><span data-lake-id=\"u84eac33b\" id=\"u84eac33b\">layout: post</span></p><p data-lake-id=\"5f264bf64b62b522e24bce934699a9a2\" id=\"5f264bf64b62b522e24bce934699a9a2\"><span data-lake-id=\"uecd792e2\" id=\"uecd792e2\">title: django + gunicorn + nginx 部署</span></p><p data-lake-id=\"c506049906ba9b121b68f805d7cde12e\" id=\"c506049906ba9b121b68f805d7cde12e\"><span data-lake-id=\"u6cdc28ff\" id=\"u6cdc28ff\">categories: django</span></p><p data-lake-id=\"2de200ab4ab432c54c80667407c929c2\" id=\"2de200ab4ab432c54c80667407c929c2\"><span data-lake-id=\"u9b918028\" id=\"u9b918028\">tags:</span></p><ul list=\"ua2dd4eb3\"><li fid=\"u3a123122\" data-lake-id=\"875b46858e1ed77bedc3abed71aad96a\" id=\"875b46858e1ed77bedc3abed71aad96a\"><span data-lake-id=\"u0bc8ca21\" id=\"u0bc8ca21\">django</span></li><li fid=\"u3a123122\" data-lake-id=\"5730e036ed8af2550364f4297eae27dc\" id=\"5730e036ed8af2550364f4297eae27dc\"><span data-lake-id=\"uf8ab55a6\" id=\"uf8ab55a6\">gunicorn</span></li><li fid=\"u3a123122\" data-lake-id=\"6c1d009d1e3440ce9222f0a033e42553\" id=\"6c1d009d1e3440ce9222f0a033e42553\"><span data-lake-id=\"uea96c78d\" id=\"uea96c78d\">nginx</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Sl0pb%22%7D\"></card><h1 data-lake-id=\"V04OG\" id=\"V04OG\"><span data-lake-id=\"ub74aea12\" id=\"ub74aea12\">创建python 虚拟环境</span></h1><h3 data-lake-id=\"M3DH5\" id=\"M3DH5\"><span data-lake-id=\"u71fe3f23\" id=\"u71fe3f23\">安装pipenv</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20pip%20install%20pipenv%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22isaPq%22%7D\"></card><h3 data-lake-id=\"AbgKU\" id=\"AbgKU\"><span data-lake-id=\"u481ee118\" id=\"u481ee118\">新建项目</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22mkdir%20~%2Fmyproject%5Cncd%20~%2Fmyproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kZ8tk%22%7D\"></card><h3 data-lake-id=\"isFFZ\" id=\"isFFZ\"><span data-lake-id=\"ua674374a\" id=\"ua674374a\">新建python环境</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pipenv%20--python%203.6%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22HIcNQ%22%7D\"></card><blockquote data-lake-id=\"uc5db2e83\" id=\"uc5db2e83\"><p data-lake-id=\"0f914a55695b91ff21ee225f52ec5b53\" id=\"0f914a55695b91ff21ee225f52ec5b53\"><span data-lake-id=\"ufe7e236c\" id=\"ufe7e236c\">此处指定python版本进行安装，需要提前安装python3.6 ，也可以直接运行 pipenv --three 进行安装</span></p></blockquote><h3 data-lake-id=\"FlghV\" id=\"FlghV\"><span data-lake-id=\"u8c694b02\" id=\"u8c694b02\">激活环境并安装所需的包</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pipenv%20shell%5Cnpipenv%20install%20django%20gunicorn%20celery%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22iMEbY%22%7D\"></card><blockquote data-lake-id=\"u3c5c3e80\" id=\"u3c5c3e80\"><p data-lake-id=\"e4b5672b386c7ff4d0710c7339fc86e9\" id=\"e4b5672b386c7ff4d0710c7339fc86e9\"><span data-lake-id=\"u0991c7db\" id=\"u0991c7db\">至此环境配置完成。</span></p></blockquote><h1 data-lake-id=\"mtAJh\" id=\"mtAJh\"><span data-lake-id=\"ua773c8b5\" id=\"ua773c8b5\">新建并配置django项目</span></h1><h3 data-lake-id=\"jFUi4\" id=\"jFUi4\"><span data-lake-id=\"u4e83d58b\" id=\"u4e83d58b\">新建django 项目</span></h3><p data-lake-id=\"5cc6462f12207377010cd089b5ecf4a3\" id=\"5cc6462f12207377010cd089b5ecf4a3\"><span data-lake-id=\"u48e3b68f\" id=\"u48e3b68f\">进入python 虚拟环境（以后默认都在该环境下进行操作）</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20~%2Fmyproject%5Cnpipenv%20shell%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22u1di3%22%7D\"></card><p data-lake-id=\"638561bdbf03341da271b253d14546cd\" id=\"638561bdbf03341da271b253d14546cd\"><span data-lake-id=\"ufce3a48c\" id=\"ufce3a48c\">新建项目</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22django-admin.py%20startproject%20myproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22d6ZfC%22%7D\"></card><h3 data-lake-id=\"pAGgW\" id=\"pAGgW\"><span data-lake-id=\"uf81b34ff\" id=\"uf81b34ff\">更改项目配置</span></h3><p data-lake-id=\"8ee7fe2742b2150de367f43d88e2183a\" id=\"8ee7fe2742b2150de367f43d88e2183a\"><span data-lake-id=\"ubdf77063\" id=\"ubdf77063\">编辑myproject/setting 文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22nano%20myproject%2Fsettings.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22DtQVH%22%7D\"></card><p data-lake-id=\"dbd0de9e06b61d5ccb02df8ef547cc93\" id=\"dbd0de9e06b61d5ccb02df8ef547cc93\"><span data-lake-id=\"udb07efe2\" id=\"udb07efe2\">在文件末尾添加以下内容并保存</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22STATIC_ROOT%20%3D%20os.path.join(BASE_DIR%2C%20%5C%22static%2F%5C%22)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%228NR7t%22%7D\"></card><h3 data-lake-id=\"GNCsP\" id=\"GNCsP\"><span data-lake-id=\"u7adb9631\" id=\"u7adb9631\">初始化项目</span></h3><p data-lake-id=\"c2d96d39d4570d22bc31434e37dccc03\" id=\"c2d96d39d4570d22bc31434e37dccc03\"><span data-lake-id=\"u3639b54a\" id=\"u3639b54a\">初始化数据</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20makemigrations%5Cnpython%20manage.py%20migrate%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kw700%22%7D\"></card><p data-lake-id=\"ce987e916c8f463e338ae44b6ce5f71a\" id=\"ce987e916c8f463e338ae44b6ce5f71a\"><span data-lake-id=\"u831fd44f\" id=\"u831fd44f\">新建管理员账号</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20createsuperuser%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22OcWOi%22%7D\"></card><p data-lake-id=\"d8f7d0681b22a3c6ba1434cc1d07e26c\" id=\"d8f7d0681b22a3c6ba1434cc1d07e26c\"><span data-lake-id=\"u3c09a688\" id=\"u3c09a688\">收集静态文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20collectstatic%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226uosa%22%7D\"></card><p data-lake-id=\"67bf3f88916244f33f0816c8547d87a6\" id=\"67bf3f88916244f33f0816c8547d87a6\"><span data-lake-id=\"u05bca5b3\" id=\"u05bca5b3\">静态文件会被集中放置到~/myproject/static 中。</span></p><p data-lake-id=\"71d9eb748ccd0a5aa46883bfc83dcdca\" id=\"71d9eb748ccd0a5aa46883bfc83dcdca\"><span data-lake-id=\"ub82cfa10\" id=\"ub82cfa10\">最后使用django自带的轻量级服务进行测试</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22python%20manage.py%20runserver%200.0.0.0%3A8000%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%227H9yP%22%7D\"></card><p data-lake-id=\"4d616ac2d870dbc6cff310236e9cfb72\" id=\"4d616ac2d870dbc6cff310236e9cfb72\"><span data-lake-id=\"u669f4f05\" id=\"u669f4f05\">在浏览器中输入以下地址</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22http%3A%2F%2Fserver_domain_or_IP%3A8000%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22MvbjF%22%7D\"></card><p data-lake-id=\"c8304a0bf07074db46db5626c24b7f49\" id=\"c8304a0bf07074db46db5626c24b7f49\"><span data-lake-id=\"u8740bf2d\" id=\"u8740bf2d\">你可以看到默认的django主页面</span></p><h3 data-lake-id=\"XNUII\" id=\"XNUII\"><span data-lake-id=\"u9383b662\" id=\"u9383b662\">测试gunicorn</span></h3><p data-lake-id=\"57520058738393655736ec85ac86c6f6\" id=\"57520058738393655736ec85ac86c6f6\"><span data-lake-id=\"u44d4307b\" id=\"u44d4307b\">输入以下命令测试gunicorn</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22gunicorn%20--bind%200.0.0.0%3A8000%20myproject.wsgi%3Aapplication%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AEtrY%22%7D\"></card><p data-lake-id=\"68240fcfdc50f232edfdd61807951b3f\" id=\"68240fcfdc50f232edfdd61807951b3f\"><span data-lake-id=\"ub0f4e9eb\" id=\"ub0f4e9eb\">在浏览器中再次浏览网页，如果现实正常则说明gunicorn运行成功。</span></p><h1 data-lake-id=\"ub3al\" id=\"ub3al\"><span data-lake-id=\"u0950a3c7\" id=\"u0950a3c7\">新建gunicorn服务</span></h1><p data-lake-id=\"2e5cbf844ea93f14cce71950e3e87075\" id=\"2e5cbf844ea93f14cce71950e3e87075\"><span data-lake-id=\"u06ed5c60\" id=\"u06ed5c60\">在文本编辑器中使用sudo权限创建并打开Gunicorn的启动文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20nano%20%2Fetc%2Finit%2Fgunicorn.conf%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Isdag%22%7D\"></card><p data-lake-id=\"ce2638f540278b73de2c8724c78ace14\" id=\"ce2638f540278b73de2c8724c78ace14\"><span data-lake-id=\"u1bcd6745\" id=\"u1bcd6745\">首先为我们的服务添加一个简单的描述，然后定义自动启动服务的系统运行级别</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22description%20%5C%22Gunicorn%20application%20server%20handling%20myproject%5C%22%5Cnstart%20on%20runlevel%20%5B2345%5D%5Cnstop%20on%20runlevel%20%5B!2345%5D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22WQJdt%22%7D\"></card><p data-lake-id=\"1b6e6362a15f99c5de09fe57dad906e2\" id=\"1b6e6362a15f99c5de09fe57dad906e2\"><span data-lake-id=\"u55cc0278\" id=\"u55cc0278\">接下来，我们要设置当服务停止时自动重启，并在指定的用户和组下运行，并将执行目录更改为我们的项目目录</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22description%20%5C%22Gunicorn%20application%20server%20handling%20myproject%5C%22%5Cnstart%20on%20runlevel%20%5B2345%5D%5Cnstop%20on%20runlevel%20%5B!2345%5D%5Cnrespawn%5Cnsetuid%20user%5Cnsetgid%20www-data%5Cnchdir%20%2Fhome%2Fuser%2Fmyproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wXWuj%22%7D\"></card><p data-lake-id=\"ce40279b0147eef2aa8b839301f32a05\" id=\"ce40279b0147eef2aa8b839301f32a05\"><span data-lake-id=\"u1b32fbcb\" id=\"u1b32fbcb\">现在，添加启动gunicorn的命令，我们需要给出虚拟环境中gunicorn可执行文件的路径。我们选择使用了unix套接字和nginx进行通信，相比较于网络端口这更安全，更快速。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22description%20%5C%22Gunicorn%20application%20server%20handling%20myproject%5C%22%5Cnstart%20on%20runlevel%20%5B2345%5D%5Cnstop%20on%20runlevel%20%5B!2345%5D%5Cnrespawn%5Cnsetuid%20user%5Cnsetgid%20www-data%5Cnchdir%20%2Fhome%2Fuser%2Fmyproject%5Cnexec%20myprojectenv%2Fbin%2Fgunicorn%20--workers%203%20--bind%20unix%3A%2Fhome%2Fuser%2Fmyproject%2Fmyproject.sock%20myproject.wsgi%3Aapplication%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uSYBx%22%7D\"></card><p data-lake-id=\"a8747c4daeccb0c1be0eb43d6ae88f22\" id=\"a8747c4daeccb0c1be0eb43d6ae88f22\"><span data-lake-id=\"u9a139df9\" id=\"u9a139df9\">保存文件，然后启动gunicorn服务</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20service%20gunicorn%20start%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226jjzJ%22%7D\"></card><h1 data-lake-id=\"t7TzF\" id=\"t7TzF\"><span data-lake-id=\"u34aec77f\" id=\"u34aec77f\">配置nginx代理gunicorn</span></h1><p data-lake-id=\"cf0d0ec1e3538391790353daac08c697\" id=\"cf0d0ec1e3538391790353daac08c697\"><span data-lake-id=\"u1fecb5b8\" id=\"u1fecb5b8\">新建nginx配置文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20nano%20%2Fetc%2Fnginx%2Fsites-available%2Fmyproject%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Nd8iY%22%7D\"></card><p data-lake-id=\"7d637d79dfa7c60954642422922846de\" id=\"7d637d79dfa7c60954642422922846de\"><span data-lake-id=\"u5732f19e\" id=\"u5732f19e\">在文件中，新建一个新的服务器，监听80端口并对服务器的ip或者域名做出响应。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%2080%3B%5Cn%20%20%20%20server_name%20server_domain_or_IP%3B%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22FFS4a%22%7D\"></card><p data-lake-id=\"90a9d59de8ca384b7f14881152ff836c\" id=\"90a9d59de8ca384b7f14881152ff836c\"><span data-lake-id=\"ua730d89a\" id=\"ua730d89a\">接下来，我们需要设置忽略favicon相关的错误，然后设置静态文件的根目录。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%2080%3B%5Cn%20%20%20%20server_name%20server_domain_or_IP%3B%5Cn%20%20%20%20location%20%3D%20%2Ffavicon.ico%20%7B%20access_log%20off%3B%20log_not_found%20off%3B%20%7D%5Cn%20%20%20%20location%20%2Fstatic%2F%20%7B%5Cn%20%20%20%20%20%20%20%20root%20%2Fhome%2Fuser%2Fmyproject%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qmE05%22%7D\"></card><p data-lake-id=\"514b3df2ef95c0ca1c0ea39216ededc5\" id=\"514b3df2ef95c0ca1c0ea39216ededc5\"><span data-lake-id=\"uc04ddc24\" id=\"uc04ddc24\">最后，我们会创建一个location / {}匹配所有其他请求，将流量通过套接字传递到gunicorn进程。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22server%20%7B%5Cn%20%20%20%20listen%2080%3B%5Cn%20%20%20%20server_name%20server_domain_or_IP%3B%5Cn%20%20%20%20location%20%3D%20%2Ffavicon.ico%20%7B%20access_log%20off%3B%20log_not_found%20off%3B%20%7D%5Cn%20%20%20%20location%20%2Fstatic%2F%20%7B%5Cn%20%20%20%20%20%20%20%20root%20%2Fhome%2Fuser%2Fmyproject%3B%5Cn%20%20%20%20%7D%5Cn%20%20%20%20location%20%2F%20%7B%5Cn%20%20%20%20%20%20%20%20include%20proxy_params%3B%5Cn%20%20%20%20%20%20%20%20proxy_pass%20http%3A%2F%2Funix%3A%2Fhome%2Fuser%2Fmyproject%2Fmyproject.sock%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22d9fev%22%7D\"></card><p data-lake-id=\"9d465dec74bc837e48f04783f15c2472\" id=\"9d465dec74bc837e48f04783f15c2472\"><span data-lake-id=\"ufaa9fa9f\" id=\"ufaa9fa9f\">保存文件。通过文件链接来启动该文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20ln%20-s%20%2Fetc%2Fnginx%2Fsites-available%2Fmyproject%20%2Fetc%2Fnginx%2Fsites-enabled%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CcMlg%22%7D\"></card><p data-lake-id=\"f72baba74a8bcb59f34e7c21f509e8b7\" id=\"f72baba74a8bcb59f34e7c21f509e8b7\"><span data-lake-id=\"uc528cacb\" id=\"uc528cacb\">测试nginx 配置</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20nginx%20-t%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224CQqH%22%7D\"></card><p data-lake-id=\"a5ee951d9583630a2f0d5c99049e218e\" id=\"a5ee951d9583630a2f0d5c99049e218e\"><span data-lake-id=\"ub3343e91\" id=\"ub3343e91\">如果没有错误，重启nginx服务</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sudo%20service%20nginx%20restart%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uXlDc%22%7D\"></card><p data-lake-id=\"cd7e3b70183ede8401310bedf17521d8\" id=\"cd7e3b70183ede8401310bedf17521d8\"><span data-lake-id=\"u1628d186\" id=\"u1628d186\">大功告成。</span></p><p data-lake-id=\"b6d4ed45ce6d85128bc01b7f2cb3efdc\" id=\"b6d4ed45ce6d85128bc01b7f2cb3efdc\"><span data-lake-id=\"u238a85e0\" id=\"u238a85e0\">参考网址：</span><a href=\"https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn\" target=\"_blank\" data-lake-id=\"u556ebeaf\" id=\"u556ebeaf\"><span data-lake-id=\"u2c6cf4f8\" id=\"u2c6cf4f8\">https://www.digitalocean.com/community/tutorials/how-to-set-up-django-with-postgres-nginx-and-gunicorn-on-ubuntu-14-04#configure-nginx-to-proxy-pass-to-gunicorn</span></a></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:01:44.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:28.000Z",
    "updated_at": "2022-12-11T13:01:44.000Z",
    "published_at": "2022-12-11T13:01:44.000Z",
    "first_published_at": "2022-12-09T12:02:27.529Z",
    "word_count": 828,
    "cover": null,
    "description": "date: 2018-06-25 9:16:32+00:00layout: posttitle: django + gunicorn + nginx 部署categories: djangotags:djangogunicornnginx创建python 虚拟环境安装pipenvsudo pi...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945040,
    "slug": "e516c4fd461c1b52e8ca82daa44d061e",
    "title": "2018-05-30-NAO机器人语音识别（二）：调用讯飞SDK",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-05-25 10:12:32+00:00<br />layout: post<br />title: NAO机器人语音识别（二）：调用讯飞SDK<br />categories: nao<br />tags:\n\n- nao\n\n---\n\n<a name=\"nMQCb\"></a>\n# 准备工作\nALSoundProcessing模块 [下载地址](http://doc.aldebaran.com/2-1/dev/cpp/examples/audio/soundprocessing/soundprocessing.html#cpp-examples-sound-processing)<br />讯飞LINUX SDK [讯飞官网](http://www.xfyun.cn/)\n<a name=\"xAeTZ\"></a>\n# 安装 SDK\n```\n将sdk中的 libs include 文件夹拷贝到ALSoundProcessing文件夹下\n编辑CMakeList.txt添加环境变量\n```\n<a name=\"gcSrj\"></a>\n### 导入asr_sample\n\n1. 将讯飞识别的单文件直接复制拷到alsoundprocessing.cpp文件中\n2. 将讯飞login函数放入init函数内启动（以便模块启动后调用）\n3. 将讯飞logout函数放入~ALSoundProcessing函数中（模块停止后退出，避免下次模块启动出现异常）\n4. 清空process函数并编辑，实现将nao缓存区的音频数据同时QISRAudioWrite函数实时上传到讯飞服务器\n5. 通过QISRGetResult获取所有音频结果并解析。\n\n（初步完成语音识别功能）\n<a name=\"WMJZ7\"></a>\n### 调整\n将模块名修改为ALSoundRecognition(避免冲突，可定义)<br />在头文件中加入方法，方便外部调用。\n```\npublic:\n  void process(const int & nbOfChannels,\n               const int & nbrOfSamplesByChannel,\n               const AL_SOUND_FORMAT * buffer,\n               const ALValue & timeStamp);\n  void startSession();\n  void stopSession();\n  void restartSession();\n  int getStatus();\n  std::string getResult();\n  void restart();\n```\n<a name=\"dBZ5Y\"></a>\n# 编译执行\n成功运行以后运行如下代码（默认选择remote模式）\n```\nqibuild make\n```\n即可在电脑上运行测试了。\n",
    "body_draft": "---\n\ndate: 2018-05-25 10:12:32+00:00<br />layout: post<br />title: NAO机器人语音识别（二）：调用讯飞SDK<br />categories: nao<br />tags:\n\n- nao\n\n---\n\n<a name=\"nMQCb\"></a>\n# 准备工作\nALSoundProcessing模块 [下载地址](http://doc.aldebaran.com/2-1/dev/cpp/examples/audio/soundprocessing/soundprocessing.html#cpp-examples-sound-processing)<br />讯飞LINUX SDK [讯飞官网](http://www.xfyun.cn/)\n<a name=\"xAeTZ\"></a>\n# 安装 SDK\n```\n将sdk中的 libs include 文件夹拷贝到ALSoundProcessing文件夹下\n编辑CMakeList.txt添加环境变量\n```\n<a name=\"gcSrj\"></a>\n### 导入asr_sample\n\n1. 将讯飞识别的单文件直接复制拷到alsoundprocessing.cpp文件中\n2. 将讯飞login函数放入init函数内启动（以便模块启动后调用）\n3. 将讯飞logout函数放入~ALSoundProcessing函数中（模块停止后退出，避免下次模块启动出现异常）\n4. 清空process函数并编辑，实现将nao缓存区的音频数据同时QISRAudioWrite函数实时上传到讯飞服务器\n5. 通过QISRGetResult获取所有音频结果并解析。\n\n（初步完成语音识别功能）\n<a name=\"WMJZ7\"></a>\n### 调整\n将模块名修改为ALSoundRecognition(避免冲突，可定义)<br />在头文件中加入方法，方便外部调用。\n```\npublic:\n  void process(const int & nbOfChannels,\n               const int & nbrOfSamplesByChannel,\n               const AL_SOUND_FORMAT * buffer,\n               const ALValue & timeStamp);\n  void startSession();\n  void stopSession();\n  void restartSession();\n  int getStatus();\n  std::string getResult();\n  void restart();\n```\n<a name=\"dBZ5Y\"></a>\n# 编译执行\n成功运行以后运行如下代码（默认选择remote模式）\n```\nqibuild make\n```\n即可在电脑上运行测试了。\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"Uc5v3\" class=\"ne-hr\"><p id=\"3e983caa79b74d8789a2a6d2db6ee95b\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-05-25 10:12:32+00:00</span></p><p id=\"69868d74f56fbedb1e6fe52834c7b271\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"052f29a1a78e8ae32ab048c8ad6f41d3\" class=\"ne-p\"><span class=\"ne-text\">title: NAO机器人语音识别（二）：调用讯飞SDK</span></p><p id=\"fddcc38e16b71ed1ebde98bdd07c4f17\" class=\"ne-p\"><span class=\"ne-text\">categories: nao</span></p><p id=\"e30b7a752516123e4bea8f33439f4554\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"8e95aac57d39b4d72474b784b7bc094a\"><span class=\"ne-text\">nao</span></li></ul><hr id=\"vsTRD\" class=\"ne-hr\"><h1 id=\"nMQCb\"><span class=\"ne-text\">准备工作</span></h1><p id=\"40c55716cb8ad60e3947f22d35da08d1\" class=\"ne-p\"><span class=\"ne-text\">ALSoundProcessing模块 </span><a href=\"http://doc.aldebaran.com/2-1/dev/cpp/examples/audio/soundprocessing/soundprocessing.html#cpp-examples-sound-processing\" data-href=\"http://doc.aldebaran.com/2-1/dev/cpp/examples/audio/soundprocessing/soundprocessing.html#cpp-examples-sound-processing\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">下载地址</span></a></p><p id=\"75d1293b74ae8f8f5944a71dcd8c9923\" class=\"ne-p\"><span class=\"ne-text\">讯飞LINUX SDK </span><a href=\"http://www.xfyun.cn/\" data-href=\"http://www.xfyun.cn/\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">讯飞官网</span></a></p><h1 id=\"xAeTZ\"><span class=\"ne-text\">安装 SDK</span></h1><pre data-language=\"plain\" id=\"LOrw3\" class=\"ne-codeblock language-plain\">将sdk中的 libs include 文件夹拷贝到ALSoundProcessing文件夹下\n编辑CMakeList.txt添加环境变量</pre><h3 id=\"gcSrj\"><span class=\"ne-text\">导入asr_sample</span></h3><ol class=\"ne-ol\"><li id=\"3d4551ea231dbbd0076553e284955350\"><span class=\"ne-text\">将讯飞识别的单文件直接复制拷到alsoundprocessing.cpp文件中</span></li><li id=\"9ad802e61f49c6cc683bea43581514d8\"><span class=\"ne-text\">将讯飞login函数放入init函数内启动（以便模块启动后调用）</span></li><li id=\"0b5fb2ff22de958cc9288332952354a4\"><span class=\"ne-text\">将讯飞logout函数放入~ALSoundProcessing函数中（模块停止后退出，避免下次模块启动出现异常）</span></li><li id=\"5add2d9b86fe5174f48b381168c5215d\"><span class=\"ne-text\">清空process函数并编辑，实现将nao缓存区的音频数据同时QISRAudioWrite函数实时上传到讯飞服务器</span></li><li id=\"69baed9242db93d5aebaf4b66957790d\"><span class=\"ne-text\">通过QISRGetResult获取所有音频结果并解析。</span></li></ol><p id=\"f87f596b3b1c0ab5116da6f382d21dd9\" class=\"ne-p\"><span class=\"ne-text\">（初步完成语音识别功能）</span></p><h3 id=\"WMJZ7\"><span class=\"ne-text\">调整</span></h3><p id=\"957b5de3e465f87547a97f58209fd7c2\" class=\"ne-p\"><span class=\"ne-text\">将模块名修改为ALSoundRecognition(避免冲突，可定义)</span></p><p id=\"b37ce4fb910bb960441d41e864a2df0c\" class=\"ne-p\"><span class=\"ne-text\">在头文件中加入方法，方便外部调用。</span></p><pre data-language=\"plain\" id=\"mcrXp\" class=\"ne-codeblock language-plain\">public:\n  void process(const int &amp; nbOfChannels,\n               const int &amp; nbrOfSamplesByChannel,\n               const AL_SOUND_FORMAT * buffer,\n               const ALValue &amp; timeStamp);\n  void startSession();\n  void stopSession();\n  void restartSession();\n  int getStatus();\n  std::string getResult();\n  void restart();</pre><h1 id=\"dBZ5Y\"><span class=\"ne-text\">编译执行</span></h1><p id=\"106976cea86133bfaa248c1a3af206a7\" class=\"ne-p\"><span class=\"ne-text\">成功运行以后运行如下代码（默认选择remote模式）</span></p><pre data-language=\"plain\" id=\"oboSb\" class=\"ne-codeblock language-plain\">qibuild make</pre><p id=\"a6ecfada3ee6f5bca5a6a3a9fddf0c05\" class=\"ne-p\"><span class=\"ne-text\">即可在电脑上运行测试了。</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Uc5v3%22%7D\"></card><p data-lake-id=\"3e983caa79b74d8789a2a6d2db6ee95b\" id=\"3e983caa79b74d8789a2a6d2db6ee95b\"><span data-lake-id=\"u2c81e0a7\" id=\"u2c81e0a7\">date: 2018-05-25 10:12:32+00:00</span></p><p data-lake-id=\"69868d74f56fbedb1e6fe52834c7b271\" id=\"69868d74f56fbedb1e6fe52834c7b271\"><span data-lake-id=\"u2f0ed0ca\" id=\"u2f0ed0ca\">layout: post</span></p><p data-lake-id=\"052f29a1a78e8ae32ab048c8ad6f41d3\" id=\"052f29a1a78e8ae32ab048c8ad6f41d3\"><span data-lake-id=\"uf9e48057\" id=\"uf9e48057\">title: NAO机器人语音识别（二）：调用讯飞SDK</span></p><p data-lake-id=\"fddcc38e16b71ed1ebde98bdd07c4f17\" id=\"fddcc38e16b71ed1ebde98bdd07c4f17\"><span data-lake-id=\"u71f07954\" id=\"u71f07954\">categories: nao</span></p><p data-lake-id=\"e30b7a752516123e4bea8f33439f4554\" id=\"e30b7a752516123e4bea8f33439f4554\"><span data-lake-id=\"u3b5c80e6\" id=\"u3b5c80e6\">tags:</span></p><ul list=\"ubd988431\"><li fid=\"u09423f16\" data-lake-id=\"8e95aac57d39b4d72474b784b7bc094a\" id=\"8e95aac57d39b4d72474b784b7bc094a\"><span data-lake-id=\"u8f55fde5\" id=\"u8f55fde5\">nao</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22vsTRD%22%7D\"></card><h1 data-lake-id=\"nMQCb\" id=\"nMQCb\"><span data-lake-id=\"u38910c72\" id=\"u38910c72\">准备工作</span></h1><p data-lake-id=\"40c55716cb8ad60e3947f22d35da08d1\" id=\"40c55716cb8ad60e3947f22d35da08d1\"><span data-lake-id=\"ud1a8a60b\" id=\"ud1a8a60b\">ALSoundProcessing模块 </span><a href=\"http://doc.aldebaran.com/2-1/dev/cpp/examples/audio/soundprocessing/soundprocessing.html#cpp-examples-sound-processing\" target=\"_blank\" data-lake-id=\"u500ef208\" id=\"u500ef208\"><span data-lake-id=\"ubed5363c\" id=\"ubed5363c\">下载地址</span></a></p><p data-lake-id=\"75d1293b74ae8f8f5944a71dcd8c9923\" id=\"75d1293b74ae8f8f5944a71dcd8c9923\"><span data-lake-id=\"u7af6aedf\" id=\"u7af6aedf\">讯飞LINUX SDK </span><a href=\"http://www.xfyun.cn/\" target=\"_blank\" data-lake-id=\"ue54973a5\" id=\"ue54973a5\"><span data-lake-id=\"u46e391e2\" id=\"u46e391e2\">讯飞官网</span></a></p><h1 data-lake-id=\"xAeTZ\" id=\"xAeTZ\"><span data-lake-id=\"u89c67cf0\" id=\"u89c67cf0\">安装 SDK</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%B0%86sdk%E4%B8%AD%E7%9A%84%20libs%20include%20%E6%96%87%E4%BB%B6%E5%A4%B9%E6%8B%B7%E8%B4%9D%E5%88%B0ALSoundProcessing%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%5Cn%E7%BC%96%E8%BE%91CMakeList.txt%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22LOrw3%22%7D\"></card><h3 data-lake-id=\"gcSrj\" id=\"gcSrj\"><span data-lake-id=\"u00a9233b\" id=\"u00a9233b\">导入asr_sample</span></h3><ol list=\"u1873aeff\"><li fid=\"uf1a27cfc\" data-lake-id=\"3d4551ea231dbbd0076553e284955350\" id=\"3d4551ea231dbbd0076553e284955350\"><span data-lake-id=\"u34700c55\" id=\"u34700c55\">将讯飞识别的单文件直接复制拷到alsoundprocessing.cpp文件中</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"9ad802e61f49c6cc683bea43581514d8\" id=\"9ad802e61f49c6cc683bea43581514d8\"><span data-lake-id=\"ud8aa8797\" id=\"ud8aa8797\">将讯飞login函数放入init函数内启动（以便模块启动后调用）</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"0b5fb2ff22de958cc9288332952354a4\" id=\"0b5fb2ff22de958cc9288332952354a4\"><span data-lake-id=\"ufa3378de\" id=\"ufa3378de\">将讯飞logout函数放入~ALSoundProcessing函数中（模块停止后退出，避免下次模块启动出现异常）</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"5add2d9b86fe5174f48b381168c5215d\" id=\"5add2d9b86fe5174f48b381168c5215d\"><span data-lake-id=\"u42692aeb\" id=\"u42692aeb\">清空process函数并编辑，实现将nao缓存区的音频数据同时QISRAudioWrite函数实时上传到讯飞服务器</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"69baed9242db93d5aebaf4b66957790d\" id=\"69baed9242db93d5aebaf4b66957790d\"><span data-lake-id=\"u15860c9e\" id=\"u15860c9e\">通过QISRGetResult获取所有音频结果并解析。</span></li></ol><p data-lake-id=\"f87f596b3b1c0ab5116da6f382d21dd9\" id=\"f87f596b3b1c0ab5116da6f382d21dd9\"><span data-lake-id=\"uea299e48\" id=\"uea299e48\">（初步完成语音识别功能）</span></p><h3 data-lake-id=\"WMJZ7\" id=\"WMJZ7\"><span data-lake-id=\"u3c7f7ef7\" id=\"u3c7f7ef7\">调整</span></h3><p data-lake-id=\"957b5de3e465f87547a97f58209fd7c2\" id=\"957b5de3e465f87547a97f58209fd7c2\"><span data-lake-id=\"u3afec939\" id=\"u3afec939\">将模块名修改为ALSoundRecognition(避免冲突，可定义)</span></p><p data-lake-id=\"b37ce4fb910bb960441d41e864a2df0c\" id=\"b37ce4fb910bb960441d41e864a2df0c\"><span data-lake-id=\"u9a3737aa\" id=\"u9a3737aa\">在头文件中加入方法，方便外部调用。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22public%3A%5Cn%20%20void%20process(const%20int%20%26%20nbOfChannels%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20int%20%26%20nbrOfSamplesByChannel%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20AL_SOUND_FORMAT%20*%20buffer%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ALValue%20%26%20timeStamp)%3B%5Cn%20%20void%20startSession()%3B%5Cn%20%20void%20stopSession()%3B%5Cn%20%20void%20restartSession()%3B%5Cn%20%20int%20getStatus()%3B%5Cn%20%20std%3A%3Astring%20getResult()%3B%5Cn%20%20void%20restart()%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22mcrXp%22%7D\"></card><h1 data-lake-id=\"dBZ5Y\" id=\"dBZ5Y\"><span data-lake-id=\"uf7859695\" id=\"uf7859695\">编译执行</span></h1><p data-lake-id=\"106976cea86133bfaa248c1a3af206a7\" id=\"106976cea86133bfaa248c1a3af206a7\"><span data-lake-id=\"u248ea129\" id=\"u248ea129\">成功运行以后运行如下代码（默认选择remote模式）</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22qibuild%20make%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22oboSb%22%7D\"></card><p data-lake-id=\"a6ecfada3ee6f5bca5a6a3a9fddf0c05\" id=\"a6ecfada3ee6f5bca5a6a3a9fddf0c05\"><span data-lake-id=\"u40f861fb\" id=\"u40f861fb\">即可在电脑上运行测试了。</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Uc5v3%22%7D\"></card><p data-lake-id=\"3e983caa79b74d8789a2a6d2db6ee95b\" id=\"3e983caa79b74d8789a2a6d2db6ee95b\"><span data-lake-id=\"u2c81e0a7\" id=\"u2c81e0a7\">date: 2018-05-25 10:12:32+00:00</span></p><p data-lake-id=\"69868d74f56fbedb1e6fe52834c7b271\" id=\"69868d74f56fbedb1e6fe52834c7b271\"><span data-lake-id=\"u2f0ed0ca\" id=\"u2f0ed0ca\">layout: post</span></p><p data-lake-id=\"052f29a1a78e8ae32ab048c8ad6f41d3\" id=\"052f29a1a78e8ae32ab048c8ad6f41d3\"><span data-lake-id=\"uf9e48057\" id=\"uf9e48057\">title: NAO机器人语音识别（二）：调用讯飞SDK</span></p><p data-lake-id=\"fddcc38e16b71ed1ebde98bdd07c4f17\" id=\"fddcc38e16b71ed1ebde98bdd07c4f17\"><span data-lake-id=\"u71f07954\" id=\"u71f07954\">categories: nao</span></p><p data-lake-id=\"e30b7a752516123e4bea8f33439f4554\" id=\"e30b7a752516123e4bea8f33439f4554\"><span data-lake-id=\"u3b5c80e6\" id=\"u3b5c80e6\">tags:</span></p><ul list=\"ubd988431\"><li fid=\"u09423f16\" data-lake-id=\"8e95aac57d39b4d72474b784b7bc094a\" id=\"8e95aac57d39b4d72474b784b7bc094a\"><span data-lake-id=\"u8f55fde5\" id=\"u8f55fde5\">nao</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22vsTRD%22%7D\"></card><h1 data-lake-id=\"nMQCb\" id=\"nMQCb\"><span data-lake-id=\"u38910c72\" id=\"u38910c72\">准备工作</span></h1><p data-lake-id=\"40c55716cb8ad60e3947f22d35da08d1\" id=\"40c55716cb8ad60e3947f22d35da08d1\"><span data-lake-id=\"ud1a8a60b\" id=\"ud1a8a60b\">ALSoundProcessing模块 </span><a href=\"http://doc.aldebaran.com/2-1/dev/cpp/examples/audio/soundprocessing/soundprocessing.html#cpp-examples-sound-processing\" target=\"_blank\" data-lake-id=\"u500ef208\" id=\"u500ef208\"><span data-lake-id=\"ubed5363c\" id=\"ubed5363c\">下载地址</span></a></p><p data-lake-id=\"75d1293b74ae8f8f5944a71dcd8c9923\" id=\"75d1293b74ae8f8f5944a71dcd8c9923\"><span data-lake-id=\"u7af6aedf\" id=\"u7af6aedf\">讯飞LINUX SDK </span><a href=\"http://www.xfyun.cn/\" target=\"_blank\" data-lake-id=\"ue54973a5\" id=\"ue54973a5\"><span data-lake-id=\"u46e391e2\" id=\"u46e391e2\">讯飞官网</span></a></p><h1 data-lake-id=\"xAeTZ\" id=\"xAeTZ\"><span data-lake-id=\"u89c67cf0\" id=\"u89c67cf0\">安装 SDK</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%B0%86sdk%E4%B8%AD%E7%9A%84%20libs%20include%20%E6%96%87%E4%BB%B6%E5%A4%B9%E6%8B%B7%E8%B4%9D%E5%88%B0ALSoundProcessing%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%8B%5Cn%E7%BC%96%E8%BE%91CMakeList.txt%E6%B7%BB%E5%8A%A0%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22LOrw3%22%7D\"></card><h3 data-lake-id=\"gcSrj\" id=\"gcSrj\"><span data-lake-id=\"u00a9233b\" id=\"u00a9233b\">导入asr_sample</span></h3><ol list=\"u1873aeff\"><li fid=\"uf1a27cfc\" data-lake-id=\"3d4551ea231dbbd0076553e284955350\" id=\"3d4551ea231dbbd0076553e284955350\"><span data-lake-id=\"u34700c55\" id=\"u34700c55\">将讯飞识别的单文件直接复制拷到alsoundprocessing.cpp文件中</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"9ad802e61f49c6cc683bea43581514d8\" id=\"9ad802e61f49c6cc683bea43581514d8\"><span data-lake-id=\"ud8aa8797\" id=\"ud8aa8797\">将讯飞login函数放入init函数内启动（以便模块启动后调用）</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"0b5fb2ff22de958cc9288332952354a4\" id=\"0b5fb2ff22de958cc9288332952354a4\"><span data-lake-id=\"ufa3378de\" id=\"ufa3378de\">将讯飞logout函数放入~ALSoundProcessing函数中（模块停止后退出，避免下次模块启动出现异常）</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"5add2d9b86fe5174f48b381168c5215d\" id=\"5add2d9b86fe5174f48b381168c5215d\"><span data-lake-id=\"u42692aeb\" id=\"u42692aeb\">清空process函数并编辑，实现将nao缓存区的音频数据同时QISRAudioWrite函数实时上传到讯飞服务器</span></li><li fid=\"uf1a27cfc\" data-lake-id=\"69baed9242db93d5aebaf4b66957790d\" id=\"69baed9242db93d5aebaf4b66957790d\"><span data-lake-id=\"u15860c9e\" id=\"u15860c9e\">通过QISRGetResult获取所有音频结果并解析。</span></li></ol><p data-lake-id=\"f87f596b3b1c0ab5116da6f382d21dd9\" id=\"f87f596b3b1c0ab5116da6f382d21dd9\"><span data-lake-id=\"uea299e48\" id=\"uea299e48\">（初步完成语音识别功能）</span></p><h3 data-lake-id=\"WMJZ7\" id=\"WMJZ7\"><span data-lake-id=\"u3c7f7ef7\" id=\"u3c7f7ef7\">调整</span></h3><p data-lake-id=\"957b5de3e465f87547a97f58209fd7c2\" id=\"957b5de3e465f87547a97f58209fd7c2\"><span data-lake-id=\"u3afec939\" id=\"u3afec939\">将模块名修改为ALSoundRecognition(避免冲突，可定义)</span></p><p data-lake-id=\"b37ce4fb910bb960441d41e864a2df0c\" id=\"b37ce4fb910bb960441d41e864a2df0c\"><span data-lake-id=\"u9a3737aa\" id=\"u9a3737aa\">在头文件中加入方法，方便外部调用。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22public%3A%5Cn%20%20void%20process(const%20int%20%26%20nbOfChannels%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20int%20%26%20nbrOfSamplesByChannel%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20AL_SOUND_FORMAT%20*%20buffer%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20const%20ALValue%20%26%20timeStamp)%3B%5Cn%20%20void%20startSession()%3B%5Cn%20%20void%20stopSession()%3B%5Cn%20%20void%20restartSession()%3B%5Cn%20%20int%20getStatus()%3B%5Cn%20%20std%3A%3Astring%20getResult()%3B%5Cn%20%20void%20restart()%3B%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22mcrXp%22%7D\"></card><h1 data-lake-id=\"dBZ5Y\" id=\"dBZ5Y\"><span data-lake-id=\"uf7859695\" id=\"uf7859695\">编译执行</span></h1><p data-lake-id=\"106976cea86133bfaa248c1a3af206a7\" id=\"106976cea86133bfaa248c1a3af206a7\"><span data-lake-id=\"u248ea129\" id=\"u248ea129\">成功运行以后运行如下代码（默认选择remote模式）</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22qibuild%20make%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22oboSb%22%7D\"></card><p data-lake-id=\"a6ecfada3ee6f5bca5a6a3a9fddf0c05\" id=\"a6ecfada3ee6f5bca5a6a3a9fddf0c05\"><span data-lake-id=\"u40f861fb\" id=\"u40f861fb\">即可在电脑上运行测试了。</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:02:03.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:26.000Z",
    "updated_at": "2022-12-11T13:02:03.000Z",
    "published_at": "2022-12-11T13:02:03.000Z",
    "first_published_at": "2022-12-09T12:02:26.262Z",
    "word_count": 324,
    "cover": null,
    "description": "date: 2018-05-25 10:12:32+00:00layout: posttitle: NAO机器人语音识别（二）：调用讯飞SDKcategories: naotags:nao准备工作ALSoundProcessing模块 下载地址讯飞LINUX SDK 讯飞官网安装 SDK将sd...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945036,
    "slug": "0fa9efd62043d919ca870ad4a31a9cf1",
    "title": "2018-05-30-NAO机器人语音识别（三）：自定义模块快速调用",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: NAO机器人语音识别（三）：自定义模块快速调用<br />date: 2018-05-30 15:54:03<br />categories: nao<br />tags: [nao]\n\n---\n\n<a name=\"bjBWM\"></a>\n### 前言\n由于nao机器人自带的模块的对于中文的识别率不是特别理想，而且自带的对话剧本太少，所以自己写了一个nao的模块来替换自带的语音识别模块。\n<a name=\"X5kjA\"></a>\n## 模块介绍\nALSoundRecognition 是适用于NAO机器人的语音识别模块。<br />该模块调用了科大讯飞的语音识别和语义理解功能。<br />相对于系统自带的模块有对中文识别准确率更高，识别反应速度更快的优势。<br />github地址:[https://github.com/zyqzyq/ALSoundRecognition](https://github.com/zyqzyq/ALSoundRecognition)\n<a name=\"dXUqT\"></a>\n## demo\n```\n根据github上的文档说明将模块拷入nao机器人后可以运行以下python demo进行简单的测试。\n```\n```\n#coding:utf-8\nfrom naoqi import ALProxy\nimport chardet\nimport json\n'''/*\n * isr_status参数说明\n * 0:未开始语音识别\n * 1:初始化成功\n * 2:正在识别中\n * 3:识别中止\n * 4:识别失败，请对照错误进行处理\n * 5:识别成功\n*/'''\ndef main():\n    asr = ALProxy(\"ALSoundRecognition\", \"192.168.3.13\", 9559)\n    tts = ALProxy(\"ALTextToSpeech\", \"192.168.3.13\", 9559)\n    rec = asr.getStatus()\n    print rec\n    if rec == 0:\n        print u\"未初始化成功\"\n    elif rec == 4:\n        asr.restart()\n    while 1:\n        print \"start recognition\"\n        asr.startSession()\n        while 1:\n            rec = asr.getStatus()\n            if rec == 2:\n                continue\n            else:\n                break\n        if rec == 5:\n            result = asr.getResult()\n            print \"result:\"\n            if result!='':\n                result_json = json.loads(result)\n                print result_json\n                if result_json[\"rc\"]==0:\n                    tts.say(result_json[\"answer\"][\"text\"].encode(\"utf-8\"))\n                else:\n                    #print result_json[\"text\"],type(result_json[\"text\"])\n                    tts.say(result_json[\"text\"].encode(\"utf-8\"))\n        elif rec == 4:\n            errorCode = asr.getResult()\n            print u\"error:\",errorCode\n            asr.stopSession()\n        elif rec == 3:\n            print \"识别中止\"\n \nif __name__ == \"__main__\":\n    main()\n```\n",
    "body_draft": "---\n\nlayout: post<br />title: NAO机器人语音识别（三）：自定义模块快速调用<br />date: 2018-05-30 15:54:03<br />categories: nao<br />tags: [nao]\n\n---\n\n<a name=\"bjBWM\"></a>\n### 前言\n由于nao机器人自带的模块的对于中文的识别率不是特别理想，而且自带的对话剧本太少，所以自己写了一个nao的模块来替换自带的语音识别模块。\n<a name=\"X5kjA\"></a>\n## 模块介绍\nALSoundRecognition 是适用于NAO机器人的语音识别模块。<br />该模块调用了科大讯飞的语音识别和语义理解功能。<br />相对于系统自带的模块有对中文识别准确率更高，识别反应速度更快的优势。<br />github地址:[https://github.com/zyqzyq/ALSoundRecognition](https://github.com/zyqzyq/ALSoundRecognition)\n<a name=\"dXUqT\"></a>\n## demo\n```\n根据github上的文档说明将模块拷入nao机器人后可以运行以下python demo进行简单的测试。\n```\n```\n#coding:utf-8\nfrom naoqi import ALProxy\nimport chardet\nimport json\n'''/*\n * isr_status参数说明\n * 0:未开始语音识别\n * 1:初始化成功\n * 2:正在识别中\n * 3:识别中止\n * 4:识别失败，请对照错误进行处理\n * 5:识别成功\n*/'''\ndef main():\n    asr = ALProxy(\"ALSoundRecognition\", \"192.168.3.13\", 9559)\n    tts = ALProxy(\"ALTextToSpeech\", \"192.168.3.13\", 9559)\n    rec = asr.getStatus()\n    print rec\n    if rec == 0:\n        print u\"未初始化成功\"\n    elif rec == 4:\n        asr.restart()\n    while 1:\n        print \"start recognition\"\n        asr.startSession()\n        while 1:\n            rec = asr.getStatus()\n            if rec == 2:\n                continue\n            else:\n                break\n        if rec == 5:\n            result = asr.getResult()\n            print \"result:\"\n            if result!='':\n                result_json = json.loads(result)\n                print result_json\n                if result_json[\"rc\"]==0:\n                    tts.say(result_json[\"answer\"][\"text\"].encode(\"utf-8\"))\n                else:\n                    #print result_json[\"text\"],type(result_json[\"text\"])\n                    tts.say(result_json[\"text\"].encode(\"utf-8\"))\n        elif rec == 4:\n            errorCode = asr.getResult()\n            print u\"error:\",errorCode\n            asr.stopSession()\n        elif rec == 3:\n            print \"识别中止\"\n \nif __name__ == \"__main__\":\n    main()\n```\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"RUUAD\" class=\"ne-hr\"><p id=\"e571f73c70a919051d9bcd232351f6d6\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"18e1d0f4d3795615abdf66d12caf1c4b\" class=\"ne-p\"><span class=\"ne-text\">title: NAO机器人语音识别（三）：自定义模块快速调用</span></p><p id=\"f2cfad58a98ec691fca340042c1e8ad2\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-05-30 15:54:03</span></p><p id=\"91a74221e3e20ccb8e0bd9fa73f617bb\" class=\"ne-p\"><span class=\"ne-text\">categories: nao</span></p><p id=\"80960cd06e87edc214c1f68502a8f416\" class=\"ne-p\"><span class=\"ne-text\">tags: [nao]</span></p><hr id=\"fxlaC\" class=\"ne-hr\"><h3 id=\"bjBWM\"><span class=\"ne-text\">前言</span></h3><p id=\"dcdf3d5b8ce12ea671aa09388d15588a\" class=\"ne-p\"><span class=\"ne-text\">由于nao机器人自带的模块的对于中文的识别率不是特别理想，而且自带的对话剧本太少，所以自己写了一个nao的模块来替换自带的语音识别模块。</span></p><h2 id=\"X5kjA\"><span class=\"ne-text\">模块介绍</span></h2><p id=\"dc9460d6aeed88878e201352181656b3\" class=\"ne-p\"><span class=\"ne-text\">ALSoundRecognition 是适用于NAO机器人的语音识别模块。</span></p><p id=\"7123b333a065164590dffb6ee160098b\" class=\"ne-p\"><span class=\"ne-text\">该模块调用了科大讯飞的语音识别和语义理解功能。</span></p><p id=\"a7504cb43dfdc2f491cf7c3518532f49\" class=\"ne-p\"><span class=\"ne-text\">相对于系统自带的模块有对中文识别准确率更高，识别反应速度更快的优势。</span></p><p id=\"0cab3ff98449e6cbd0e605344388165d\" class=\"ne-p\"><span class=\"ne-text\">github地址:</span><a href=\"https://github.com/zyqzyq/ALSoundRecognition\" data-href=\"https://github.com/zyqzyq/ALSoundRecognition\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">https://github.com/zyqzyq/ALSoundRecognition</span></a></p><h2 id=\"dXUqT\"><span class=\"ne-text\">demo</span></h2><pre data-language=\"plain\" id=\"gHucU\" class=\"ne-codeblock language-plain\">根据github上的文档说明将模块拷入nao机器人后可以运行以下python demo进行简单的测试。</pre><pre data-language=\"plain\" id=\"541Su\" class=\"ne-codeblock language-plain\">#coding:utf-8\nfrom naoqi import ALProxy\nimport chardet\nimport json\n'''/*\n * isr_status参数说明\n * 0:未开始语音识别\n * 1:初始化成功\n * 2:正在识别中\n * 3:识别中止\n * 4:识别失败，请对照错误进行处理\n * 5:识别成功\n*/'''\ndef main():\n    asr = ALProxy(&quot;ALSoundRecognition&quot;, &quot;192.168.3.13&quot;, 9559)\n    tts = ALProxy(&quot;ALTextToSpeech&quot;, &quot;192.168.3.13&quot;, 9559)\n    rec = asr.getStatus()\n    print rec\n    if rec == 0:\n        print u&quot;未初始化成功&quot;\n    elif rec == 4:\n        asr.restart()\n    while 1:\n        print &quot;start recognition&quot;\n        asr.startSession()\n        while 1:\n            rec = asr.getStatus()\n            if rec == 2:\n                continue\n            else:\n                break\n        if rec == 5:\n            result = asr.getResult()\n            print &quot;result:&quot;\n            if result!='':\n                result_json = json.loads(result)\n                print result_json\n                if result_json[&quot;rc&quot;]==0:\n                    tts.say(result_json[&quot;answer&quot;][&quot;text&quot;].encode(&quot;utf-8&quot;))\n                else:\n                    #print result_json[&quot;text&quot;],type(result_json[&quot;text&quot;])\n                    tts.say(result_json[&quot;text&quot;].encode(&quot;utf-8&quot;))\n        elif rec == 4:\n            errorCode = asr.getResult()\n            print u&quot;error:&quot;,errorCode\n            asr.stopSession()\n        elif rec == 3:\n            print &quot;识别中止&quot;\n \nif __name__ == &quot;__main__&quot;:\n    main()</pre></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22RUUAD%22%7D\"></card><p data-lake-id=\"e571f73c70a919051d9bcd232351f6d6\" id=\"e571f73c70a919051d9bcd232351f6d6\"><span data-lake-id=\"uc6eb8d3d\" id=\"uc6eb8d3d\">layout: post</span></p><p data-lake-id=\"18e1d0f4d3795615abdf66d12caf1c4b\" id=\"18e1d0f4d3795615abdf66d12caf1c4b\"><span data-lake-id=\"ud41b6aa4\" id=\"ud41b6aa4\">title: NAO机器人语音识别（三）：自定义模块快速调用</span></p><p data-lake-id=\"f2cfad58a98ec691fca340042c1e8ad2\" id=\"f2cfad58a98ec691fca340042c1e8ad2\"><span data-lake-id=\"ub9d280c2\" id=\"ub9d280c2\">date: 2018-05-30 15:54:03</span></p><p data-lake-id=\"91a74221e3e20ccb8e0bd9fa73f617bb\" id=\"91a74221e3e20ccb8e0bd9fa73f617bb\"><span data-lake-id=\"u4fd40c6f\" id=\"u4fd40c6f\">categories: nao</span></p><p data-lake-id=\"80960cd06e87edc214c1f68502a8f416\" id=\"80960cd06e87edc214c1f68502a8f416\"><span data-lake-id=\"u680c811c\" id=\"u680c811c\">tags: [nao]</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22fxlaC%22%7D\"></card><h3 data-lake-id=\"bjBWM\" id=\"bjBWM\"><span data-lake-id=\"u4f14bdaa\" id=\"u4f14bdaa\">前言</span></h3><p data-lake-id=\"dcdf3d5b8ce12ea671aa09388d15588a\" id=\"dcdf3d5b8ce12ea671aa09388d15588a\"><span data-lake-id=\"ue8950be3\" id=\"ue8950be3\">由于nao机器人自带的模块的对于中文的识别率不是特别理想，而且自带的对话剧本太少，所以自己写了一个nao的模块来替换自带的语音识别模块。</span></p><h2 data-lake-id=\"X5kjA\" id=\"X5kjA\"><span data-lake-id=\"u3f8a4756\" id=\"u3f8a4756\">模块介绍</span></h2><p data-lake-id=\"dc9460d6aeed88878e201352181656b3\" id=\"dc9460d6aeed88878e201352181656b3\"><span data-lake-id=\"u4448ddef\" id=\"u4448ddef\">ALSoundRecognition 是适用于NAO机器人的语音识别模块。</span></p><p data-lake-id=\"7123b333a065164590dffb6ee160098b\" id=\"7123b333a065164590dffb6ee160098b\"><span data-lake-id=\"ua81aa53c\" id=\"ua81aa53c\">该模块调用了科大讯飞的语音识别和语义理解功能。</span></p><p data-lake-id=\"a7504cb43dfdc2f491cf7c3518532f49\" id=\"a7504cb43dfdc2f491cf7c3518532f49\"><span data-lake-id=\"ufa134119\" id=\"ufa134119\">相对于系统自带的模块有对中文识别准确率更高，识别反应速度更快的优势。</span></p><p data-lake-id=\"0cab3ff98449e6cbd0e605344388165d\" id=\"0cab3ff98449e6cbd0e605344388165d\"><span data-lake-id=\"u1b0ae405\" id=\"u1b0ae405\">github地址:</span><a href=\"https://github.com/zyqzyq/ALSoundRecognition\" target=\"_blank\" data-lake-id=\"ubf8653d8\" id=\"ubf8653d8\"><span data-lake-id=\"u14d8715a\" id=\"u14d8715a\">https://github.com/zyqzyq/ALSoundRecognition</span></a></p><h2 data-lake-id=\"dXUqT\" id=\"dXUqT\"><span data-lake-id=\"u4b29d92f\" id=\"u4b29d92f\">demo</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%A0%B9%E6%8D%AEgithub%E4%B8%8A%E7%9A%84%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E%E5%B0%86%E6%A8%A1%E5%9D%97%E6%8B%B7%E5%85%A5nao%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%90%8E%E5%8F%AF%E4%BB%A5%E8%BF%90%E8%A1%8C%E4%BB%A5%E4%B8%8Bpython%20demo%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84%E6%B5%8B%E8%AF%95%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22gHucU%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23coding%3Autf-8%5Cnfrom%20naoqi%20import%20ALProxy%5Cnimport%20chardet%5Cnimport%20json%5Cn'''%2F*%5Cn%20*%20isr_status%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E%5Cn%20*%200%3A%E6%9C%AA%E5%BC%80%E5%A7%8B%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%5Cn%20*%201%3A%E5%88%9D%E5%A7%8B%E5%8C%96%E6%88%90%E5%8A%9F%5Cn%20*%202%3A%E6%AD%A3%E5%9C%A8%E8%AF%86%E5%88%AB%E4%B8%AD%5Cn%20*%203%3A%E8%AF%86%E5%88%AB%E4%B8%AD%E6%AD%A2%5Cn%20*%204%3A%E8%AF%86%E5%88%AB%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%B7%E5%AF%B9%E7%85%A7%E9%94%99%E8%AF%AF%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%5Cn%20*%205%3A%E8%AF%86%E5%88%AB%E6%88%90%E5%8A%9F%5Cn*%2F'''%5Cndef%20main()%3A%5Cn%20%20%20%20asr%20%3D%20ALProxy(%5C%22ALSoundRecognition%5C%22%2C%20%5C%22192.168.3.13%5C%22%2C%209559)%5Cn%20%20%20%20tts%20%3D%20ALProxy(%5C%22ALTextToSpeech%5C%22%2C%20%5C%22192.168.3.13%5C%22%2C%209559)%5Cn%20%20%20%20rec%20%3D%20asr.getStatus()%5Cn%20%20%20%20print%20rec%5Cn%20%20%20%20if%20rec%20%3D%3D%200%3A%5Cn%20%20%20%20%20%20%20%20print%20u%5C%22%E6%9C%AA%E5%88%9D%E5%A7%8B%E5%8C%96%E6%88%90%E5%8A%9F%5C%22%5Cn%20%20%20%20elif%20rec%20%3D%3D%204%3A%5Cn%20%20%20%20%20%20%20%20asr.restart()%5Cn%20%20%20%20while%201%3A%5Cn%20%20%20%20%20%20%20%20print%20%5C%22start%20recognition%5C%22%5Cn%20%20%20%20%20%20%20%20asr.startSession()%5Cn%20%20%20%20%20%20%20%20while%201%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20rec%20%3D%20asr.getStatus()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20rec%20%3D%3D%202%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%5Cn%20%20%20%20%20%20%20%20%20%20%20%20else%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%5Cn%20%20%20%20%20%20%20%20if%20rec%20%3D%3D%205%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20asr.getResult()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20print%20%5C%22result%3A%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20result!%3D''%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result_json%20%3D%20json.loads(result)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print%20result_json%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20result_json%5B%5C%22rc%5C%22%5D%3D%3D0%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tts.say(result_json%5B%5C%22answer%5C%22%5D%5B%5C%22text%5C%22%5D.encode(%5C%22utf-8%5C%22))%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23print%20result_json%5B%5C%22text%5C%22%5D%2Ctype(result_json%5B%5C%22text%5C%22%5D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tts.say(result_json%5B%5C%22text%5C%22%5D.encode(%5C%22utf-8%5C%22))%5Cn%20%20%20%20%20%20%20%20elif%20rec%20%3D%3D%204%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20errorCode%20%3D%20asr.getResult()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20print%20u%5C%22error%3A%5C%22%2CerrorCode%5Cn%20%20%20%20%20%20%20%20%20%20%20%20asr.stopSession()%5Cn%20%20%20%20%20%20%20%20elif%20rec%20%3D%3D%203%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20print%20%5C%22%E8%AF%86%E5%88%AB%E4%B8%AD%E6%AD%A2%5C%22%5Cn%20%5Cnif%20__name__%20%3D%3D%20%5C%22__main__%5C%22%3A%5Cn%20%20%20%20main()%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22541Su%22%7D\"></card>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22RUUAD%22%7D\"></card><p data-lake-id=\"e571f73c70a919051d9bcd232351f6d6\" id=\"e571f73c70a919051d9bcd232351f6d6\"><span data-lake-id=\"uc6eb8d3d\" id=\"uc6eb8d3d\">layout: post</span></p><p data-lake-id=\"18e1d0f4d3795615abdf66d12caf1c4b\" id=\"18e1d0f4d3795615abdf66d12caf1c4b\"><span data-lake-id=\"ud41b6aa4\" id=\"ud41b6aa4\">title: NAO机器人语音识别（三）：自定义模块快速调用</span></p><p data-lake-id=\"f2cfad58a98ec691fca340042c1e8ad2\" id=\"f2cfad58a98ec691fca340042c1e8ad2\"><span data-lake-id=\"ub9d280c2\" id=\"ub9d280c2\">date: 2018-05-30 15:54:03</span></p><p data-lake-id=\"91a74221e3e20ccb8e0bd9fa73f617bb\" id=\"91a74221e3e20ccb8e0bd9fa73f617bb\"><span data-lake-id=\"u4fd40c6f\" id=\"u4fd40c6f\">categories: nao</span></p><p data-lake-id=\"80960cd06e87edc214c1f68502a8f416\" id=\"80960cd06e87edc214c1f68502a8f416\"><span data-lake-id=\"u680c811c\" id=\"u680c811c\">tags: [nao]</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22fxlaC%22%7D\"></card><h3 data-lake-id=\"bjBWM\" id=\"bjBWM\"><span data-lake-id=\"u4f14bdaa\" id=\"u4f14bdaa\">前言</span></h3><p data-lake-id=\"dcdf3d5b8ce12ea671aa09388d15588a\" id=\"dcdf3d5b8ce12ea671aa09388d15588a\"><span data-lake-id=\"ue8950be3\" id=\"ue8950be3\">由于nao机器人自带的模块的对于中文的识别率不是特别理想，而且自带的对话剧本太少，所以自己写了一个nao的模块来替换自带的语音识别模块。</span></p><h2 data-lake-id=\"X5kjA\" id=\"X5kjA\"><span data-lake-id=\"u3f8a4756\" id=\"u3f8a4756\">模块介绍</span></h2><p data-lake-id=\"dc9460d6aeed88878e201352181656b3\" id=\"dc9460d6aeed88878e201352181656b3\"><span data-lake-id=\"u4448ddef\" id=\"u4448ddef\">ALSoundRecognition 是适用于NAO机器人的语音识别模块。</span></p><p data-lake-id=\"7123b333a065164590dffb6ee160098b\" id=\"7123b333a065164590dffb6ee160098b\"><span data-lake-id=\"ua81aa53c\" id=\"ua81aa53c\">该模块调用了科大讯飞的语音识别和语义理解功能。</span></p><p data-lake-id=\"a7504cb43dfdc2f491cf7c3518532f49\" id=\"a7504cb43dfdc2f491cf7c3518532f49\"><span data-lake-id=\"ufa134119\" id=\"ufa134119\">相对于系统自带的模块有对中文识别准确率更高，识别反应速度更快的优势。</span></p><p data-lake-id=\"0cab3ff98449e6cbd0e605344388165d\" id=\"0cab3ff98449e6cbd0e605344388165d\"><span data-lake-id=\"u1b0ae405\" id=\"u1b0ae405\">github地址:</span><a href=\"https://github.com/zyqzyq/ALSoundRecognition\" target=\"_blank\" data-lake-id=\"ubf8653d8\" id=\"ubf8653d8\"><span data-lake-id=\"u14d8715a\" id=\"u14d8715a\">https://github.com/zyqzyq/ALSoundRecognition</span></a></p><h2 data-lake-id=\"dXUqT\" id=\"dXUqT\"><span data-lake-id=\"u4b29d92f\" id=\"u4b29d92f\">demo</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%A0%B9%E6%8D%AEgithub%E4%B8%8A%E7%9A%84%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E%E5%B0%86%E6%A8%A1%E5%9D%97%E6%8B%B7%E5%85%A5nao%E6%9C%BA%E5%99%A8%E4%BA%BA%E5%90%8E%E5%8F%AF%E4%BB%A5%E8%BF%90%E8%A1%8C%E4%BB%A5%E4%B8%8Bpython%20demo%E8%BF%9B%E8%A1%8C%E7%AE%80%E5%8D%95%E7%9A%84%E6%B5%8B%E8%AF%95%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22gHucU%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23coding%3Autf-8%5Cnfrom%20naoqi%20import%20ALProxy%5Cnimport%20chardet%5Cnimport%20json%5Cn'''%2F*%5Cn%20*%20isr_status%E5%8F%82%E6%95%B0%E8%AF%B4%E6%98%8E%5Cn%20*%200%3A%E6%9C%AA%E5%BC%80%E5%A7%8B%E8%AF%AD%E9%9F%B3%E8%AF%86%E5%88%AB%5Cn%20*%201%3A%E5%88%9D%E5%A7%8B%E5%8C%96%E6%88%90%E5%8A%9F%5Cn%20*%202%3A%E6%AD%A3%E5%9C%A8%E8%AF%86%E5%88%AB%E4%B8%AD%5Cn%20*%203%3A%E8%AF%86%E5%88%AB%E4%B8%AD%E6%AD%A2%5Cn%20*%204%3A%E8%AF%86%E5%88%AB%E5%A4%B1%E8%B4%A5%EF%BC%8C%E8%AF%B7%E5%AF%B9%E7%85%A7%E9%94%99%E8%AF%AF%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86%5Cn%20*%205%3A%E8%AF%86%E5%88%AB%E6%88%90%E5%8A%9F%5Cn*%2F'''%5Cndef%20main()%3A%5Cn%20%20%20%20asr%20%3D%20ALProxy(%5C%22ALSoundRecognition%5C%22%2C%20%5C%22192.168.3.13%5C%22%2C%209559)%5Cn%20%20%20%20tts%20%3D%20ALProxy(%5C%22ALTextToSpeech%5C%22%2C%20%5C%22192.168.3.13%5C%22%2C%209559)%5Cn%20%20%20%20rec%20%3D%20asr.getStatus()%5Cn%20%20%20%20print%20rec%5Cn%20%20%20%20if%20rec%20%3D%3D%200%3A%5Cn%20%20%20%20%20%20%20%20print%20u%5C%22%E6%9C%AA%E5%88%9D%E5%A7%8B%E5%8C%96%E6%88%90%E5%8A%9F%5C%22%5Cn%20%20%20%20elif%20rec%20%3D%3D%204%3A%5Cn%20%20%20%20%20%20%20%20asr.restart()%5Cn%20%20%20%20while%201%3A%5Cn%20%20%20%20%20%20%20%20print%20%5C%22start%20recognition%5C%22%5Cn%20%20%20%20%20%20%20%20asr.startSession()%5Cn%20%20%20%20%20%20%20%20while%201%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20rec%20%3D%20asr.getStatus()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20rec%20%3D%3D%202%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%5Cn%20%20%20%20%20%20%20%20%20%20%20%20else%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%5Cn%20%20%20%20%20%20%20%20if%20rec%20%3D%3D%205%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result%20%3D%20asr.getResult()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20print%20%5C%22result%3A%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20result!%3D''%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result_json%20%3D%20json.loads(result)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print%20result_json%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20result_json%5B%5C%22rc%5C%22%5D%3D%3D0%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tts.say(result_json%5B%5C%22answer%5C%22%5D%5B%5C%22text%5C%22%5D.encode(%5C%22utf-8%5C%22))%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20else%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%23print%20result_json%5B%5C%22text%5C%22%5D%2Ctype(result_json%5B%5C%22text%5C%22%5D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20tts.say(result_json%5B%5C%22text%5C%22%5D.encode(%5C%22utf-8%5C%22))%5Cn%20%20%20%20%20%20%20%20elif%20rec%20%3D%3D%204%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20errorCode%20%3D%20asr.getResult()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20print%20u%5C%22error%3A%5C%22%2CerrorCode%5Cn%20%20%20%20%20%20%20%20%20%20%20%20asr.stopSession()%5Cn%20%20%20%20%20%20%20%20elif%20rec%20%3D%3D%203%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20print%20%5C%22%E8%AF%86%E5%88%AB%E4%B8%AD%E6%AD%A2%5C%22%5Cn%20%5Cnif%20__name__%20%3D%3D%20%5C%22__main__%5C%22%3A%5Cn%20%20%20%20main()%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22541Su%22%7D\"></card>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T14:19:08.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:25.000Z",
    "updated_at": "2022-12-11T14:19:08.000Z",
    "published_at": "2022-12-11T14:19:08.000Z",
    "first_published_at": "2022-12-09T12:02:25.009Z",
    "word_count": 386,
    "cover": null,
    "description": "layout: posttitle: NAO机器人语音识别（三）：自定义模块快速调用date: 2018-05-30 15:54:03categories: naotags: [nao]前言由于nao机器人自带的模块的对于中文的识别率不是特别理想，而且自带的对话剧本太少，所以自己写了一个nao...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945034,
    "slug": "49133f88c095c1feb54941673b6d62c5",
    "title": "2018-05-25-NAO机器人语音识别（一）：配置环境",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-05-25 10:12:32+00:00<br />layout: post<br />title: NAO机器人语音识别（一）：配置环境<br />categories: nao<br />tags:\n\n- nao\n\n---\n\n更多内容请点击[官方文档](http:_doc.aldebaran.com_2-1_dev_cpp_install_guide)\n<a name=\"N9vZ1\"></a>\n# 准备工作\n**系统**：Ubuntu 14.04 LTS 64-bit<br />警告：暂不支持Ubuntu 16.04 LTS<br />**GCC**：4.4版本或更高<br />**QtCreator**：建议使用最新版本<br />**CMake**：2.8.3版本或者更高（建议使用发行版提供的cmake软件包）\n<a name=\"IGzJa\"></a>\n# 安装 qibuild\n<a name=\"QyvY1\"></a>\n## 准备\n```\nqiBuild是一组用Python编写的命令行工具。\n只支持Python 2.7。\n请注意，现在大多数Linux发行版现在默认都带有Python3，因此您可能需要先安装Python 2。\n```\n<a name=\"xLIgz\"></a>\n## 安装\n```\n使用pip进行安装\n建议使用--user选项安装qibuild，以保持系统独立。\n```\n```\npip install qibuild --user\n```\n```\n将 $HOME/.local/bin添加到您的$PATH中。\n一种方法是在〜/.bashrc文件的末尾添加以下行：\n```\n```\nPATH=$PATH:$HOME/.local/bin\n```\n<a name=\"abk7s\"></a>\n## 配置\n运行：\n```\n$ qibuild config --wizard\n```\n```\n系统将提示您指定：\nCMake路径（如果不能自动找到），\nCMake Generator和您将使用的IDE。\n建议在Linux和Mac上使用'Unix Makefiles'。\n请注意，您仍可以在任何时候重新运行配置向导。\n结果：在〜/.config/qi/qibuild.xml中生成一个文件。 它由您将创建的所有工作树共享。\n```\n<a name=\"FcMrs\"></a>\n# 安装SDK\n<a name=\"me0C3\"></a>\n### 检查SDK先决条件\n```\n确保你已经安装了Qtcreator。\n```\n<a name=\"rGZjm\"></a>\n### 检索C ++ SDK\n```\n检索C ++ SDK存档：\n```\n```\nnaoqi-sdk-x.x.x-[OS].tar.gz\n```\n\n- 您可以从Aldebaran社区网站下载最新版本。<br />请小心选择与您的操作系统相对应的存档（当前选择使用Linux）。\n<a name=\"CFhHi\"></a>\n### 解压\n```\n在电脑上解压（我们假设解压的文件名为naoqi-sdk）\n```\n<a name=\"hrDE3\"></a>\n### 初始化\n```\n在你想存储C ++ SDK的地方创建一个空文件夹（我们称之为/ path/to/SDKfolder）。\n打开命令提示符并转到该文件夹。\n输入此命令以创建工作树。\n```\n```\nqibuild init\n```\n<a name=\"wVDGG\"></a>\n### 配置SDK\n```\n然后将您的文件夹naoqi-sdk复制到您的SDK文件夹中。 你会得到如下的文件：\n```\n> /path/to/SDKfolder/naoqi-sdk\n\n<a name=\"Dh6h5\"></a>\n# 编译并执行一个例子\n\n1. 在cmd中进入SDK目录，打开doc/dev/cpp/examples目录\n> cd /path/to/SDKfolder/naoqi-sdk/doc/dev/cpp/examples\n\n1. 输入以下命令创建一个工具链使用来自C ++ SDK的提要：\n> $ qitoolchain create mytoolchain /path/to/SDKfolder/naoqi-sdk/toolchain.xml\n\n```\nmytoolchain是你想要给这个特定工具链的名字（你可以自定义）。\n```\n\n3. 输入以下命令以创建与此工具链关联的构建配置，并确保此配置是此工作树的默认配置：\n> qibuild add-config mytoolchain -t mytoolchain --default\n\n4. 输入以下命令以配置和构建sayhelloworld项目：\n```\n$ cd core/sayhelloworld\n$ qibuild configure\n$ qibuild make\n```\n\n5. 您现在可以从：sayhelloworld/build-mytoolchain/sdk/bin运行生成的二进制文件\n\n预祝配置顺利。\n",
    "body_draft": "---\n\ndate: 2018-05-25 10:12:32+00:00<br />layout: post<br />title: NAO机器人语音识别（一）：配置环境<br />categories: nao<br />tags:\n\n- nao\n\n---\n\n更多内容请点击[官方文档](http:_doc.aldebaran.com_2-1_dev_cpp_install_guide)\n<a name=\"N9vZ1\"></a>\n# 准备工作\n**系统**：Ubuntu 14.04 LTS 64-bit<br />警告：暂不支持Ubuntu 16.04 LTS<br />**GCC**：4.4版本或更高<br />**QtCreator**：建议使用最新版本<br />**CMake**：2.8.3版本或者更高（建议使用发行版提供的cmake软件包）\n<a name=\"IGzJa\"></a>\n# 安装 qibuild\n<a name=\"QyvY1\"></a>\n## 准备\n```\nqiBuild是一组用Python编写的命令行工具。\n只支持Python 2.7。\n请注意，现在大多数Linux发行版现在默认都带有Python3，因此您可能需要先安装Python 2。\n```\n<a name=\"xLIgz\"></a>\n## 安装\n```\n使用pip进行安装\n建议使用--user选项安装qibuild，以保持系统独立。\n```\n```\npip install qibuild --user\n```\n```\n将 $HOME/.local/bin添加到您的$PATH中。\n一种方法是在〜/.bashrc文件的末尾添加以下行：\n```\n```\nPATH=$PATH:$HOME/.local/bin\n```\n<a name=\"abk7s\"></a>\n## 配置\n运行：\n```\n$ qibuild config --wizard\n```\n```\n系统将提示您指定：\nCMake路径（如果不能自动找到），\nCMake Generator和您将使用的IDE。\n建议在Linux和Mac上使用'Unix Makefiles'。\n请注意，您仍可以在任何时候重新运行配置向导。\n结果：在〜/.config/qi/qibuild.xml中生成一个文件。 它由您将创建的所有工作树共享。\n```\n<a name=\"FcMrs\"></a>\n# 安装SDK\n<a name=\"me0C3\"></a>\n### 检查SDK先决条件\n```\n确保你已经安装了Qtcreator。\n```\n<a name=\"rGZjm\"></a>\n### 检索C ++ SDK\n```\n检索C ++ SDK存档：\n```\n```\nnaoqi-sdk-x.x.x-[OS].tar.gz\n```\n\n- 您可以从Aldebaran社区网站下载最新版本。<br />请小心选择与您的操作系统相对应的存档（当前选择使用Linux）。\n<a name=\"CFhHi\"></a>\n### 解压\n```\n在电脑上解压（我们假设解压的文件名为naoqi-sdk）\n```\n<a name=\"hrDE3\"></a>\n### 初始化\n```\n在你想存储C ++ SDK的地方创建一个空文件夹（我们称之为/ path/to/SDKfolder）。\n打开命令提示符并转到该文件夹。\n输入此命令以创建工作树。\n```\n```\nqibuild init\n```\n<a name=\"wVDGG\"></a>\n### 配置SDK\n```\n然后将您的文件夹naoqi-sdk复制到您的SDK文件夹中。 你会得到如下的文件：\n```\n> /path/to/SDKfolder/naoqi-sdk\n\n<a name=\"Dh6h5\"></a>\n# 编译并执行一个例子\n\n1. 在cmd中进入SDK目录，打开doc/dev/cpp/examples目录\n> cd /path/to/SDKfolder/naoqi-sdk/doc/dev/cpp/examples\n\n1. 输入以下命令创建一个工具链使用来自C ++ SDK的提要：\n> $ qitoolchain create mytoolchain /path/to/SDKfolder/naoqi-sdk/toolchain.xml\n\n```\nmytoolchain是你想要给这个特定工具链的名字（你可以自定义）。\n```\n\n3. 输入以下命令以创建与此工具链关联的构建配置，并确保此配置是此工作树的默认配置：\n> qibuild add-config mytoolchain -t mytoolchain --default\n\n4. 输入以下命令以配置和构建sayhelloworld项目：\n```\n$ cd core/sayhelloworld\n$ qibuild configure\n$ qibuild make\n```\n\n5. 您现在可以从：sayhelloworld/build-mytoolchain/sdk/bin运行生成的二进制文件\n\n预祝配置顺利。\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"VH5ZV\" class=\"ne-hr\"><p id=\"039ca53ec6533e2cd3238576b68252f6\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-05-25 10:12:32+00:00</span></p><p id=\"b43dc4831a1e1b7bd49aa4772ecb8c92\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"cc11bafba3a3c7eeaae7ba9f3886556a\" class=\"ne-p\"><span class=\"ne-text\">title: NAO机器人语音识别（一）：配置环境</span></p><p id=\"0b5bef38fbbd0fc37d83935a5ce0d4c4\" class=\"ne-p\"><span class=\"ne-text\">categories: nao</span></p><p id=\"019b982cab026062774d5b7cd788028c\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"119dad912179ae05933377cdceefb56e\"><span class=\"ne-text\">nao</span></li></ul><hr id=\"QpT8o\" class=\"ne-hr\"><p id=\"ed4d6bbd32380b7a99ae6d8dfa59e24d\" class=\"ne-p\"><span class=\"ne-text\">更多内容请点击</span><a href=\"http:_doc.aldebaran.com_2-1_dev_cpp_install_guide\" data-href=\"http:_doc.aldebaran.com_2-1_dev_cpp_install_guide\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">官方文档</span></a></p><h1 id=\"N9vZ1\"><span class=\"ne-text\">准备工作</span></h1><p id=\"f927d88c23fc6f3d782da3eda2cb8df1\" class=\"ne-p\"><strong><span class=\"ne-text\">系统</span></strong><span class=\"ne-text\">：Ubuntu 14.04 LTS 64-bit</span></p><p id=\"c8e3573f4d0d65cf6755fa2b220dfc68\" class=\"ne-p\"><span class=\"ne-text\">警告：暂不支持Ubuntu 16.04 LTS</span></p><p id=\"435d555e6c2059da0ec0409f649a576b\" class=\"ne-p\"><strong><span class=\"ne-text\">GCC</span></strong><span class=\"ne-text\">：4.4版本或更高</span></p><p id=\"d4106f2d5a841b7529e44455e92fe390\" class=\"ne-p\"><strong><span class=\"ne-text\">QtCreator</span></strong><span class=\"ne-text\">：建议使用最新版本</span></p><p id=\"bff4b3421dd85036caaf486412d016e8\" class=\"ne-p\"><strong><span class=\"ne-text\">CMake</span></strong><span class=\"ne-text\">：2.8.3版本或者更高（建议使用发行版提供的cmake软件包）</span></p><h1 id=\"IGzJa\"><span class=\"ne-text\">安装 qibuild</span></h1><h2 id=\"QyvY1\"><span class=\"ne-text\">准备</span></h2><pre data-language=\"plain\" id=\"86sL7\" class=\"ne-codeblock language-plain\">qiBuild是一组用Python编写的命令行工具。\n只支持Python 2.7。\n请注意，现在大多数Linux发行版现在默认都带有Python3，因此您可能需要先安装Python 2。</pre><h2 id=\"xLIgz\"><span class=\"ne-text\">安装</span></h2><pre data-language=\"plain\" id=\"CM9eW\" class=\"ne-codeblock language-plain\">使用pip进行安装\n建议使用--user选项安装qibuild，以保持系统独立。</pre><pre data-language=\"plain\" id=\"kSVzh\" class=\"ne-codeblock language-plain\">pip install qibuild --user</pre><pre data-language=\"plain\" id=\"NZwnW\" class=\"ne-codeblock language-plain\">将 $HOME/.local/bin添加到您的$PATH中。\n一种方法是在〜/.bashrc文件的末尾添加以下行：</pre><pre data-language=\"plain\" id=\"ddYw1\" class=\"ne-codeblock language-plain\">PATH=$PATH:$HOME/.local/bin</pre><h2 id=\"abk7s\"><span class=\"ne-text\">配置</span></h2><p id=\"e3c5ba823cf4e108c39fe53141bda7fd\" class=\"ne-p\"><span class=\"ne-text\">运行：</span></p><pre data-language=\"plain\" id=\"lJ9fU\" class=\"ne-codeblock language-plain\">$ qibuild config --wizard</pre><pre data-language=\"plain\" id=\"2yWF6\" class=\"ne-codeblock language-plain\">系统将提示您指定：\nCMake路径（如果不能自动找到），\nCMake Generator和您将使用的IDE。\n建议在Linux和Mac上使用'Unix Makefiles'。\n请注意，您仍可以在任何时候重新运行配置向导。\n结果：在〜/.config/qi/qibuild.xml中生成一个文件。 它由您将创建的所有工作树共享。</pre><h1 id=\"FcMrs\"><span class=\"ne-text\">安装SDK</span></h1><h3 id=\"me0C3\"><span class=\"ne-text\">检查SDK先决条件</span></h3><pre data-language=\"plain\" id=\"s6dWC\" class=\"ne-codeblock language-plain\">确保你已经安装了Qtcreator。</pre><h3 id=\"rGZjm\"><span class=\"ne-text\">检索C ++ SDK</span></h3><pre data-language=\"plain\" id=\"UMw2p\" class=\"ne-codeblock language-plain\">检索C ++ SDK存档：</pre><pre data-language=\"plain\" id=\"y070r\" class=\"ne-codeblock language-plain\">naoqi-sdk-x.x.x-[OS].tar.gz</pre><ul class=\"ne-ul\"><li id=\"73fc6dfd2ed6eb393f3944a1dc5da0f3\"><span class=\"ne-text\">您可以从Aldebaran社区网站下载最新版本。<br /></span><span class=\"ne-text\">请小心选择与您的操作系统相对应的存档（当前选择使用Linux）。</span></li></ul><h3 id=\"CFhHi\"><span class=\"ne-text\">解压</span></h3><pre data-language=\"plain\" id=\"6fqtv\" class=\"ne-codeblock language-plain\">在电脑上解压（我们假设解压的文件名为naoqi-sdk）</pre><h3 id=\"hrDE3\"><span class=\"ne-text\">初始化</span></h3><pre data-language=\"plain\" id=\"bfbya\" class=\"ne-codeblock language-plain\">在你想存储C ++ SDK的地方创建一个空文件夹（我们称之为/ path/to/SDKfolder）。\n打开命令提示符并转到该文件夹。\n输入此命令以创建工作树。</pre><pre data-language=\"plain\" id=\"QKrCh\" class=\"ne-codeblock language-plain\">qibuild init</pre><h3 id=\"wVDGG\"><span class=\"ne-text\">配置SDK</span></h3><pre data-language=\"plain\" id=\"jALeV\" class=\"ne-codeblock language-plain\">然后将您的文件夹naoqi-sdk复制到您的SDK文件夹中。 你会得到如下的文件：</pre><div class=\"ne-quote\"><p id=\"0d273151ac61b4375f79db313443c75e\" class=\"ne-p\"><span class=\"ne-text\">/path/to/SDKfolder/naoqi-sdk</span></p></div><h1 id=\"Dh6h5\"><span class=\"ne-text\">编译并执行一个例子</span></h1><ol class=\"ne-ol\"><li id=\"e042794fc3cc7ea22594f02611ad03c5\"><span class=\"ne-text\">在cmd中进入SDK目录，打开doc/dev/cpp/examples目录</span></li></ol><div class=\"ne-quote\"><p id=\"4dfec40441fd96cdd8bb9df897e02f2e\" class=\"ne-p\"><span class=\"ne-text\">cd /path/to/SDKfolder/naoqi-sdk/doc/dev/cpp/examples</span></p></div><ol class=\"ne-ol\"><li id=\"1ff8816c5101d3bc070adc2ac2fcb208\"><span class=\"ne-text\">输入以下命令创建一个工具链使用来自C ++ SDK的提要：</span></li></ol><div class=\"ne-quote\"><p id=\"a29db0528e4c30b8ba14010cf492e286\" class=\"ne-p\"><span class=\"ne-text\">$ qitoolchain create mytoolchain /path/to/SDKfolder/naoqi-sdk/toolchain.xml</span></p></div><pre data-language=\"plain\" id=\"PfjG7\" class=\"ne-codeblock language-plain\">mytoolchain是你想要给这个特定工具链的名字（你可以自定义）。</pre><ol start=\"3\" class=\"ne-ol\"><li id=\"03dc398be52bb9cba14f57f35fc4fdad\"><span class=\"ne-text\">输入以下命令以创建与此工具链关联的构建配置，并确保此配置是此工作树的默认配置：</span></li></ol><div class=\"ne-quote\"><p id=\"3f9feff943c13368eaaccd9a959e3e38\" class=\"ne-p\"><span class=\"ne-text\">qibuild add-config mytoolchain -t mytoolchain --default</span></p></div><ol start=\"4\" class=\"ne-ol\"><li id=\"5680fe2dae4e87cf7a63b00fc42dcd58\"><span class=\"ne-text\">输入以下命令以配置和构建sayhelloworld项目：</span></li></ol><pre data-language=\"plain\" id=\"9wUnW\" class=\"ne-codeblock language-plain\">$ cd core/sayhelloworld\n$ qibuild configure\n$ qibuild make</pre><ol start=\"5\" class=\"ne-ol\"><li id=\"154c80aaa2bfc838061610752d04171f\"><span class=\"ne-text\">您现在可以从：sayhelloworld/build-mytoolchain/sdk/bin运行生成的二进制文件</span></li></ol><p id=\"00495a52085b32a1ed15c26f09e23b21\" class=\"ne-p\"><span class=\"ne-text\">预祝配置顺利。</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VH5ZV%22%7D\"></card><p data-lake-id=\"039ca53ec6533e2cd3238576b68252f6\" id=\"039ca53ec6533e2cd3238576b68252f6\"><span data-lake-id=\"ua733f695\" id=\"ua733f695\">date: 2018-05-25 10:12:32+00:00</span></p><p data-lake-id=\"b43dc4831a1e1b7bd49aa4772ecb8c92\" id=\"b43dc4831a1e1b7bd49aa4772ecb8c92\"><span data-lake-id=\"u1beea548\" id=\"u1beea548\">layout: post</span></p><p data-lake-id=\"cc11bafba3a3c7eeaae7ba9f3886556a\" id=\"cc11bafba3a3c7eeaae7ba9f3886556a\"><span data-lake-id=\"ude706e2b\" id=\"ude706e2b\">title: NAO机器人语音识别（一）：配置环境</span></p><p data-lake-id=\"0b5bef38fbbd0fc37d83935a5ce0d4c4\" id=\"0b5bef38fbbd0fc37d83935a5ce0d4c4\"><span data-lake-id=\"u4874d32d\" id=\"u4874d32d\">categories: nao</span></p><p data-lake-id=\"019b982cab026062774d5b7cd788028c\" id=\"019b982cab026062774d5b7cd788028c\"><span data-lake-id=\"ub0b54895\" id=\"ub0b54895\">tags:</span></p><ul list=\"u2b132193\"><li fid=\"ufbb0ce92\" data-lake-id=\"119dad912179ae05933377cdceefb56e\" id=\"119dad912179ae05933377cdceefb56e\"><span data-lake-id=\"ud546bf1c\" id=\"ud546bf1c\">nao</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22QpT8o%22%7D\"></card><p data-lake-id=\"ed4d6bbd32380b7a99ae6d8dfa59e24d\" id=\"ed4d6bbd32380b7a99ae6d8dfa59e24d\"><span data-lake-id=\"u38959c2c\" id=\"u38959c2c\">更多内容请点击</span><a href=\"http:_doc.aldebaran.com_2-1_dev_cpp_install_guide\" target=\"_blank\" data-lake-id=\"u2c62a253\" id=\"u2c62a253\"><span data-lake-id=\"u8f8c7793\" id=\"u8f8c7793\">官方文档</span></a></p><h1 data-lake-id=\"N9vZ1\" id=\"N9vZ1\"><span data-lake-id=\"udc2289be\" id=\"udc2289be\">准备工作</span></h1><p data-lake-id=\"f927d88c23fc6f3d782da3eda2cb8df1\" id=\"f927d88c23fc6f3d782da3eda2cb8df1\"><strong><span data-lake-id=\"u56ff7139\" id=\"u56ff7139\">系统</span></strong><span data-lake-id=\"u78b8247a\" id=\"u78b8247a\">：Ubuntu 14.04 LTS 64-bit</span></p><p data-lake-id=\"c8e3573f4d0d65cf6755fa2b220dfc68\" id=\"c8e3573f4d0d65cf6755fa2b220dfc68\"><span data-lake-id=\"ud02a88e3\" id=\"ud02a88e3\">警告：暂不支持Ubuntu 16.04 LTS</span></p><p data-lake-id=\"435d555e6c2059da0ec0409f649a576b\" id=\"435d555e6c2059da0ec0409f649a576b\"><strong><span data-lake-id=\"u959e5c2e\" id=\"u959e5c2e\">GCC</span></strong><span data-lake-id=\"uc740129b\" id=\"uc740129b\">：4.4版本或更高</span></p><p data-lake-id=\"d4106f2d5a841b7529e44455e92fe390\" id=\"d4106f2d5a841b7529e44455e92fe390\"><strong><span data-lake-id=\"u6c5d11b2\" id=\"u6c5d11b2\">QtCreator</span></strong><span data-lake-id=\"u3281ce8b\" id=\"u3281ce8b\">：建议使用最新版本</span></p><p data-lake-id=\"bff4b3421dd85036caaf486412d016e8\" id=\"bff4b3421dd85036caaf486412d016e8\"><strong><span data-lake-id=\"u5df27ea4\" id=\"u5df27ea4\">CMake</span></strong><span data-lake-id=\"u928eb00b\" id=\"u928eb00b\">：2.8.3版本或者更高（建议使用发行版提供的cmake软件包）</span></p><h1 data-lake-id=\"IGzJa\" id=\"IGzJa\"><span data-lake-id=\"u4ff67df3\" id=\"u4ff67df3\">安装 qibuild</span></h1><h2 data-lake-id=\"QyvY1\" id=\"QyvY1\"><span data-lake-id=\"u48452f78\" id=\"u48452f78\">准备</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22qiBuild%E6%98%AF%E4%B8%80%E7%BB%84%E7%94%A8Python%E7%BC%96%E5%86%99%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%E3%80%82%5Cn%E5%8F%AA%E6%94%AF%E6%8C%81Python%202.7%E3%80%82%5Cn%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E7%8E%B0%E5%9C%A8%E5%A4%A7%E5%A4%9A%E6%95%B0Linux%E5%8F%91%E8%A1%8C%E7%89%88%E7%8E%B0%E5%9C%A8%E9%BB%98%E8%AE%A4%E9%83%BD%E5%B8%A6%E6%9C%89Python3%EF%BC%8C%E5%9B%A0%E6%AD%A4%E6%82%A8%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E5%85%88%E5%AE%89%E8%A3%85Python%202%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%2286sL7%22%7D\"></card><h2 data-lake-id=\"xLIgz\" id=\"xLIgz\"><span data-lake-id=\"u37ef6250\" id=\"u37ef6250\">安装</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BD%BF%E7%94%A8pip%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%5Cn%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8--user%E9%80%89%E9%A1%B9%E5%AE%89%E8%A3%85qibuild%EF%BC%8C%E4%BB%A5%E4%BF%9D%E6%8C%81%E7%B3%BB%E7%BB%9F%E7%8B%AC%E7%AB%8B%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CM9eW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20qibuild%20--user%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kSVzh%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%B0%86%20%24HOME%2F.local%2Fbin%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%82%A8%E7%9A%84%24PATH%E4%B8%AD%E3%80%82%5Cn%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95%E6%98%AF%E5%9C%A8%E3%80%9C%2F.bashrc%E6%96%87%E4%BB%B6%E7%9A%84%E6%9C%AB%E5%B0%BE%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E8%A1%8C%EF%BC%9A%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22NZwnW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22PATH%3D%24PATH%3A%24HOME%2F.local%2Fbin%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ddYw1%22%7D\"></card><h2 data-lake-id=\"abk7s\" id=\"abk7s\"><span data-lake-id=\"u73fe491a\" id=\"u73fe491a\">配置</span></h2><p data-lake-id=\"e3c5ba823cf4e108c39fe53141bda7fd\" id=\"e3c5ba823cf4e108c39fe53141bda7fd\"><span data-lake-id=\"uc6f4a28a\" id=\"uc6f4a28a\">运行：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20qibuild%20config%20--wizard%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22lJ9fU%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%B3%BB%E7%BB%9F%E5%B0%86%E6%8F%90%E7%A4%BA%E6%82%A8%E6%8C%87%E5%AE%9A%EF%BC%9A%5CnCMake%E8%B7%AF%E5%BE%84%EF%BC%88%E5%A6%82%E6%9E%9C%E4%B8%8D%E8%83%BD%E8%87%AA%E5%8A%A8%E6%89%BE%E5%88%B0%EF%BC%89%EF%BC%8C%5CnCMake%20Generator%E5%92%8C%E6%82%A8%E5%B0%86%E4%BD%BF%E7%94%A8%E7%9A%84IDE%E3%80%82%5Cn%E5%BB%BA%E8%AE%AE%E5%9C%A8Linux%E5%92%8CMac%E4%B8%8A%E4%BD%BF%E7%94%A8'Unix%20Makefiles'%E3%80%82%5Cn%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E6%82%A8%E4%BB%8D%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%BB%BB%E4%BD%95%E6%97%B6%E5%80%99%E9%87%8D%E6%96%B0%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE%E5%90%91%E5%AF%BC%E3%80%82%5Cn%E7%BB%93%E6%9E%9C%EF%BC%9A%E5%9C%A8%E3%80%9C%2F.config%2Fqi%2Fqibuild.xml%E4%B8%AD%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E3%80%82%20%E5%AE%83%E7%94%B1%E6%82%A8%E5%B0%86%E5%88%9B%E5%BB%BA%E7%9A%84%E6%89%80%E6%9C%89%E5%B7%A5%E4%BD%9C%E6%A0%91%E5%85%B1%E4%BA%AB%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222yWF6%22%7D\"></card><h1 data-lake-id=\"FcMrs\" id=\"FcMrs\"><span data-lake-id=\"u86802786\" id=\"u86802786\">安装SDK</span></h1><h3 data-lake-id=\"me0C3\" id=\"me0C3\"><span data-lake-id=\"u66954404\" id=\"u66954404\">检查SDK先决条件</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%A1%AE%E4%BF%9D%E4%BD%A0%E5%B7%B2%E7%BB%8F%E5%AE%89%E8%A3%85%E4%BA%86Qtcreator%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22s6dWC%22%7D\"></card><h3 data-lake-id=\"rGZjm\" id=\"rGZjm\"><span data-lake-id=\"u20b183ce\" id=\"u20b183ce\">检索C ++ SDK</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%A3%80%E7%B4%A2C%20%2B%2B%20SDK%E5%AD%98%E6%A1%A3%EF%BC%9A%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22UMw2p%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22naoqi-sdk-x.x.x-%5BOS%5D.tar.gz%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22y070r%22%7D\"></card><ul list=\"u22961364\"><li fid=\"ubf8a57f1\" data-lake-id=\"73fc6dfd2ed6eb393f3944a1dc5da0f3\" id=\"73fc6dfd2ed6eb393f3944a1dc5da0f3\"><span data-lake-id=\"u5d6bff3a\" id=\"u5d6bff3a\">您可以从Aldebaran社区网站下载最新版本。<br /></span><span data-lake-id=\"ub3e6eabc\" id=\"ub3e6eabc\">请小心选择与您的操作系统相对应的存档（当前选择使用Linux）。</span></li></ul><h3 data-lake-id=\"CFhHi\" id=\"CFhHi\"><span data-lake-id=\"uc6bff196\" id=\"uc6bff196\">解压</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%9C%A8%E7%94%B5%E8%84%91%E4%B8%8A%E8%A7%A3%E5%8E%8B%EF%BC%88%E6%88%91%E4%BB%AC%E5%81%87%E8%AE%BE%E8%A7%A3%E5%8E%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%BAnaoqi-sdk%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226fqtv%22%7D\"></card><h3 data-lake-id=\"hrDE3\" id=\"hrDE3\"><span data-lake-id=\"ua2bd8a4e\" id=\"ua2bd8a4e\">初始化</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%9C%A8%E4%BD%A0%E6%83%B3%E5%AD%98%E5%82%A8C%20%2B%2B%20SDK%E7%9A%84%E5%9C%B0%E6%96%B9%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%88%E6%88%91%E4%BB%AC%E7%A7%B0%E4%B9%8B%E4%B8%BA%2F%20path%2Fto%2FSDKfolder%EF%BC%89%E3%80%82%5Cn%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E5%B9%B6%E8%BD%AC%E5%88%B0%E8%AF%A5%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82%5Cn%E8%BE%93%E5%85%A5%E6%AD%A4%E5%91%BD%E4%BB%A4%E4%BB%A5%E5%88%9B%E5%BB%BA%E5%B7%A5%E4%BD%9C%E6%A0%91%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22bfbya%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22qibuild%20init%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QKrCh%22%7D\"></card><h3 data-lake-id=\"wVDGG\" id=\"wVDGG\"><span data-lake-id=\"ue1434278\" id=\"ue1434278\">配置SDK</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%84%B6%E5%90%8E%E5%B0%86%E6%82%A8%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9naoqi-sdk%E5%A4%8D%E5%88%B6%E5%88%B0%E6%82%A8%E7%9A%84SDK%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E3%80%82%20%E4%BD%A0%E4%BC%9A%E5%BE%97%E5%88%B0%E5%A6%82%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%9A%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22jALeV%22%7D\"></card><blockquote data-lake-id=\"u817710d4\" id=\"u817710d4\"><p data-lake-id=\"0d273151ac61b4375f79db313443c75e\" id=\"0d273151ac61b4375f79db313443c75e\"><span data-lake-id=\"u84e94722\" id=\"u84e94722\">/path/to/SDKfolder/naoqi-sdk</span></p></blockquote><h1 data-lake-id=\"Dh6h5\" id=\"Dh6h5\"><span data-lake-id=\"u3a6b2b80\" id=\"u3a6b2b80\">编译并执行一个例子</span></h1><ol list=\"ue347321c\"><li fid=\"ue04e9e5d\" data-lake-id=\"e042794fc3cc7ea22594f02611ad03c5\" id=\"e042794fc3cc7ea22594f02611ad03c5\"><span data-lake-id=\"u2765681f\" id=\"u2765681f\">在cmd中进入SDK目录，打开doc/dev/cpp/examples目录</span></li></ol><blockquote data-lake-id=\"u6b12fa72\" id=\"u6b12fa72\"><p data-lake-id=\"4dfec40441fd96cdd8bb9df897e02f2e\" id=\"4dfec40441fd96cdd8bb9df897e02f2e\"><span data-lake-id=\"u2b0d2404\" id=\"u2b0d2404\">cd /path/to/SDKfolder/naoqi-sdk/doc/dev/cpp/examples</span></p></blockquote><ol list=\"u4f401d8f\"><li fid=\"uae9843d3\" data-lake-id=\"1ff8816c5101d3bc070adc2ac2fcb208\" id=\"1ff8816c5101d3bc070adc2ac2fcb208\"><span data-lake-id=\"u37c6d8cb\" id=\"u37c6d8cb\">输入以下命令创建一个工具链使用来自C ++ SDK的提要：</span></li></ol><blockquote data-lake-id=\"u1c0bfd79\" id=\"u1c0bfd79\"><p data-lake-id=\"a29db0528e4c30b8ba14010cf492e286\" id=\"a29db0528e4c30b8ba14010cf492e286\"><span data-lake-id=\"uc01f97da\" id=\"uc01f97da\">$ qitoolchain create mytoolchain /path/to/SDKfolder/naoqi-sdk/toolchain.xml</span></p></blockquote><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22mytoolchain%E6%98%AF%E4%BD%A0%E6%83%B3%E8%A6%81%E7%BB%99%E8%BF%99%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%B7%A5%E5%85%B7%E9%93%BE%E7%9A%84%E5%90%8D%E5%AD%97%EF%BC%88%E4%BD%A0%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%AE%9A%E4%B9%89%EF%BC%89%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22PfjG7%22%7D\"></card><ol list=\"u3e2af408\" start=\"3\"><li fid=\"u298384e4\" data-lake-id=\"03dc398be52bb9cba14f57f35fc4fdad\" id=\"03dc398be52bb9cba14f57f35fc4fdad\"><span data-lake-id=\"u657c1453\" id=\"u657c1453\">输入以下命令以创建与此工具链关联的构建配置，并确保此配置是此工作树的默认配置：</span></li></ol><blockquote data-lake-id=\"u0197c42e\" id=\"u0197c42e\"><p data-lake-id=\"3f9feff943c13368eaaccd9a959e3e38\" id=\"3f9feff943c13368eaaccd9a959e3e38\"><span data-lake-id=\"ub63bc704\" id=\"ub63bc704\">qibuild add-config mytoolchain -t mytoolchain --default</span></p></blockquote><ol list=\"u1a795a3b\" start=\"4\"><li fid=\"ub00fa11b\" data-lake-id=\"5680fe2dae4e87cf7a63b00fc42dcd58\" id=\"5680fe2dae4e87cf7a63b00fc42dcd58\"><span data-lake-id=\"ub6cb2d08\" id=\"ub6cb2d08\">输入以下命令以配置和构建sayhelloworld项目：</span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20cd%20core%2Fsayhelloworld%5Cn%24%20qibuild%20configure%5Cn%24%20qibuild%20make%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%229wUnW%22%7D\"></card><ol list=\"u5abec407\" start=\"5\"><li fid=\"u3a3431c8\" data-lake-id=\"154c80aaa2bfc838061610752d04171f\" id=\"154c80aaa2bfc838061610752d04171f\"><span data-lake-id=\"u919e9505\" id=\"u919e9505\">您现在可以从：sayhelloworld/build-mytoolchain/sdk/bin运行生成的二进制文件</span></li></ol><p data-lake-id=\"00495a52085b32a1ed15c26f09e23b21\" id=\"00495a52085b32a1ed15c26f09e23b21\"><span data-lake-id=\"udbcbbd7b\" id=\"udbcbbd7b\">预祝配置顺利。</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VH5ZV%22%7D\"></card><p data-lake-id=\"039ca53ec6533e2cd3238576b68252f6\" id=\"039ca53ec6533e2cd3238576b68252f6\"><span data-lake-id=\"ua733f695\" id=\"ua733f695\">date: 2018-05-25 10:12:32+00:00</span></p><p data-lake-id=\"b43dc4831a1e1b7bd49aa4772ecb8c92\" id=\"b43dc4831a1e1b7bd49aa4772ecb8c92\"><span data-lake-id=\"u1beea548\" id=\"u1beea548\">layout: post</span></p><p data-lake-id=\"cc11bafba3a3c7eeaae7ba9f3886556a\" id=\"cc11bafba3a3c7eeaae7ba9f3886556a\"><span data-lake-id=\"ude706e2b\" id=\"ude706e2b\">title: NAO机器人语音识别（一）：配置环境</span></p><p data-lake-id=\"0b5bef38fbbd0fc37d83935a5ce0d4c4\" id=\"0b5bef38fbbd0fc37d83935a5ce0d4c4\"><span data-lake-id=\"u4874d32d\" id=\"u4874d32d\">categories: nao</span></p><p data-lake-id=\"019b982cab026062774d5b7cd788028c\" id=\"019b982cab026062774d5b7cd788028c\"><span data-lake-id=\"ub0b54895\" id=\"ub0b54895\">tags:</span></p><ul list=\"u2b132193\"><li fid=\"ufbb0ce92\" data-lake-id=\"119dad912179ae05933377cdceefb56e\" id=\"119dad912179ae05933377cdceefb56e\"><span data-lake-id=\"ud546bf1c\" id=\"ud546bf1c\">nao</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22QpT8o%22%7D\"></card><p data-lake-id=\"ed4d6bbd32380b7a99ae6d8dfa59e24d\" id=\"ed4d6bbd32380b7a99ae6d8dfa59e24d\"><span data-lake-id=\"u38959c2c\" id=\"u38959c2c\">更多内容请点击</span><a href=\"http:_doc.aldebaran.com_2-1_dev_cpp_install_guide\" target=\"_blank\" data-lake-id=\"u2c62a253\" id=\"u2c62a253\"><span data-lake-id=\"u8f8c7793\" id=\"u8f8c7793\">官方文档</span></a></p><h1 data-lake-id=\"N9vZ1\" id=\"N9vZ1\"><span data-lake-id=\"udc2289be\" id=\"udc2289be\">准备工作</span></h1><p data-lake-id=\"f927d88c23fc6f3d782da3eda2cb8df1\" id=\"f927d88c23fc6f3d782da3eda2cb8df1\"><strong><span data-lake-id=\"u56ff7139\" id=\"u56ff7139\">系统</span></strong><span data-lake-id=\"u78b8247a\" id=\"u78b8247a\">：Ubuntu 14.04 LTS 64-bit</span></p><p data-lake-id=\"c8e3573f4d0d65cf6755fa2b220dfc68\" id=\"c8e3573f4d0d65cf6755fa2b220dfc68\"><span data-lake-id=\"ud02a88e3\" id=\"ud02a88e3\">警告：暂不支持Ubuntu 16.04 LTS</span></p><p data-lake-id=\"435d555e6c2059da0ec0409f649a576b\" id=\"435d555e6c2059da0ec0409f649a576b\"><strong><span data-lake-id=\"u959e5c2e\" id=\"u959e5c2e\">GCC</span></strong><span data-lake-id=\"uc740129b\" id=\"uc740129b\">：4.4版本或更高</span></p><p data-lake-id=\"d4106f2d5a841b7529e44455e92fe390\" id=\"d4106f2d5a841b7529e44455e92fe390\"><strong><span data-lake-id=\"u6c5d11b2\" id=\"u6c5d11b2\">QtCreator</span></strong><span data-lake-id=\"u3281ce8b\" id=\"u3281ce8b\">：建议使用最新版本</span></p><p data-lake-id=\"bff4b3421dd85036caaf486412d016e8\" id=\"bff4b3421dd85036caaf486412d016e8\"><strong><span data-lake-id=\"u5df27ea4\" id=\"u5df27ea4\">CMake</span></strong><span data-lake-id=\"u928eb00b\" id=\"u928eb00b\">：2.8.3版本或者更高（建议使用发行版提供的cmake软件包）</span></p><h1 data-lake-id=\"IGzJa\" id=\"IGzJa\"><span data-lake-id=\"u4ff67df3\" id=\"u4ff67df3\">安装 qibuild</span></h1><h2 data-lake-id=\"QyvY1\" id=\"QyvY1\"><span data-lake-id=\"u48452f78\" id=\"u48452f78\">准备</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22qiBuild%E6%98%AF%E4%B8%80%E7%BB%84%E7%94%A8Python%E7%BC%96%E5%86%99%E7%9A%84%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7%E3%80%82%5Cn%E5%8F%AA%E6%94%AF%E6%8C%81Python%202.7%E3%80%82%5Cn%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E7%8E%B0%E5%9C%A8%E5%A4%A7%E5%A4%9A%E6%95%B0Linux%E5%8F%91%E8%A1%8C%E7%89%88%E7%8E%B0%E5%9C%A8%E9%BB%98%E8%AE%A4%E9%83%BD%E5%B8%A6%E6%9C%89Python3%EF%BC%8C%E5%9B%A0%E6%AD%A4%E6%82%A8%E5%8F%AF%E8%83%BD%E9%9C%80%E8%A6%81%E5%85%88%E5%AE%89%E8%A3%85Python%202%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%2286sL7%22%7D\"></card><h2 data-lake-id=\"xLIgz\" id=\"xLIgz\"><span data-lake-id=\"u37ef6250\" id=\"u37ef6250\">安装</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BD%BF%E7%94%A8pip%E8%BF%9B%E8%A1%8C%E5%AE%89%E8%A3%85%5Cn%E5%BB%BA%E8%AE%AE%E4%BD%BF%E7%94%A8--user%E9%80%89%E9%A1%B9%E5%AE%89%E8%A3%85qibuild%EF%BC%8C%E4%BB%A5%E4%BF%9D%E6%8C%81%E7%B3%BB%E7%BB%9F%E7%8B%AC%E7%AB%8B%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CM9eW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20qibuild%20--user%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kSVzh%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%B0%86%20%24HOME%2F.local%2Fbin%E6%B7%BB%E5%8A%A0%E5%88%B0%E6%82%A8%E7%9A%84%24PATH%E4%B8%AD%E3%80%82%5Cn%E4%B8%80%E7%A7%8D%E6%96%B9%E6%B3%95%E6%98%AF%E5%9C%A8%E3%80%9C%2F.bashrc%E6%96%87%E4%BB%B6%E7%9A%84%E6%9C%AB%E5%B0%BE%E6%B7%BB%E5%8A%A0%E4%BB%A5%E4%B8%8B%E8%A1%8C%EF%BC%9A%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22NZwnW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22PATH%3D%24PATH%3A%24HOME%2F.local%2Fbin%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ddYw1%22%7D\"></card><h2 data-lake-id=\"abk7s\" id=\"abk7s\"><span data-lake-id=\"u73fe491a\" id=\"u73fe491a\">配置</span></h2><p data-lake-id=\"e3c5ba823cf4e108c39fe53141bda7fd\" id=\"e3c5ba823cf4e108c39fe53141bda7fd\"><span data-lake-id=\"uc6f4a28a\" id=\"uc6f4a28a\">运行：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20qibuild%20config%20--wizard%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22lJ9fU%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%B3%BB%E7%BB%9F%E5%B0%86%E6%8F%90%E7%A4%BA%E6%82%A8%E6%8C%87%E5%AE%9A%EF%BC%9A%5CnCMake%E8%B7%AF%E5%BE%84%EF%BC%88%E5%A6%82%E6%9E%9C%E4%B8%8D%E8%83%BD%E8%87%AA%E5%8A%A8%E6%89%BE%E5%88%B0%EF%BC%89%EF%BC%8C%5CnCMake%20Generator%E5%92%8C%E6%82%A8%E5%B0%86%E4%BD%BF%E7%94%A8%E7%9A%84IDE%E3%80%82%5Cn%E5%BB%BA%E8%AE%AE%E5%9C%A8Linux%E5%92%8CMac%E4%B8%8A%E4%BD%BF%E7%94%A8'Unix%20Makefiles'%E3%80%82%5Cn%E8%AF%B7%E6%B3%A8%E6%84%8F%EF%BC%8C%E6%82%A8%E4%BB%8D%E5%8F%AF%E4%BB%A5%E5%9C%A8%E4%BB%BB%E4%BD%95%E6%97%B6%E5%80%99%E9%87%8D%E6%96%B0%E8%BF%90%E8%A1%8C%E9%85%8D%E7%BD%AE%E5%90%91%E5%AF%BC%E3%80%82%5Cn%E7%BB%93%E6%9E%9C%EF%BC%9A%E5%9C%A8%E3%80%9C%2F.config%2Fqi%2Fqibuild.xml%E4%B8%AD%E7%94%9F%E6%88%90%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E3%80%82%20%E5%AE%83%E7%94%B1%E6%82%A8%E5%B0%86%E5%88%9B%E5%BB%BA%E7%9A%84%E6%89%80%E6%9C%89%E5%B7%A5%E4%BD%9C%E6%A0%91%E5%85%B1%E4%BA%AB%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222yWF6%22%7D\"></card><h1 data-lake-id=\"FcMrs\" id=\"FcMrs\"><span data-lake-id=\"u86802786\" id=\"u86802786\">安装SDK</span></h1><h3 data-lake-id=\"me0C3\" id=\"me0C3\"><span data-lake-id=\"u66954404\" id=\"u66954404\">检查SDK先决条件</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%A1%AE%E4%BF%9D%E4%BD%A0%E5%B7%B2%E7%BB%8F%E5%AE%89%E8%A3%85%E4%BA%86Qtcreator%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22s6dWC%22%7D\"></card><h3 data-lake-id=\"rGZjm\" id=\"rGZjm\"><span data-lake-id=\"u20b183ce\" id=\"u20b183ce\">检索C ++ SDK</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%A3%80%E7%B4%A2C%20%2B%2B%20SDK%E5%AD%98%E6%A1%A3%EF%BC%9A%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22UMw2p%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22naoqi-sdk-x.x.x-%5BOS%5D.tar.gz%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22y070r%22%7D\"></card><ul list=\"u22961364\"><li fid=\"ubf8a57f1\" data-lake-id=\"73fc6dfd2ed6eb393f3944a1dc5da0f3\" id=\"73fc6dfd2ed6eb393f3944a1dc5da0f3\"><span data-lake-id=\"u5d6bff3a\" id=\"u5d6bff3a\">您可以从Aldebaran社区网站下载最新版本。<br /></span><span data-lake-id=\"ub3e6eabc\" id=\"ub3e6eabc\">请小心选择与您的操作系统相对应的存档（当前选择使用Linux）。</span></li></ul><h3 data-lake-id=\"CFhHi\" id=\"CFhHi\"><span data-lake-id=\"uc6bff196\" id=\"uc6bff196\">解压</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%9C%A8%E7%94%B5%E8%84%91%E4%B8%8A%E8%A7%A3%E5%8E%8B%EF%BC%88%E6%88%91%E4%BB%AC%E5%81%87%E8%AE%BE%E8%A7%A3%E5%8E%8B%E7%9A%84%E6%96%87%E4%BB%B6%E5%90%8D%E4%B8%BAnaoqi-sdk%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226fqtv%22%7D\"></card><h3 data-lake-id=\"hrDE3\" id=\"hrDE3\"><span data-lake-id=\"ua2bd8a4e\" id=\"ua2bd8a4e\">初始化</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%9C%A8%E4%BD%A0%E6%83%B3%E5%AD%98%E5%82%A8C%20%2B%2B%20SDK%E7%9A%84%E5%9C%B0%E6%96%B9%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E7%A9%BA%E6%96%87%E4%BB%B6%E5%A4%B9%EF%BC%88%E6%88%91%E4%BB%AC%E7%A7%B0%E4%B9%8B%E4%B8%BA%2F%20path%2Fto%2FSDKfolder%EF%BC%89%E3%80%82%5Cn%E6%89%93%E5%BC%80%E5%91%BD%E4%BB%A4%E6%8F%90%E7%A4%BA%E7%AC%A6%E5%B9%B6%E8%BD%AC%E5%88%B0%E8%AF%A5%E6%96%87%E4%BB%B6%E5%A4%B9%E3%80%82%5Cn%E8%BE%93%E5%85%A5%E6%AD%A4%E5%91%BD%E4%BB%A4%E4%BB%A5%E5%88%9B%E5%BB%BA%E5%B7%A5%E4%BD%9C%E6%A0%91%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22bfbya%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22qibuild%20init%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QKrCh%22%7D\"></card><h3 data-lake-id=\"wVDGG\" id=\"wVDGG\"><span data-lake-id=\"ue1434278\" id=\"ue1434278\">配置SDK</span></h3><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%84%B6%E5%90%8E%E5%B0%86%E6%82%A8%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9naoqi-sdk%E5%A4%8D%E5%88%B6%E5%88%B0%E6%82%A8%E7%9A%84SDK%E6%96%87%E4%BB%B6%E5%A4%B9%E4%B8%AD%E3%80%82%20%E4%BD%A0%E4%BC%9A%E5%BE%97%E5%88%B0%E5%A6%82%E4%B8%8B%E7%9A%84%E6%96%87%E4%BB%B6%EF%BC%9A%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22jALeV%22%7D\"></card><blockquote data-lake-id=\"u817710d4\" id=\"u817710d4\"><p data-lake-id=\"0d273151ac61b4375f79db313443c75e\" id=\"0d273151ac61b4375f79db313443c75e\"><span data-lake-id=\"u84e94722\" id=\"u84e94722\">/path/to/SDKfolder/naoqi-sdk</span></p></blockquote><h1 data-lake-id=\"Dh6h5\" id=\"Dh6h5\"><span data-lake-id=\"u3a6b2b80\" id=\"u3a6b2b80\">编译并执行一个例子</span></h1><ol list=\"ue347321c\"><li fid=\"ue04e9e5d\" data-lake-id=\"e042794fc3cc7ea22594f02611ad03c5\" id=\"e042794fc3cc7ea22594f02611ad03c5\"><span data-lake-id=\"u2765681f\" id=\"u2765681f\">在cmd中进入SDK目录，打开doc/dev/cpp/examples目录</span></li></ol><blockquote data-lake-id=\"u6b12fa72\" id=\"u6b12fa72\"><p data-lake-id=\"4dfec40441fd96cdd8bb9df897e02f2e\" id=\"4dfec40441fd96cdd8bb9df897e02f2e\"><span data-lake-id=\"u2b0d2404\" id=\"u2b0d2404\">cd /path/to/SDKfolder/naoqi-sdk/doc/dev/cpp/examples</span></p></blockquote><ol list=\"u4f401d8f\"><li fid=\"uae9843d3\" data-lake-id=\"1ff8816c5101d3bc070adc2ac2fcb208\" id=\"1ff8816c5101d3bc070adc2ac2fcb208\"><span data-lake-id=\"u37c6d8cb\" id=\"u37c6d8cb\">输入以下命令创建一个工具链使用来自C ++ SDK的提要：</span></li></ol><blockquote data-lake-id=\"u1c0bfd79\" id=\"u1c0bfd79\"><p data-lake-id=\"a29db0528e4c30b8ba14010cf492e286\" id=\"a29db0528e4c30b8ba14010cf492e286\"><span data-lake-id=\"uc01f97da\" id=\"uc01f97da\">$ qitoolchain create mytoolchain /path/to/SDKfolder/naoqi-sdk/toolchain.xml</span></p></blockquote><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22mytoolchain%E6%98%AF%E4%BD%A0%E6%83%B3%E8%A6%81%E7%BB%99%E8%BF%99%E4%B8%AA%E7%89%B9%E5%AE%9A%E5%B7%A5%E5%85%B7%E9%93%BE%E7%9A%84%E5%90%8D%E5%AD%97%EF%BC%88%E4%BD%A0%E5%8F%AF%E4%BB%A5%E8%87%AA%E5%AE%9A%E4%B9%89%EF%BC%89%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22PfjG7%22%7D\"></card><ol list=\"u3e2af408\" start=\"3\"><li fid=\"u298384e4\" data-lake-id=\"03dc398be52bb9cba14f57f35fc4fdad\" id=\"03dc398be52bb9cba14f57f35fc4fdad\"><span data-lake-id=\"u657c1453\" id=\"u657c1453\">输入以下命令以创建与此工具链关联的构建配置，并确保此配置是此工作树的默认配置：</span></li></ol><blockquote data-lake-id=\"u0197c42e\" id=\"u0197c42e\"><p data-lake-id=\"3f9feff943c13368eaaccd9a959e3e38\" id=\"3f9feff943c13368eaaccd9a959e3e38\"><span data-lake-id=\"ub63bc704\" id=\"ub63bc704\">qibuild add-config mytoolchain -t mytoolchain --default</span></p></blockquote><ol list=\"u1a795a3b\" start=\"4\"><li fid=\"ub00fa11b\" data-lake-id=\"5680fe2dae4e87cf7a63b00fc42dcd58\" id=\"5680fe2dae4e87cf7a63b00fc42dcd58\"><span data-lake-id=\"ub6cb2d08\" id=\"ub6cb2d08\">输入以下命令以配置和构建sayhelloworld项目：</span></li></ol><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%24%20cd%20core%2Fsayhelloworld%5Cn%24%20qibuild%20configure%5Cn%24%20qibuild%20make%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%229wUnW%22%7D\"></card><ol list=\"u5abec407\" start=\"5\"><li fid=\"u3a3431c8\" data-lake-id=\"154c80aaa2bfc838061610752d04171f\" id=\"154c80aaa2bfc838061610752d04171f\"><span data-lake-id=\"u919e9505\" id=\"u919e9505\">您现在可以从：sayhelloworld/build-mytoolchain/sdk/bin运行生成的二进制文件</span></li></ol><p data-lake-id=\"00495a52085b32a1ed15c26f09e23b21\" id=\"00495a52085b32a1ed15c26f09e23b21\"><span data-lake-id=\"udbcbbd7b\" id=\"udbcbbd7b\">预祝配置顺利。</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:02:29.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:24.000Z",
    "updated_at": "2022-12-11T13:02:29.000Z",
    "published_at": "2022-12-11T13:02:29.000Z",
    "first_published_at": "2022-12-09T12:02:23.745Z",
    "word_count": 702,
    "cover": null,
    "description": "date: 2018-05-25 10:12:32+00:00layout: posttitle: NAO机器人语音识别（一）：配置环境categories: naotags:nao更多内容请点击官方文档准备工作系统：Ubuntu 14.04 LTS 64-bit警告：暂不支持Ubuntu 1...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945032,
    "slug": "be174583c685d448cb0d97795ed4d589",
    "title": "2018-04-12-HTML速查列表",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-04-12 10:12:32+00:00<br />layout: post<br />title: HTML速查列表<br />categories: html<br />tags:\n\n- HTML\n\n---\n\n<a name=\"RBndV\"></a>\n# HTML 基本文档\n```\n<!DOCTYPE html>\n<html>\n<head>\n<title>文档标题</title>\n</head>\n<body>\n可见文本...\n</body>\n</html>\n```\n<a name=\"afEy4\"></a>\n# 基本标签（Basic Tags）\n```\n<h1>最大的标题</h1>\n<h2> . . . </h2>\n<h3> . . . </h3>\n<h4> . . . </h4>\n<h5> . . . </h5>\n<h6>最小的标题</h6>\n \n<p>这是一个段落。</p>\n<br> （换行）\n<hr> （水平线）\n<!-- 这是注释 -->\n```\n<a name=\"Kl88z\"></a>\n# 文本格式化（Formatting）\n```\n<b>粗体文本</b>\n<code>计算机代码</code>\n<em>强调文本</em>\n<i>斜体文本</i>\n<kbd>键盘输入</kbd> \n<pre>预格式化文本</pre>\n<small>更小的文本</small>\n<strong>重要的文本</strong>\n \n<abbr> （缩写）\n<address> （联系信息）\n<bdo> （文字方向）\n<blockquote> （从另一个源引用的部分）\n<cite> （工作的名称）\n<del> （删除的文本）\n<ins> （插入的文本）\n<sub> （下标文本）\n<sup> （上标文本）\n```\n<a name=\"Cm3Jy\"></a>\n# 链接（Links）\n```\n普通的链接：<a href=\"http://www.example.com/\">链接文本</a>\n图像链接： <a href=\"http://www.example.com/\"><img src=\"URL\" alt=\"替换文本\"></a>\n邮件链接： <a href=\"mailto:webmaster@example.com\">发送e-mail</a>\n书签：\n<a id=\"tips\">提示部分</a>\n<a href=\"#tips\">跳到提示部分</a>\n```\n<a name=\"S0pNa\"></a>\n# 图片（Images）\n```\n<img src=\"URL\" alt=\"替换文本\" height=\"42\" width=\"42\">\n```\n<a name=\"fiZMZ\"></a>\n# 样式/区块（Styles/Sections）\n```\n<style type=\"text/css\">\nh1 {color:red;}\np {color:blue;}\n</style>\n<div>文档中的块级元素</div>\n<span>文档中的内联元素</span>\n```\n<a name=\"qSL7b\"></a>\n# 无序列表\n```\n<ul>\n    <li>项目</li>\n    <li>项目</li>\n</ul>\n```\n<a name=\"AJVyD\"></a>\n# 有序列表\n```\n<ol>\n    <li>第一项</li>\n    <li>第二项</li>\n</ol>\n```\n<a name=\"EfLxN\"></a>\n# 定义列表\n```\n<dl>\n  <dt>项目 1</dt>\n    <dd>描述项目 1</dd>\n  <dt>项目 2</dt>\n    <dd>描述项目 2</dd>\n</dl>\n```\n<a name=\"k04nh\"></a>\n# 表格（Tables）\n```\n<table border=\"1\">\n  <tr>\n    <th>表格标题</th>\n    <th>表格标题</th>\n  </tr>\n  <tr>\n    <td>表格数据</td>\n    <td>表格数据</td>\n  </tr>\n</table>\n```\n<a name=\"hbNoE\"></a>\n# 框架（Iframe）\n```\n框架（Iframe）\n```\n<a name=\"v3lvR\"></a>\n# 表单（Forms）\n```\n<form action=\"demo_form.php\" method=\"post/get\">\n<input type=\"text\" name=\"email\" size=\"40\" maxlength=\"50\">\n<input type=\"password\">\n<input type=\"checkbox\" checked=\"checked\">\n<input type=\"radio\" checked=\"checked\">\n<input type=\"submit\" value=\"Send\">\n<input type=\"reset\">\n<input type=\"hidden\">\n<select>\n<option>苹果</option>\n<option selected=\"selected\">香蕉</option>\n<option>樱桃</option>\n</select>\n<textarea name=\"comment\" rows=\"60\" cols=\"20\"></textarea>\n \n</form>\n```\n<a name=\"pAs02\"></a>\n# 实体（Entities）\n```\n&lt; 等同于 <\n&gt; 等同于 >\n&#169; 等同于 ©\n```\n",
    "body_draft": "---\n\ndate: 2018-04-12 10:12:32+00:00<br />layout: post<br />title: HTML速查列表<br />categories: html<br />tags:\n\n- HTML\n\n---\n\n<a name=\"RBndV\"></a>\n# HTML 基本文档\n```\n<!DOCTYPE html>\n<html>\n<head>\n<title>文档标题</title>\n</head>\n<body>\n可见文本...\n</body>\n</html>\n```\n<a name=\"afEy4\"></a>\n# 基本标签（Basic Tags）\n```\n<h1>最大的标题</h1>\n<h2> . . . </h2>\n<h3> . . . </h3>\n<h4> . . . </h4>\n<h5> . . . </h5>\n<h6>最小的标题</h6>\n \n<p>这是一个段落。</p>\n<br> （换行）\n<hr> （水平线）\n<!-- 这是注释 -->\n```\n<a name=\"Kl88z\"></a>\n# 文本格式化（Formatting）\n```\n<b>粗体文本</b>\n<code>计算机代码</code>\n<em>强调文本</em>\n<i>斜体文本</i>\n<kbd>键盘输入</kbd> \n<pre>预格式化文本</pre>\n<small>更小的文本</small>\n<strong>重要的文本</strong>\n \n<abbr> （缩写）\n<address> （联系信息）\n<bdo> （文字方向）\n<blockquote> （从另一个源引用的部分）\n<cite> （工作的名称）\n<del> （删除的文本）\n<ins> （插入的文本）\n<sub> （下标文本）\n<sup> （上标文本）\n```\n<a name=\"Cm3Jy\"></a>\n# 链接（Links）\n```\n普通的链接：<a href=\"http://www.example.com/\">链接文本</a>\n图像链接： <a href=\"http://www.example.com/\"><img src=\"URL\" alt=\"替换文本\"></a>\n邮件链接： <a href=\"mailto:webmaster@example.com\">发送e-mail</a>\n书签：\n<a id=\"tips\">提示部分</a>\n<a href=\"#tips\">跳到提示部分</a>\n```\n<a name=\"S0pNa\"></a>\n# 图片（Images）\n```\n<img src=\"URL\" alt=\"替换文本\" height=\"42\" width=\"42\">\n```\n<a name=\"fiZMZ\"></a>\n# 样式/区块（Styles/Sections）\n```\n<style type=\"text/css\">\nh1 {color:red;}\np {color:blue;}\n</style>\n<div>文档中的块级元素</div>\n<span>文档中的内联元素</span>\n```\n<a name=\"qSL7b\"></a>\n# 无序列表\n```\n<ul>\n    <li>项目</li>\n    <li>项目</li>\n</ul>\n```\n<a name=\"AJVyD\"></a>\n# 有序列表\n```\n<ol>\n    <li>第一项</li>\n    <li>第二项</li>\n</ol>\n```\n<a name=\"EfLxN\"></a>\n# 定义列表\n```\n<dl>\n  <dt>项目 1</dt>\n    <dd>描述项目 1</dd>\n  <dt>项目 2</dt>\n    <dd>描述项目 2</dd>\n</dl>\n```\n<a name=\"k04nh\"></a>\n# 表格（Tables）\n```\n<table border=\"1\">\n  <tr>\n    <th>表格标题</th>\n    <th>表格标题</th>\n  </tr>\n  <tr>\n    <td>表格数据</td>\n    <td>表格数据</td>\n  </tr>\n</table>\n```\n<a name=\"hbNoE\"></a>\n# 框架（Iframe）\n```\n框架（Iframe）\n```\n<a name=\"v3lvR\"></a>\n# 表单（Forms）\n```\n<form action=\"demo_form.php\" method=\"post/get\">\n<input type=\"text\" name=\"email\" size=\"40\" maxlength=\"50\">\n<input type=\"password\">\n<input type=\"checkbox\" checked=\"checked\">\n<input type=\"radio\" checked=\"checked\">\n<input type=\"submit\" value=\"Send\">\n<input type=\"reset\">\n<input type=\"hidden\">\n<select>\n<option>苹果</option>\n<option selected=\"selected\">香蕉</option>\n<option>樱桃</option>\n</select>\n<textarea name=\"comment\" rows=\"60\" cols=\"20\"></textarea>\n \n</form>\n```\n<a name=\"pAs02\"></a>\n# 实体（Entities）\n```\n&lt; 等同于 <\n&gt; 等同于 >\n&#169; 等同于 ©\n```\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"cVXfw\" class=\"ne-hr\"><p id=\"4761c332fe1bfe77db9cfeaeebddf6ea\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-04-12 10:12:32+00:00</span></p><p id=\"7e96d711a24dabea2563f15d9adb50d9\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"598ec3c764412ea6fae66560f10e064d\" class=\"ne-p\"><span class=\"ne-text\">title: HTML速查列表</span></p><p id=\"b075e6e0ada58a50c0be19a8da595a73\" class=\"ne-p\"><span class=\"ne-text\">categories: html</span></p><p id=\"60eae9f5b86e63a3c5ae20b1e14e55ea\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"0eecf8fd56f5402891ad7d21015621c9\"><span class=\"ne-text\">HTML</span></li></ul><hr id=\"nXJoA\" class=\"ne-hr\"><h1 id=\"RBndV\"><span class=\"ne-text\">HTML 基本文档</span></h1><pre data-language=\"plain\" id=\"o4CHk\" class=\"ne-codeblock language-plain\">&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;文档标题&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n可见文本...\n&lt;/body&gt;\n&lt;/html&gt;</pre><h1 id=\"afEy4\"><span class=\"ne-text\">基本标签（Basic Tags）</span></h1><pre data-language=\"plain\" id=\"kuyQJ\" class=\"ne-codeblock language-plain\">&lt;h1&gt;最大的标题&lt;/h1&gt;\n&lt;h2&gt; . . . &lt;/h2&gt;\n&lt;h3&gt; . . . &lt;/h3&gt;\n&lt;h4&gt; . . . &lt;/h4&gt;\n&lt;h5&gt; . . . &lt;/h5&gt;\n&lt;h6&gt;最小的标题&lt;/h6&gt;\n \n&lt;p&gt;这是一个段落。&lt;/p&gt;\n&lt;br&gt; （换行）\n&lt;hr&gt; （水平线）\n&lt;!-- 这是注释 --&gt;</pre><h1 id=\"Kl88z\"><span class=\"ne-text\">文本格式化（Formatting）</span></h1><pre data-language=\"plain\" id=\"nFQPF\" class=\"ne-codeblock language-plain\">&lt;b&gt;粗体文本&lt;/b&gt;\n&lt;code&gt;计算机代码&lt;/code&gt;\n&lt;em&gt;强调文本&lt;/em&gt;\n&lt;i&gt;斜体文本&lt;/i&gt;\n&lt;kbd&gt;键盘输入&lt;/kbd&gt; \n&lt;pre&gt;预格式化文本&lt;/pre&gt;\n&lt;small&gt;更小的文本&lt;/small&gt;\n&lt;strong&gt;重要的文本&lt;/strong&gt;\n \n&lt;abbr&gt; （缩写）\n&lt;address&gt; （联系信息）\n&lt;bdo&gt; （文字方向）\n&lt;blockquote&gt; （从另一个源引用的部分）\n&lt;cite&gt; （工作的名称）\n&lt;del&gt; （删除的文本）\n&lt;ins&gt; （插入的文本）\n&lt;sub&gt; （下标文本）\n&lt;sup&gt; （上标文本）</pre><h1 id=\"Cm3Jy\"><span class=\"ne-text\">链接（Links）</span></h1><pre data-language=\"plain\" id=\"5FdIg\" class=\"ne-codeblock language-plain\">普通的链接：&lt;a href=&quot;http://www.example.com/&quot;&gt;链接文本&lt;/a&gt;\n图像链接： &lt;a href=&quot;http://www.example.com/&quot;&gt;&lt;img src=&quot;URL&quot; alt=&quot;替换文本&quot;&gt;&lt;/a&gt;\n邮件链接： &lt;a href=&quot;mailto:webmaster@example.com&quot;&gt;发送e-mail&lt;/a&gt;\n书签：\n&lt;a id=&quot;tips&quot;&gt;提示部分&lt;/a&gt;\n&lt;a href=&quot;#tips&quot;&gt;跳到提示部分&lt;/a&gt;</pre><h1 id=\"S0pNa\"><span class=\"ne-text\">图片（Images）</span></h1><pre data-language=\"plain\" id=\"cal9X\" class=\"ne-codeblock language-plain\">&lt;img src=&quot;URL&quot; alt=&quot;替换文本&quot; height=&quot;42&quot; width=&quot;42&quot;&gt;</pre><h1 id=\"fiZMZ\"><span class=\"ne-text\">样式/区块（Styles/Sections）</span></h1><pre data-language=\"plain\" id=\"h0Qcm\" class=\"ne-codeblock language-plain\">&lt;style type=&quot;text/css&quot;&gt;\nh1 {color:red;}\np {color:blue;}\n&lt;/style&gt;\n&lt;div&gt;文档中的块级元素&lt;/div&gt;\n&lt;span&gt;文档中的内联元素&lt;/span&gt;</pre><h1 id=\"qSL7b\"><span class=\"ne-text\">无序列表</span></h1><pre data-language=\"plain\" id=\"oNNPo\" class=\"ne-codeblock language-plain\">&lt;ul&gt;\n    &lt;li&gt;项目&lt;/li&gt;\n    &lt;li&gt;项目&lt;/li&gt;\n&lt;/ul&gt;</pre><h1 id=\"AJVyD\"><span class=\"ne-text\">有序列表</span></h1><pre data-language=\"plain\" id=\"rYseQ\" class=\"ne-codeblock language-plain\">&lt;ol&gt;\n    &lt;li&gt;第一项&lt;/li&gt;\n    &lt;li&gt;第二项&lt;/li&gt;\n&lt;/ol&gt;</pre><h1 id=\"EfLxN\"><span class=\"ne-text\">定义列表</span></h1><pre data-language=\"plain\" id=\"QMYwH\" class=\"ne-codeblock language-plain\">&lt;dl&gt;\n  &lt;dt&gt;项目 1&lt;/dt&gt;\n    &lt;dd&gt;描述项目 1&lt;/dd&gt;\n  &lt;dt&gt;项目 2&lt;/dt&gt;\n    &lt;dd&gt;描述项目 2&lt;/dd&gt;\n&lt;/dl&gt;</pre><h1 id=\"k04nh\"><span class=\"ne-text\">表格（Tables）</span></h1><pre data-language=\"plain\" id=\"QML5F\" class=\"ne-codeblock language-plain\">&lt;table border=&quot;1&quot;&gt;\n  &lt;tr&gt;\n    &lt;th&gt;表格标题&lt;/th&gt;\n    &lt;th&gt;表格标题&lt;/th&gt;\n  &lt;/tr&gt;\n  &lt;tr&gt;\n    &lt;td&gt;表格数据&lt;/td&gt;\n    &lt;td&gt;表格数据&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;/table&gt;</pre><h1 id=\"hbNoE\"><span class=\"ne-text\">框架（Iframe）</span></h1><pre data-language=\"plain\" id=\"eKeiG\" class=\"ne-codeblock language-plain\">框架（Iframe）</pre><h1 id=\"v3lvR\"><span class=\"ne-text\">表单（Forms）</span></h1><pre data-language=\"plain\" id=\"Pl4c6\" class=\"ne-codeblock language-plain\">&lt;form action=&quot;demo_form.php&quot; method=&quot;post/get&quot;&gt;\n&lt;input type=&quot;text&quot; name=&quot;email&quot; size=&quot;40&quot; maxlength=&quot;50&quot;&gt;\n&lt;input type=&quot;password&quot;&gt;\n&lt;input type=&quot;checkbox&quot; checked=&quot;checked&quot;&gt;\n&lt;input type=&quot;radio&quot; checked=&quot;checked&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;Send&quot;&gt;\n&lt;input type=&quot;reset&quot;&gt;\n&lt;input type=&quot;hidden&quot;&gt;\n&lt;select&gt;\n&lt;option&gt;苹果&lt;/option&gt;\n&lt;option selected=&quot;selected&quot;&gt;香蕉&lt;/option&gt;\n&lt;option&gt;樱桃&lt;/option&gt;\n&lt;/select&gt;\n&lt;textarea name=&quot;comment&quot; rows=&quot;60&quot; cols=&quot;20&quot;&gt;&lt;/textarea&gt;\n \n&lt;/form&gt;</pre><h1 id=\"pAs02\"><span class=\"ne-text\">实体（Entities）</span></h1><pre data-language=\"plain\" id=\"uTa2A\" class=\"ne-codeblock language-plain\">&amp;lt; 等同于 &lt;\n&amp;gt; 等同于 &gt;\n&amp;#169; 等同于 ©</pre></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22cVXfw%22%7D\"></card><p data-lake-id=\"4761c332fe1bfe77db9cfeaeebddf6ea\" id=\"4761c332fe1bfe77db9cfeaeebddf6ea\"><span data-lake-id=\"uf1424fe0\" id=\"uf1424fe0\">date: 2018-04-12 10:12:32+00:00</span></p><p data-lake-id=\"7e96d711a24dabea2563f15d9adb50d9\" id=\"7e96d711a24dabea2563f15d9adb50d9\"><span data-lake-id=\"u9552c109\" id=\"u9552c109\">layout: post</span></p><p data-lake-id=\"598ec3c764412ea6fae66560f10e064d\" id=\"598ec3c764412ea6fae66560f10e064d\"><span data-lake-id=\"u25371cca\" id=\"u25371cca\">title: HTML速查列表</span></p><p data-lake-id=\"b075e6e0ada58a50c0be19a8da595a73\" id=\"b075e6e0ada58a50c0be19a8da595a73\"><span data-lake-id=\"u09c96005\" id=\"u09c96005\">categories: html</span></p><p data-lake-id=\"60eae9f5b86e63a3c5ae20b1e14e55ea\" id=\"60eae9f5b86e63a3c5ae20b1e14e55ea\"><span data-lake-id=\"u4dccf688\" id=\"u4dccf688\">tags:</span></p><ul list=\"uf5a46121\"><li fid=\"uea762613\" data-lake-id=\"0eecf8fd56f5402891ad7d21015621c9\" id=\"0eecf8fd56f5402891ad7d21015621c9\"><span data-lake-id=\"u3c8c11b2\" id=\"u3c8c11b2\">HTML</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22nXJoA%22%7D\"></card><h1 data-lake-id=\"RBndV\" id=\"RBndV\"><span data-lake-id=\"u8260dc94\" id=\"u8260dc94\">HTML 基本文档</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C!DOCTYPE%20html%3E%5Cn%3Chtml%3E%5Cn%3Chead%3E%5Cn%3Ctitle%3E%E6%96%87%E6%A1%A3%E6%A0%87%E9%A2%98%3C%2Ftitle%3E%5Cn%3C%2Fhead%3E%5Cn%3Cbody%3E%5Cn%E5%8F%AF%E8%A7%81%E6%96%87%E6%9C%AC...%5Cn%3C%2Fbody%3E%5Cn%3C%2Fhtml%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22o4CHk%22%7D\"></card><h1 data-lake-id=\"afEy4\" id=\"afEy4\"><span data-lake-id=\"ufd28c5be\" id=\"ufd28c5be\">基本标签（Basic Tags）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Ch1%3E%E6%9C%80%E5%A4%A7%E7%9A%84%E6%A0%87%E9%A2%98%3C%2Fh1%3E%5Cn%3Ch2%3E%20.%20.%20.%20%3C%2Fh2%3E%5Cn%3Ch3%3E%20.%20.%20.%20%3C%2Fh3%3E%5Cn%3Ch4%3E%20.%20.%20.%20%3C%2Fh4%3E%5Cn%3Ch5%3E%20.%20.%20.%20%3C%2Fh5%3E%5Cn%3Ch6%3E%E6%9C%80%E5%B0%8F%E7%9A%84%E6%A0%87%E9%A2%98%3C%2Fh6%3E%5Cn%20%5Cn%3Cp%3E%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%AE%B5%E8%90%BD%E3%80%82%3C%2Fp%3E%5Cn%3Cbr%3E%20%EF%BC%88%E6%8D%A2%E8%A1%8C%EF%BC%89%5Cn%3Chr%3E%20%EF%BC%88%E6%B0%B4%E5%B9%B3%E7%BA%BF%EF%BC%89%5Cn%3C!--%20%E8%BF%99%E6%98%AF%E6%B3%A8%E9%87%8A%20--%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kuyQJ%22%7D\"></card><h1 data-lake-id=\"Kl88z\" id=\"Kl88z\"><span data-lake-id=\"u5d831ad5\" id=\"u5d831ad5\">文本格式化（Formatting）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cb%3E%E7%B2%97%E4%BD%93%E6%96%87%E6%9C%AC%3C%2Fb%3E%5Cn%3Ccode%3E%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BB%A3%E7%A0%81%3C%2Fcode%3E%5Cn%3Cem%3E%E5%BC%BA%E8%B0%83%E6%96%87%E6%9C%AC%3C%2Fem%3E%5Cn%3Ci%3E%E6%96%9C%E4%BD%93%E6%96%87%E6%9C%AC%3C%2Fi%3E%5Cn%3Ckbd%3E%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%3C%2Fkbd%3E%20%5Cn%3Cpre%3E%E9%A2%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E6%9C%AC%3C%2Fpre%3E%5Cn%3Csmall%3E%E6%9B%B4%E5%B0%8F%E7%9A%84%E6%96%87%E6%9C%AC%3C%2Fsmall%3E%5Cn%3Cstrong%3E%E9%87%8D%E8%A6%81%E7%9A%84%E6%96%87%E6%9C%AC%3C%2Fstrong%3E%5Cn%20%5Cn%3Cabbr%3E%20%EF%BC%88%E7%BC%A9%E5%86%99%EF%BC%89%5Cn%3Caddress%3E%20%EF%BC%88%E8%81%94%E7%B3%BB%E4%BF%A1%E6%81%AF%EF%BC%89%5Cn%3Cbdo%3E%20%EF%BC%88%E6%96%87%E5%AD%97%E6%96%B9%E5%90%91%EF%BC%89%5Cn%3Cblockquote%3E%20%EF%BC%88%E4%BB%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%BA%90%E5%BC%95%E7%94%A8%E7%9A%84%E9%83%A8%E5%88%86%EF%BC%89%5Cn%3Ccite%3E%20%EF%BC%88%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%90%8D%E7%A7%B0%EF%BC%89%5Cn%3Cdel%3E%20%EF%BC%88%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%87%E6%9C%AC%EF%BC%89%5Cn%3Cins%3E%20%EF%BC%88%E6%8F%92%E5%85%A5%E7%9A%84%E6%96%87%E6%9C%AC%EF%BC%89%5Cn%3Csub%3E%20%EF%BC%88%E4%B8%8B%E6%A0%87%E6%96%87%E6%9C%AC%EF%BC%89%5Cn%3Csup%3E%20%EF%BC%88%E4%B8%8A%E6%A0%87%E6%96%87%E6%9C%AC%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nFQPF%22%7D\"></card><h1 data-lake-id=\"Cm3Jy\" id=\"Cm3Jy\"><span data-lake-id=\"u92a1b318\" id=\"u92a1b318\">链接（Links）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%99%AE%E9%80%9A%E7%9A%84%E9%93%BE%E6%8E%A5%EF%BC%9A%3Ca%20href%3D%5C%22http%3A%2F%2Fwww.example.com%2F%5C%22%3E%E9%93%BE%E6%8E%A5%E6%96%87%E6%9C%AC%3C%2Fa%3E%5Cn%E5%9B%BE%E5%83%8F%E9%93%BE%E6%8E%A5%EF%BC%9A%20%3Ca%20href%3D%5C%22http%3A%2F%2Fwww.example.com%2F%5C%22%3E%3Cimg%20src%3D%5C%22URL%5C%22%20alt%3D%5C%22%E6%9B%BF%E6%8D%A2%E6%96%87%E6%9C%AC%5C%22%3E%3C%2Fa%3E%5Cn%E9%82%AE%E4%BB%B6%E9%93%BE%E6%8E%A5%EF%BC%9A%20%3Ca%20href%3D%5C%22mailto%3Awebmaster%40example.com%5C%22%3E%E5%8F%91%E9%80%81e-mail%3C%2Fa%3E%5Cn%E4%B9%A6%E7%AD%BE%EF%BC%9A%5Cn%3Ca%20id%3D%5C%22tips%5C%22%3E%E6%8F%90%E7%A4%BA%E9%83%A8%E5%88%86%3C%2Fa%3E%5Cn%3Ca%20href%3D%5C%22%23tips%5C%22%3E%E8%B7%B3%E5%88%B0%E6%8F%90%E7%A4%BA%E9%83%A8%E5%88%86%3C%2Fa%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%225FdIg%22%7D\"></card><h1 data-lake-id=\"S0pNa\" id=\"S0pNa\"><span data-lake-id=\"u3c85b7d7\" id=\"u3c85b7d7\">图片（Images）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cimg%20src%3D%5C%22URL%5C%22%20alt%3D%5C%22%E6%9B%BF%E6%8D%A2%E6%96%87%E6%9C%AC%5C%22%20height%3D%5C%2242%5C%22%20width%3D%5C%2242%5C%22%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22cal9X%22%7D\"></card><h1 data-lake-id=\"fiZMZ\" id=\"fiZMZ\"><span data-lake-id=\"ua49026e4\" id=\"ua49026e4\">样式/区块（Styles/Sections）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cstyle%20type%3D%5C%22text%2Fcss%5C%22%3E%5Cnh1%20%7Bcolor%3Ared%3B%7D%5Cnp%20%7Bcolor%3Ablue%3B%7D%5Cn%3C%2Fstyle%3E%5Cn%3Cdiv%3E%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0%3C%2Fdiv%3E%5Cn%3Cspan%3E%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E5%86%85%E8%81%94%E5%85%83%E7%B4%A0%3C%2Fspan%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22h0Qcm%22%7D\"></card><h1 data-lake-id=\"qSL7b\" id=\"qSL7b\"><span data-lake-id=\"uceaf9254\" id=\"uceaf9254\">无序列表</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cul%3E%5Cn%20%20%20%20%3Cli%3E%E9%A1%B9%E7%9B%AE%3C%2Fli%3E%5Cn%20%20%20%20%3Cli%3E%E9%A1%B9%E7%9B%AE%3C%2Fli%3E%5Cn%3C%2Ful%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22oNNPo%22%7D\"></card><h1 data-lake-id=\"AJVyD\" id=\"AJVyD\"><span data-lake-id=\"u7001ff89\" id=\"u7001ff89\">有序列表</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Col%3E%5Cn%20%20%20%20%3Cli%3E%E7%AC%AC%E4%B8%80%E9%A1%B9%3C%2Fli%3E%5Cn%20%20%20%20%3Cli%3E%E7%AC%AC%E4%BA%8C%E9%A1%B9%3C%2Fli%3E%5Cn%3C%2Fol%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22rYseQ%22%7D\"></card><h1 data-lake-id=\"EfLxN\" id=\"EfLxN\"><span data-lake-id=\"uddc8b18e\" id=\"uddc8b18e\">定义列表</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cdl%3E%5Cn%20%20%3Cdt%3E%E9%A1%B9%E7%9B%AE%201%3C%2Fdt%3E%5Cn%20%20%20%20%3Cdd%3E%E6%8F%8F%E8%BF%B0%E9%A1%B9%E7%9B%AE%201%3C%2Fdd%3E%5Cn%20%20%3Cdt%3E%E9%A1%B9%E7%9B%AE%202%3C%2Fdt%3E%5Cn%20%20%20%20%3Cdd%3E%E6%8F%8F%E8%BF%B0%E9%A1%B9%E7%9B%AE%202%3C%2Fdd%3E%5Cn%3C%2Fdl%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QMYwH%22%7D\"></card><h1 data-lake-id=\"k04nh\" id=\"k04nh\"><span data-lake-id=\"u4ae74714\" id=\"u4ae74714\">表格（Tables）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Ctable%20border%3D%5C%221%5C%22%3E%5Cn%20%20%3Ctr%3E%5Cn%20%20%20%20%3Cth%3E%E8%A1%A8%E6%A0%BC%E6%A0%87%E9%A2%98%3C%2Fth%3E%5Cn%20%20%20%20%3Cth%3E%E8%A1%A8%E6%A0%BC%E6%A0%87%E9%A2%98%3C%2Fth%3E%5Cn%20%20%3C%2Ftr%3E%5Cn%20%20%3Ctr%3E%5Cn%20%20%20%20%3Ctd%3E%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE%3C%2Ftd%3E%5Cn%20%20%20%20%3Ctd%3E%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE%3C%2Ftd%3E%5Cn%20%20%3C%2Ftr%3E%5Cn%3C%2Ftable%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QML5F%22%7D\"></card><h1 data-lake-id=\"hbNoE\" id=\"hbNoE\"><span data-lake-id=\"u8d88a022\" id=\"u8d88a022\">框架（Iframe）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%A1%86%E6%9E%B6%EF%BC%88Iframe%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22eKeiG%22%7D\"></card><h1 data-lake-id=\"v3lvR\" id=\"v3lvR\"><span data-lake-id=\"u2b5bb5f2\" id=\"u2b5bb5f2\">表单（Forms）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cform%20action%3D%5C%22demo_form.php%5C%22%20method%3D%5C%22post%2Fget%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22text%5C%22%20name%3D%5C%22email%5C%22%20size%3D%5C%2240%5C%22%20maxlength%3D%5C%2250%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22password%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22checked%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22radio%5C%22%20checked%3D%5C%22checked%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22submit%5C%22%20value%3D%5C%22Send%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22reset%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22hidden%5C%22%3E%5Cn%3Cselect%3E%5Cn%3Coption%3E%E8%8B%B9%E6%9E%9C%3C%2Foption%3E%5Cn%3Coption%20selected%3D%5C%22selected%5C%22%3E%E9%A6%99%E8%95%89%3C%2Foption%3E%5Cn%3Coption%3E%E6%A8%B1%E6%A1%83%3C%2Foption%3E%5Cn%3C%2Fselect%3E%5Cn%3Ctextarea%20name%3D%5C%22comment%5C%22%20rows%3D%5C%2260%5C%22%20cols%3D%5C%2220%5C%22%3E%3C%2Ftextarea%3E%5Cn%20%5Cn%3C%2Fform%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Pl4c6%22%7D\"></card><h1 data-lake-id=\"pAs02\" id=\"pAs02\"><span data-lake-id=\"u6d70c444\" id=\"u6d70c444\">实体（Entities）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%26lt%3B%20%E7%AD%89%E5%90%8C%E4%BA%8E%20%3C%5Cn%26gt%3B%20%E7%AD%89%E5%90%8C%E4%BA%8E%20%3E%5Cn%26%23169%3B%20%E7%AD%89%E5%90%8C%E4%BA%8E%20%C2%A9%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uTa2A%22%7D\"></card>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22cVXfw%22%7D\"></card><p data-lake-id=\"4761c332fe1bfe77db9cfeaeebddf6ea\" id=\"4761c332fe1bfe77db9cfeaeebddf6ea\"><span data-lake-id=\"uf1424fe0\" id=\"uf1424fe0\">date: 2018-04-12 10:12:32+00:00</span></p><p data-lake-id=\"7e96d711a24dabea2563f15d9adb50d9\" id=\"7e96d711a24dabea2563f15d9adb50d9\"><span data-lake-id=\"u9552c109\" id=\"u9552c109\">layout: post</span></p><p data-lake-id=\"598ec3c764412ea6fae66560f10e064d\" id=\"598ec3c764412ea6fae66560f10e064d\"><span data-lake-id=\"u25371cca\" id=\"u25371cca\">title: HTML速查列表</span></p><p data-lake-id=\"b075e6e0ada58a50c0be19a8da595a73\" id=\"b075e6e0ada58a50c0be19a8da595a73\"><span data-lake-id=\"u09c96005\" id=\"u09c96005\">categories: html</span></p><p data-lake-id=\"60eae9f5b86e63a3c5ae20b1e14e55ea\" id=\"60eae9f5b86e63a3c5ae20b1e14e55ea\"><span data-lake-id=\"u4dccf688\" id=\"u4dccf688\">tags:</span></p><ul list=\"uf5a46121\"><li fid=\"uea762613\" data-lake-id=\"0eecf8fd56f5402891ad7d21015621c9\" id=\"0eecf8fd56f5402891ad7d21015621c9\"><span data-lake-id=\"u3c8c11b2\" id=\"u3c8c11b2\">HTML</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22nXJoA%22%7D\"></card><h1 data-lake-id=\"RBndV\" id=\"RBndV\"><span data-lake-id=\"u8260dc94\" id=\"u8260dc94\">HTML 基本文档</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C!DOCTYPE%20html%3E%5Cn%3Chtml%3E%5Cn%3Chead%3E%5Cn%3Ctitle%3E%E6%96%87%E6%A1%A3%E6%A0%87%E9%A2%98%3C%2Ftitle%3E%5Cn%3C%2Fhead%3E%5Cn%3Cbody%3E%5Cn%E5%8F%AF%E8%A7%81%E6%96%87%E6%9C%AC...%5Cn%3C%2Fbody%3E%5Cn%3C%2Fhtml%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22o4CHk%22%7D\"></card><h1 data-lake-id=\"afEy4\" id=\"afEy4\"><span data-lake-id=\"ufd28c5be\" id=\"ufd28c5be\">基本标签（Basic Tags）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Ch1%3E%E6%9C%80%E5%A4%A7%E7%9A%84%E6%A0%87%E9%A2%98%3C%2Fh1%3E%5Cn%3Ch2%3E%20.%20.%20.%20%3C%2Fh2%3E%5Cn%3Ch3%3E%20.%20.%20.%20%3C%2Fh3%3E%5Cn%3Ch4%3E%20.%20.%20.%20%3C%2Fh4%3E%5Cn%3Ch5%3E%20.%20.%20.%20%3C%2Fh5%3E%5Cn%3Ch6%3E%E6%9C%80%E5%B0%8F%E7%9A%84%E6%A0%87%E9%A2%98%3C%2Fh6%3E%5Cn%20%5Cn%3Cp%3E%E8%BF%99%E6%98%AF%E4%B8%80%E4%B8%AA%E6%AE%B5%E8%90%BD%E3%80%82%3C%2Fp%3E%5Cn%3Cbr%3E%20%EF%BC%88%E6%8D%A2%E8%A1%8C%EF%BC%89%5Cn%3Chr%3E%20%EF%BC%88%E6%B0%B4%E5%B9%B3%E7%BA%BF%EF%BC%89%5Cn%3C!--%20%E8%BF%99%E6%98%AF%E6%B3%A8%E9%87%8A%20--%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kuyQJ%22%7D\"></card><h1 data-lake-id=\"Kl88z\" id=\"Kl88z\"><span data-lake-id=\"u5d831ad5\" id=\"u5d831ad5\">文本格式化（Formatting）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cb%3E%E7%B2%97%E4%BD%93%E6%96%87%E6%9C%AC%3C%2Fb%3E%5Cn%3Ccode%3E%E8%AE%A1%E7%AE%97%E6%9C%BA%E4%BB%A3%E7%A0%81%3C%2Fcode%3E%5Cn%3Cem%3E%E5%BC%BA%E8%B0%83%E6%96%87%E6%9C%AC%3C%2Fem%3E%5Cn%3Ci%3E%E6%96%9C%E4%BD%93%E6%96%87%E6%9C%AC%3C%2Fi%3E%5Cn%3Ckbd%3E%E9%94%AE%E7%9B%98%E8%BE%93%E5%85%A5%3C%2Fkbd%3E%20%5Cn%3Cpre%3E%E9%A2%84%E6%A0%BC%E5%BC%8F%E5%8C%96%E6%96%87%E6%9C%AC%3C%2Fpre%3E%5Cn%3Csmall%3E%E6%9B%B4%E5%B0%8F%E7%9A%84%E6%96%87%E6%9C%AC%3C%2Fsmall%3E%5Cn%3Cstrong%3E%E9%87%8D%E8%A6%81%E7%9A%84%E6%96%87%E6%9C%AC%3C%2Fstrong%3E%5Cn%20%5Cn%3Cabbr%3E%20%EF%BC%88%E7%BC%A9%E5%86%99%EF%BC%89%5Cn%3Caddress%3E%20%EF%BC%88%E8%81%94%E7%B3%BB%E4%BF%A1%E6%81%AF%EF%BC%89%5Cn%3Cbdo%3E%20%EF%BC%88%E6%96%87%E5%AD%97%E6%96%B9%E5%90%91%EF%BC%89%5Cn%3Cblockquote%3E%20%EF%BC%88%E4%BB%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%BA%90%E5%BC%95%E7%94%A8%E7%9A%84%E9%83%A8%E5%88%86%EF%BC%89%5Cn%3Ccite%3E%20%EF%BC%88%E5%B7%A5%E4%BD%9C%E7%9A%84%E5%90%8D%E7%A7%B0%EF%BC%89%5Cn%3Cdel%3E%20%EF%BC%88%E5%88%A0%E9%99%A4%E7%9A%84%E6%96%87%E6%9C%AC%EF%BC%89%5Cn%3Cins%3E%20%EF%BC%88%E6%8F%92%E5%85%A5%E7%9A%84%E6%96%87%E6%9C%AC%EF%BC%89%5Cn%3Csub%3E%20%EF%BC%88%E4%B8%8B%E6%A0%87%E6%96%87%E6%9C%AC%EF%BC%89%5Cn%3Csup%3E%20%EF%BC%88%E4%B8%8A%E6%A0%87%E6%96%87%E6%9C%AC%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nFQPF%22%7D\"></card><h1 data-lake-id=\"Cm3Jy\" id=\"Cm3Jy\"><span data-lake-id=\"u92a1b318\" id=\"u92a1b318\">链接（Links）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%99%AE%E9%80%9A%E7%9A%84%E9%93%BE%E6%8E%A5%EF%BC%9A%3Ca%20href%3D%5C%22http%3A%2F%2Fwww.example.com%2F%5C%22%3E%E9%93%BE%E6%8E%A5%E6%96%87%E6%9C%AC%3C%2Fa%3E%5Cn%E5%9B%BE%E5%83%8F%E9%93%BE%E6%8E%A5%EF%BC%9A%20%3Ca%20href%3D%5C%22http%3A%2F%2Fwww.example.com%2F%5C%22%3E%3Cimg%20src%3D%5C%22URL%5C%22%20alt%3D%5C%22%E6%9B%BF%E6%8D%A2%E6%96%87%E6%9C%AC%5C%22%3E%3C%2Fa%3E%5Cn%E9%82%AE%E4%BB%B6%E9%93%BE%E6%8E%A5%EF%BC%9A%20%3Ca%20href%3D%5C%22mailto%3Awebmaster%40example.com%5C%22%3E%E5%8F%91%E9%80%81e-mail%3C%2Fa%3E%5Cn%E4%B9%A6%E7%AD%BE%EF%BC%9A%5Cn%3Ca%20id%3D%5C%22tips%5C%22%3E%E6%8F%90%E7%A4%BA%E9%83%A8%E5%88%86%3C%2Fa%3E%5Cn%3Ca%20href%3D%5C%22%23tips%5C%22%3E%E8%B7%B3%E5%88%B0%E6%8F%90%E7%A4%BA%E9%83%A8%E5%88%86%3C%2Fa%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%225FdIg%22%7D\"></card><h1 data-lake-id=\"S0pNa\" id=\"S0pNa\"><span data-lake-id=\"u3c85b7d7\" id=\"u3c85b7d7\">图片（Images）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cimg%20src%3D%5C%22URL%5C%22%20alt%3D%5C%22%E6%9B%BF%E6%8D%A2%E6%96%87%E6%9C%AC%5C%22%20height%3D%5C%2242%5C%22%20width%3D%5C%2242%5C%22%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22cal9X%22%7D\"></card><h1 data-lake-id=\"fiZMZ\" id=\"fiZMZ\"><span data-lake-id=\"ua49026e4\" id=\"ua49026e4\">样式/区块（Styles/Sections）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cstyle%20type%3D%5C%22text%2Fcss%5C%22%3E%5Cnh1%20%7Bcolor%3Ared%3B%7D%5Cnp%20%7Bcolor%3Ablue%3B%7D%5Cn%3C%2Fstyle%3E%5Cn%3Cdiv%3E%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E5%9D%97%E7%BA%A7%E5%85%83%E7%B4%A0%3C%2Fdiv%3E%5Cn%3Cspan%3E%E6%96%87%E6%A1%A3%E4%B8%AD%E7%9A%84%E5%86%85%E8%81%94%E5%85%83%E7%B4%A0%3C%2Fspan%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22h0Qcm%22%7D\"></card><h1 data-lake-id=\"qSL7b\" id=\"qSL7b\"><span data-lake-id=\"uceaf9254\" id=\"uceaf9254\">无序列表</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cul%3E%5Cn%20%20%20%20%3Cli%3E%E9%A1%B9%E7%9B%AE%3C%2Fli%3E%5Cn%20%20%20%20%3Cli%3E%E9%A1%B9%E7%9B%AE%3C%2Fli%3E%5Cn%3C%2Ful%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22oNNPo%22%7D\"></card><h1 data-lake-id=\"AJVyD\" id=\"AJVyD\"><span data-lake-id=\"u7001ff89\" id=\"u7001ff89\">有序列表</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Col%3E%5Cn%20%20%20%20%3Cli%3E%E7%AC%AC%E4%B8%80%E9%A1%B9%3C%2Fli%3E%5Cn%20%20%20%20%3Cli%3E%E7%AC%AC%E4%BA%8C%E9%A1%B9%3C%2Fli%3E%5Cn%3C%2Fol%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22rYseQ%22%7D\"></card><h1 data-lake-id=\"EfLxN\" id=\"EfLxN\"><span data-lake-id=\"uddc8b18e\" id=\"uddc8b18e\">定义列表</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cdl%3E%5Cn%20%20%3Cdt%3E%E9%A1%B9%E7%9B%AE%201%3C%2Fdt%3E%5Cn%20%20%20%20%3Cdd%3E%E6%8F%8F%E8%BF%B0%E9%A1%B9%E7%9B%AE%201%3C%2Fdd%3E%5Cn%20%20%3Cdt%3E%E9%A1%B9%E7%9B%AE%202%3C%2Fdt%3E%5Cn%20%20%20%20%3Cdd%3E%E6%8F%8F%E8%BF%B0%E9%A1%B9%E7%9B%AE%202%3C%2Fdd%3E%5Cn%3C%2Fdl%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QMYwH%22%7D\"></card><h1 data-lake-id=\"k04nh\" id=\"k04nh\"><span data-lake-id=\"u4ae74714\" id=\"u4ae74714\">表格（Tables）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Ctable%20border%3D%5C%221%5C%22%3E%5Cn%20%20%3Ctr%3E%5Cn%20%20%20%20%3Cth%3E%E8%A1%A8%E6%A0%BC%E6%A0%87%E9%A2%98%3C%2Fth%3E%5Cn%20%20%20%20%3Cth%3E%E8%A1%A8%E6%A0%BC%E6%A0%87%E9%A2%98%3C%2Fth%3E%5Cn%20%20%3C%2Ftr%3E%5Cn%20%20%3Ctr%3E%5Cn%20%20%20%20%3Ctd%3E%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE%3C%2Ftd%3E%5Cn%20%20%20%20%3Ctd%3E%E8%A1%A8%E6%A0%BC%E6%95%B0%E6%8D%AE%3C%2Ftd%3E%5Cn%20%20%3C%2Ftr%3E%5Cn%3C%2Ftable%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QML5F%22%7D\"></card><h1 data-lake-id=\"hbNoE\" id=\"hbNoE\"><span data-lake-id=\"u8d88a022\" id=\"u8d88a022\">框架（Iframe）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%A1%86%E6%9E%B6%EF%BC%88Iframe%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22eKeiG%22%7D\"></card><h1 data-lake-id=\"v3lvR\" id=\"v3lvR\"><span data-lake-id=\"u2b5bb5f2\" id=\"u2b5bb5f2\">表单（Forms）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cform%20action%3D%5C%22demo_form.php%5C%22%20method%3D%5C%22post%2Fget%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22text%5C%22%20name%3D%5C%22email%5C%22%20size%3D%5C%2240%5C%22%20maxlength%3D%5C%2250%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22password%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22checkbox%5C%22%20checked%3D%5C%22checked%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22radio%5C%22%20checked%3D%5C%22checked%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22submit%5C%22%20value%3D%5C%22Send%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22reset%5C%22%3E%5Cn%3Cinput%20type%3D%5C%22hidden%5C%22%3E%5Cn%3Cselect%3E%5Cn%3Coption%3E%E8%8B%B9%E6%9E%9C%3C%2Foption%3E%5Cn%3Coption%20selected%3D%5C%22selected%5C%22%3E%E9%A6%99%E8%95%89%3C%2Foption%3E%5Cn%3Coption%3E%E6%A8%B1%E6%A1%83%3C%2Foption%3E%5Cn%3C%2Fselect%3E%5Cn%3Ctextarea%20name%3D%5C%22comment%5C%22%20rows%3D%5C%2260%5C%22%20cols%3D%5C%2220%5C%22%3E%3C%2Ftextarea%3E%5Cn%20%5Cn%3C%2Fform%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Pl4c6%22%7D\"></card><h1 data-lake-id=\"pAs02\" id=\"pAs02\"><span data-lake-id=\"u6d70c444\" id=\"u6d70c444\">实体（Entities）</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%26lt%3B%20%E7%AD%89%E5%90%8C%E4%BA%8E%20%3C%5Cn%26gt%3B%20%E7%AD%89%E5%90%8C%E4%BA%8E%20%3E%5Cn%26%23169%3B%20%E7%AD%89%E5%90%8C%E4%BA%8E%20%C2%A9%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uTa2A%22%7D\"></card>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:02:44.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:22.000Z",
    "updated_at": "2022-12-11T13:02:44.000Z",
    "published_at": "2022-12-11T13:02:44.000Z",
    "first_published_at": "2022-12-09T12:02:22.391Z",
    "word_count": 520,
    "cover": null,
    "description": "date: 2018-04-12 10:12:32+00:00layout: posttitle: HTML速查列表categories: htmltags:HTMLHTML 基本文档<!DOCTYPE html> <html> <head> <title>文档标题</title> </hea...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945029,
    "slug": "0236d0a994c38bce71e1b6a299a09eb9",
    "title": "2018-02-28-使用Sphinx为你的python模块自动生成文档",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\ndate: 2018-02-28 17:42:32+00:00<br />layout: post<br />title: 使用Sphinx为你的python模块自动生成文档<br />categories: python<br />tags:\n\n- python\n- sphinx\n\n---\n\n<a name=\"poq37\"></a>\n#### 前言\nSphinx是一个可以用于Python的自动文档生成工具，可以自动的把docstring转换为文档，并支持多种输出格式包括html，latex，pdf等。\n<a name=\"xtdAw\"></a>\n## 安装\n```\npip install sphinx\n```\n<a name=\"JRN5J\"></a>\n## 生成文档的简单例子\n假设现在我们有一个叫run.py的文件，如下\n```\n# run.py\ndef run(name):\n    \"\"\"\n    this is how we run\n    :param name name of people who runs\n    \"\"\"\n    print name, 'is running'\n```\n\n- 新建demo 文件夹，将run.py 拷入\n- 在demo/ 中新建doc文件夹\n- 生成Sphinx默认模板，设置项目名为demo\n```\nsphinx-quickstart\n```\n```\n注意\nautodoc: automatically insert docstrings from modules (y/n) [n]选择yes\nSeparate source and build directories (y/n) [n]:建议选择yes\n其他选项均默认即可。\n生成的默认目录：\n\t- demo/ # 刚才新建的目录\n\t    - source/ # 存放Sphinx工程源码\n\t    - build/ # 存放生成的文档\n\t    Makefile\n\t    make.bat\n```\n\n- 打开source/index.rst 修改为如下内容\n```\nWelcome to demo's API Documentation\n======================================\n.. toctree::\n   :maxdepth: 2\n   :caption: Contents:\nIntroduction\n============\nThis is the introduction of demo。\nAPI\n===\n.. automodule:: run\n   :members:\nIndices and tables\n==================\n* :ref:`genindex`\n* :ref:`modindex`\n* :ref:`search`\n```\n\n- 打开source/conf.py 添加如下内容\n```\nimport os\nimport sys\nsys.path.insert(0, os.path.abspath('../..'))\n```\n\n- 在demo目录下运行Sphinx生成html文档\n```\nsphinx-build -b html source build\nmake html\n```\n\n- 现在，打开build/html/index.html就可以看到运行成功的界面了。\n\n转载自：[http://blog.csdn.net/preyta/article/details/73647937](http://blog.csdn.net/preyta/article/details/73647937)\n",
    "body_draft": "---\n\ndate: 2018-02-28 17:42:32+00:00<br />layout: post<br />title: 使用Sphinx为你的python模块自动生成文档<br />categories: python<br />tags:\n\n- python\n- sphinx\n\n---\n\n<a name=\"poq37\"></a>\n#### 前言\nSphinx是一个可以用于Python的自动文档生成工具，可以自动的把docstring转换为文档，并支持多种输出格式包括html，latex，pdf等。\n<a name=\"xtdAw\"></a>\n## 安装\n```\npip install sphinx\n```\n<a name=\"JRN5J\"></a>\n## 生成文档的简单例子\n假设现在我们有一个叫run.py的文件，如下\n```\n# run.py\ndef run(name):\n    \"\"\"\n    this is how we run\n    :param name name of people who runs\n    \"\"\"\n    print name, 'is running'\n```\n\n- 新建demo 文件夹，将run.py 拷入\n- 在demo/ 中新建doc文件夹\n- 生成Sphinx默认模板，设置项目名为demo\n```\nsphinx-quickstart\n```\n```\n注意\nautodoc: automatically insert docstrings from modules (y/n) [n]选择yes\nSeparate source and build directories (y/n) [n]:建议选择yes\n其他选项均默认即可。\n生成的默认目录：\n\t- demo/ # 刚才新建的目录\n\t    - source/ # 存放Sphinx工程源码\n\t    - build/ # 存放生成的文档\n\t    Makefile\n\t    make.bat\n```\n\n- 打开source/index.rst 修改为如下内容\n```\nWelcome to demo's API Documentation\n======================================\n.. toctree::\n   :maxdepth: 2\n   :caption: Contents:\nIntroduction\n============\nThis is the introduction of demo。\nAPI\n===\n.. automodule:: run\n   :members:\nIndices and tables\n==================\n* :ref:`genindex`\n* :ref:`modindex`\n* :ref:`search`\n```\n\n- 打开source/conf.py 添加如下内容\n```\nimport os\nimport sys\nsys.path.insert(0, os.path.abspath('../..'))\n```\n\n- 在demo目录下运行Sphinx生成html文档\n```\nsphinx-build -b html source build\nmake html\n```\n\n- 现在，打开build/html/index.html就可以看到运行成功的界面了。\n\n转载自：[http://blog.csdn.net/preyta/article/details/73647937](http://blog.csdn.net/preyta/article/details/73647937)\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"agnH1\" class=\"ne-hr\"><p id=\"65c26e6bcaa8734abf2608bbf783a49a\" class=\"ne-p\"><span class=\"ne-text\">date: 2018-02-28 17:42:32+00:00</span></p><p id=\"abd01c5d90b7482762e81b4fe591fb54\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"831d3d03fd8224be62a2e38e1c13f509\" class=\"ne-p\"><span class=\"ne-text\">title: 使用Sphinx为你的python模块自动生成文档</span></p><p id=\"fe5008f7be8c95d456066ec713d64f6c\" class=\"ne-p\"><span class=\"ne-text\">categories: python</span></p><p id=\"995ecec9dfd1639e5f3e622e55d1b236\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"b769364f7f802c17c62716eb22e0b259\"><span class=\"ne-text\">python</span></li><li id=\"a6ae4adae04cf63a2bbe55c0ef8fb47a\"><span class=\"ne-text\">sphinx</span></li></ul><hr id=\"SLJtw\" class=\"ne-hr\"><h4 id=\"poq37\"><span class=\"ne-text\">前言</span></h4><p id=\"c60edacd4c212083c1283fc9f35df47c\" class=\"ne-p\"><span class=\"ne-text\">Sphinx是一个可以用于Python的自动文档生成工具，可以自动的把docstring转换为文档，并支持多种输出格式包括html，latex，pdf等。</span></p><h2 id=\"xtdAw\"><span class=\"ne-text\">安装</span></h2><pre data-language=\"plain\" id=\"BtAeo\" class=\"ne-codeblock language-plain\">pip install sphinx</pre><h2 id=\"JRN5J\"><span class=\"ne-text\">生成文档的简单例子</span></h2><p id=\"9a38534637c8031f1e60b16f02508f8d\" class=\"ne-p\"><span class=\"ne-text\">假设现在我们有一个叫run.py的文件，如下</span></p><pre data-language=\"plain\" id=\"4pwQc\" class=\"ne-codeblock language-plain\"># run.py\ndef run(name):\n    &quot;&quot;&quot;\n    this is how we run\n    :param name name of people who runs\n    &quot;&quot;&quot;\n    print name, 'is running'</pre><ul class=\"ne-ul\"><li id=\"703b7a2fa14958c14afb399277382a8d\"><span class=\"ne-text\">新建demo 文件夹，将run.py 拷入</span></li><li id=\"3d67fca6b870cdba6c42932ea3f35a07\"><span class=\"ne-text\">在demo/ 中新建doc文件夹</span></li><li id=\"9522cea0af1a8648d9de39086debe0c3\"><span class=\"ne-text\">生成Sphinx默认模板，设置项目名为demo</span></li></ul><pre data-language=\"plain\" id=\"XIbH8\" class=\"ne-codeblock language-plain\">sphinx-quickstart</pre><pre data-language=\"plain\" id=\"nDXRa\" class=\"ne-codeblock language-plain\">注意\nautodoc: automatically insert docstrings from modules (y/n) [n]选择yes\nSeparate source and build directories (y/n) [n]:建议选择yes\n其他选项均默认即可。\n生成的默认目录：\n\t- demo/ # 刚才新建的目录\n\t    - source/ # 存放Sphinx工程源码\n\t    - build/ # 存放生成的文档\n\t    Makefile\n\t    make.bat</pre><ul class=\"ne-ul\"><li id=\"6af40695dbf7efd68d547bf2cceb7682\"><span class=\"ne-text\">打开source/index.rst 修改为如下内容</span></li></ul><pre data-language=\"plain\" id=\"3Ermp\" class=\"ne-codeblock language-plain\">Welcome to demo's API Documentation\n======================================\n.. toctree::\n   :maxdepth: 2\n   :caption: Contents:\nIntroduction\n============\nThis is the introduction of demo。\nAPI\n===\n.. automodule:: run\n   :members:\nIndices and tables\n==================\n* :ref:`genindex`\n* :ref:`modindex`\n* :ref:`search`</pre><ul class=\"ne-ul\"><li id=\"6bc500b880390071019c96679a4b7aeb\"><span class=\"ne-text\">打开source/conf.py 添加如下内容</span></li></ul><pre data-language=\"plain\" id=\"Qx9Aa\" class=\"ne-codeblock language-plain\">import os\nimport sys\nsys.path.insert(0, os.path.abspath('../..'))</pre><ul class=\"ne-ul\"><li id=\"12fc31d323e44e0610a2491eb046580a\"><span class=\"ne-text\">在demo目录下运行Sphinx生成html文档</span></li></ul><pre data-language=\"plain\" id=\"om2jH\" class=\"ne-codeblock language-plain\">sphinx-build -b html source build\nmake html</pre><ul class=\"ne-ul\"><li id=\"5a3e55685f3c04b9847490d83c54b6b9\"><span class=\"ne-text\">现在，打开build/html/index.html就可以看到运行成功的界面了。</span></li></ul><p id=\"e5d896619b300aa3970b80de7cc0135c\" class=\"ne-p\"><span class=\"ne-text\">转载自：</span><a href=\"http://blog.csdn.net/preyta/article/details/73647937\" data-href=\"http://blog.csdn.net/preyta/article/details/73647937\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">http://blog.csdn.net/preyta/article/details/73647937</span></a></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\"></card><p data-lake-id=\"65c26e6bcaa8734abf2608bbf783a49a\" id=\"65c26e6bcaa8734abf2608bbf783a49a\"><span data-lake-id=\"ubb6f98bf\" id=\"ubb6f98bf\">date: 2018-02-28 17:42:32+00:00</span></p><p data-lake-id=\"abd01c5d90b7482762e81b4fe591fb54\" id=\"abd01c5d90b7482762e81b4fe591fb54\"><span data-lake-id=\"u007c2804\" id=\"u007c2804\">layout: post</span></p><p data-lake-id=\"831d3d03fd8224be62a2e38e1c13f509\" id=\"831d3d03fd8224be62a2e38e1c13f509\"><span data-lake-id=\"ue69a8844\" id=\"ue69a8844\">title: 使用Sphinx为你的python模块自动生成文档</span></p><p data-lake-id=\"fe5008f7be8c95d456066ec713d64f6c\" id=\"fe5008f7be8c95d456066ec713d64f6c\"><span data-lake-id=\"u54c9b0b2\" id=\"u54c9b0b2\">categories: python</span></p><p data-lake-id=\"995ecec9dfd1639e5f3e622e55d1b236\" id=\"995ecec9dfd1639e5f3e622e55d1b236\"><span data-lake-id=\"u5c8bb6c7\" id=\"u5c8bb6c7\">tags:</span></p><ul list=\"ue5d72e64\"><li fid=\"u115c7cb0\" data-lake-id=\"b769364f7f802c17c62716eb22e0b259\" id=\"b769364f7f802c17c62716eb22e0b259\"><span data-lake-id=\"u9e7fad08\" id=\"u9e7fad08\">python</span></li><li fid=\"u115c7cb0\" data-lake-id=\"a6ae4adae04cf63a2bbe55c0ef8fb47a\" id=\"a6ae4adae04cf63a2bbe55c0ef8fb47a\"><span data-lake-id=\"u65e88e71\" id=\"u65e88e71\">sphinx</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22SLJtw%22%7D\"></card><h4 data-lake-id=\"poq37\" id=\"poq37\"><span data-lake-id=\"ue85f735d\" id=\"ue85f735d\">前言</span></h4><p data-lake-id=\"c60edacd4c212083c1283fc9f35df47c\" id=\"c60edacd4c212083c1283fc9f35df47c\"><span data-lake-id=\"u5bf819de\" id=\"u5bf819de\">Sphinx是一个可以用于Python的自动文档生成工具，可以自动的把docstring转换为文档，并支持多种输出格式包括html，latex，pdf等。</span></p><h2 data-lake-id=\"xtdAw\" id=\"xtdAw\"><span data-lake-id=\"u191e7ba2\" id=\"u191e7ba2\">安装</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20sphinx%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22BtAeo%22%7D\"></card><h2 data-lake-id=\"JRN5J\" id=\"JRN5J\"><span data-lake-id=\"u1ecbe9eb\" id=\"u1ecbe9eb\">生成文档的简单例子</span></h2><p data-lake-id=\"9a38534637c8031f1e60b16f02508f8d\" id=\"9a38534637c8031f1e60b16f02508f8d\"><span data-lake-id=\"u36898132\" id=\"u36898132\">假设现在我们有一个叫run.py的文件，如下</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20run.py%5Cndef%20run(name)%3A%5Cn%20%20%20%20%5C%22%5C%22%5C%22%5Cn%20%20%20%20this%20is%20how%20we%20run%5Cn%20%20%20%20%3Aparam%20name%20name%20of%20people%20who%20runs%5Cn%20%20%20%20%5C%22%5C%22%5C%22%5Cn%20%20%20%20print%20name%2C%20'is%20running'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224pwQc%22%7D\"></card><ul list=\"u98c2891f\"><li fid=\"ufe63b5ba\" data-lake-id=\"703b7a2fa14958c14afb399277382a8d\" id=\"703b7a2fa14958c14afb399277382a8d\"><span data-lake-id=\"u87730f4e\" id=\"u87730f4e\">新建demo 文件夹，将run.py 拷入</span></li><li fid=\"ufe63b5ba\" data-lake-id=\"3d67fca6b870cdba6c42932ea3f35a07\" id=\"3d67fca6b870cdba6c42932ea3f35a07\"><span data-lake-id=\"u6c0d370c\" id=\"u6c0d370c\">在demo/ 中新建doc文件夹</span></li><li fid=\"ufe63b5ba\" data-lake-id=\"9522cea0af1a8648d9de39086debe0c3\" id=\"9522cea0af1a8648d9de39086debe0c3\"><span data-lake-id=\"u6404cdc7\" id=\"u6404cdc7\">生成Sphinx默认模板，设置项目名为demo</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sphinx-quickstart%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XIbH8%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%B3%A8%E6%84%8F%5Cnautodoc%3A%20automatically%20insert%20docstrings%20from%20modules%20(y%2Fn)%20%5Bn%5D%E9%80%89%E6%8B%A9yes%5CnSeparate%20source%20and%20build%20directories%20(y%2Fn)%20%5Bn%5D%3A%E5%BB%BA%E8%AE%AE%E9%80%89%E6%8B%A9yes%5Cn%E5%85%B6%E4%BB%96%E9%80%89%E9%A1%B9%E5%9D%87%E9%BB%98%E8%AE%A4%E5%8D%B3%E5%8F%AF%E3%80%82%5Cn%E7%94%9F%E6%88%90%E7%9A%84%E9%BB%98%E8%AE%A4%E7%9B%AE%E5%BD%95%EF%BC%9A%5Cn%5Ct-%20demo%2F%20%23%20%E5%88%9A%E6%89%8D%E6%96%B0%E5%BB%BA%E7%9A%84%E7%9B%AE%E5%BD%95%5Cn%5Ct%20%20%20%20-%20source%2F%20%23%20%E5%AD%98%E6%94%BESphinx%E5%B7%A5%E7%A8%8B%E6%BA%90%E7%A0%81%5Cn%5Ct%20%20%20%20-%20build%2F%20%23%20%E5%AD%98%E6%94%BE%E7%94%9F%E6%88%90%E7%9A%84%E6%96%87%E6%A1%A3%5Cn%5Ct%20%20%20%20Makefile%5Cn%5Ct%20%20%20%20make.bat%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nDXRa%22%7D\"></card><ul list=\"ufdb53ece\"><li fid=\"uaaa4f48a\" data-lake-id=\"6af40695dbf7efd68d547bf2cceb7682\" id=\"6af40695dbf7efd68d547bf2cceb7682\"><span data-lake-id=\"u5a10d147\" id=\"u5a10d147\">打开source/index.rst 修改为如下内容</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Welcome%20to%20demo's%20API%20Documentation%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn..%20toctree%3A%3A%5Cn%20%20%20%3Amaxdepth%3A%202%5Cn%20%20%20%3Acaption%3A%20Contents%3A%5CnIntroduction%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5CnThis%20is%20the%20introduction%20of%20demo%E3%80%82%5CnAPI%5Cn%3D%3D%3D%5Cn..%20automodule%3A%3A%20run%5Cn%20%20%20%3Amembers%3A%5CnIndices%20and%20tables%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn*%20%3Aref%3A%60genindex%60%5Cn*%20%3Aref%3A%60modindex%60%5Cn*%20%3Aref%3A%60search%60%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%223Ermp%22%7D\"></card><ul list=\"uc24d80a4\"><li fid=\"uedd674ae\" data-lake-id=\"6bc500b880390071019c96679a4b7aeb\" id=\"6bc500b880390071019c96679a4b7aeb\"><span data-lake-id=\"u1f6b234a\" id=\"u1f6b234a\">打开source/conf.py 添加如下内容</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22import%20os%5Cnimport%20sys%5Cnsys.path.insert(0%2C%20os.path.abspath('..%2F..'))%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Qx9Aa%22%7D\"></card><ul list=\"u7d6ce26c\"><li fid=\"ub8641b5e\" data-lake-id=\"12fc31d323e44e0610a2491eb046580a\" id=\"12fc31d323e44e0610a2491eb046580a\"><span data-lake-id=\"ud5188427\" id=\"ud5188427\">在demo目录下运行Sphinx生成html文档</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sphinx-build%20-b%20html%20source%20build%5Cnmake%20html%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22om2jH%22%7D\"></card><ul list=\"ua28d56fa\"><li fid=\"u68103e2b\" data-lake-id=\"5a3e55685f3c04b9847490d83c54b6b9\" id=\"5a3e55685f3c04b9847490d83c54b6b9\"><span data-lake-id=\"ua5a7a4e5\" id=\"ua5a7a4e5\">现在，打开build/html/index.html就可以看到运行成功的界面了。</span></li></ul><p data-lake-id=\"e5d896619b300aa3970b80de7cc0135c\" id=\"e5d896619b300aa3970b80de7cc0135c\"><span data-lake-id=\"uac0ef548\" id=\"uac0ef548\">转载自：</span><a href=\"http://blog.csdn.net/preyta/article/details/73647937\" target=\"_blank\" data-lake-id=\"ue329d81e\" id=\"ue329d81e\"><span data-lake-id=\"u467412f4\" id=\"u467412f4\">http://blog.csdn.net/preyta/article/details/73647937</span></a></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\"></card><p data-lake-id=\"65c26e6bcaa8734abf2608bbf783a49a\" id=\"65c26e6bcaa8734abf2608bbf783a49a\"><span data-lake-id=\"ubb6f98bf\" id=\"ubb6f98bf\">date: 2018-02-28 17:42:32+00:00</span></p><p data-lake-id=\"abd01c5d90b7482762e81b4fe591fb54\" id=\"abd01c5d90b7482762e81b4fe591fb54\"><span data-lake-id=\"u007c2804\" id=\"u007c2804\">layout: post</span></p><p data-lake-id=\"831d3d03fd8224be62a2e38e1c13f509\" id=\"831d3d03fd8224be62a2e38e1c13f509\"><span data-lake-id=\"ue69a8844\" id=\"ue69a8844\">title: 使用Sphinx为你的python模块自动生成文档</span></p><p data-lake-id=\"fe5008f7be8c95d456066ec713d64f6c\" id=\"fe5008f7be8c95d456066ec713d64f6c\"><span data-lake-id=\"u54c9b0b2\" id=\"u54c9b0b2\">categories: python</span></p><p data-lake-id=\"995ecec9dfd1639e5f3e622e55d1b236\" id=\"995ecec9dfd1639e5f3e622e55d1b236\"><span data-lake-id=\"u5c8bb6c7\" id=\"u5c8bb6c7\">tags:</span></p><ul list=\"ue5d72e64\"><li fid=\"u115c7cb0\" data-lake-id=\"b769364f7f802c17c62716eb22e0b259\" id=\"b769364f7f802c17c62716eb22e0b259\"><span data-lake-id=\"u9e7fad08\" id=\"u9e7fad08\">python</span></li><li fid=\"u115c7cb0\" data-lake-id=\"a6ae4adae04cf63a2bbe55c0ef8fb47a\" id=\"a6ae4adae04cf63a2bbe55c0ef8fb47a\"><span data-lake-id=\"u65e88e71\" id=\"u65e88e71\">sphinx</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22SLJtw%22%7D\"></card><h4 data-lake-id=\"poq37\" id=\"poq37\"><span data-lake-id=\"ue85f735d\" id=\"ue85f735d\">前言</span></h4><p data-lake-id=\"c60edacd4c212083c1283fc9f35df47c\" id=\"c60edacd4c212083c1283fc9f35df47c\"><span data-lake-id=\"u5bf819de\" id=\"u5bf819de\">Sphinx是一个可以用于Python的自动文档生成工具，可以自动的把docstring转换为文档，并支持多种输出格式包括html，latex，pdf等。</span></p><h2 data-lake-id=\"xtdAw\" id=\"xtdAw\"><span data-lake-id=\"u191e7ba2\" id=\"u191e7ba2\">安装</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20sphinx%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22BtAeo%22%7D\"></card><h2 data-lake-id=\"JRN5J\" id=\"JRN5J\"><span data-lake-id=\"u1ecbe9eb\" id=\"u1ecbe9eb\">生成文档的简单例子</span></h2><p data-lake-id=\"9a38534637c8031f1e60b16f02508f8d\" id=\"9a38534637c8031f1e60b16f02508f8d\"><span data-lake-id=\"u36898132\" id=\"u36898132\">假设现在我们有一个叫run.py的文件，如下</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23%20run.py%5Cndef%20run(name)%3A%5Cn%20%20%20%20%5C%22%5C%22%5C%22%5Cn%20%20%20%20this%20is%20how%20we%20run%5Cn%20%20%20%20%3Aparam%20name%20name%20of%20people%20who%20runs%5Cn%20%20%20%20%5C%22%5C%22%5C%22%5Cn%20%20%20%20print%20name%2C%20'is%20running'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224pwQc%22%7D\"></card><ul list=\"u98c2891f\"><li fid=\"ufe63b5ba\" data-lake-id=\"703b7a2fa14958c14afb399277382a8d\" id=\"703b7a2fa14958c14afb399277382a8d\"><span data-lake-id=\"u87730f4e\" id=\"u87730f4e\">新建demo 文件夹，将run.py 拷入</span></li><li fid=\"ufe63b5ba\" data-lake-id=\"3d67fca6b870cdba6c42932ea3f35a07\" id=\"3d67fca6b870cdba6c42932ea3f35a07\"><span data-lake-id=\"u6c0d370c\" id=\"u6c0d370c\">在demo/ 中新建doc文件夹</span></li><li fid=\"ufe63b5ba\" data-lake-id=\"9522cea0af1a8648d9de39086debe0c3\" id=\"9522cea0af1a8648d9de39086debe0c3\"><span data-lake-id=\"u6404cdc7\" id=\"u6404cdc7\">生成Sphinx默认模板，设置项目名为demo</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sphinx-quickstart%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XIbH8%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%B3%A8%E6%84%8F%5Cnautodoc%3A%20automatically%20insert%20docstrings%20from%20modules%20(y%2Fn)%20%5Bn%5D%E9%80%89%E6%8B%A9yes%5CnSeparate%20source%20and%20build%20directories%20(y%2Fn)%20%5Bn%5D%3A%E5%BB%BA%E8%AE%AE%E9%80%89%E6%8B%A9yes%5Cn%E5%85%B6%E4%BB%96%E9%80%89%E9%A1%B9%E5%9D%87%E9%BB%98%E8%AE%A4%E5%8D%B3%E5%8F%AF%E3%80%82%5Cn%E7%94%9F%E6%88%90%E7%9A%84%E9%BB%98%E8%AE%A4%E7%9B%AE%E5%BD%95%EF%BC%9A%5Cn%5Ct-%20demo%2F%20%23%20%E5%88%9A%E6%89%8D%E6%96%B0%E5%BB%BA%E7%9A%84%E7%9B%AE%E5%BD%95%5Cn%5Ct%20%20%20%20-%20source%2F%20%23%20%E5%AD%98%E6%94%BESphinx%E5%B7%A5%E7%A8%8B%E6%BA%90%E7%A0%81%5Cn%5Ct%20%20%20%20-%20build%2F%20%23%20%E5%AD%98%E6%94%BE%E7%94%9F%E6%88%90%E7%9A%84%E6%96%87%E6%A1%A3%5Cn%5Ct%20%20%20%20Makefile%5Cn%5Ct%20%20%20%20make.bat%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nDXRa%22%7D\"></card><ul list=\"ufdb53ece\"><li fid=\"uaaa4f48a\" data-lake-id=\"6af40695dbf7efd68d547bf2cceb7682\" id=\"6af40695dbf7efd68d547bf2cceb7682\"><span data-lake-id=\"u5a10d147\" id=\"u5a10d147\">打开source/index.rst 修改为如下内容</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Welcome%20to%20demo's%20API%20Documentation%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn..%20toctree%3A%3A%5Cn%20%20%20%3Amaxdepth%3A%202%5Cn%20%20%20%3Acaption%3A%20Contents%3A%5CnIntroduction%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5CnThis%20is%20the%20introduction%20of%20demo%E3%80%82%5CnAPI%5Cn%3D%3D%3D%5Cn..%20automodule%3A%3A%20run%5Cn%20%20%20%3Amembers%3A%5CnIndices%20and%20tables%5Cn%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%3D%5Cn*%20%3Aref%3A%60genindex%60%5Cn*%20%3Aref%3A%60modindex%60%5Cn*%20%3Aref%3A%60search%60%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%223Ermp%22%7D\"></card><ul list=\"uc24d80a4\"><li fid=\"uedd674ae\" data-lake-id=\"6bc500b880390071019c96679a4b7aeb\" id=\"6bc500b880390071019c96679a4b7aeb\"><span data-lake-id=\"u1f6b234a\" id=\"u1f6b234a\">打开source/conf.py 添加如下内容</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22import%20os%5Cnimport%20sys%5Cnsys.path.insert(0%2C%20os.path.abspath('..%2F..'))%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Qx9Aa%22%7D\"></card><ul list=\"u7d6ce26c\"><li fid=\"ub8641b5e\" data-lake-id=\"12fc31d323e44e0610a2491eb046580a\" id=\"12fc31d323e44e0610a2491eb046580a\"><span data-lake-id=\"ud5188427\" id=\"ud5188427\">在demo目录下运行Sphinx生成html文档</span></li></ul><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22sphinx-build%20-b%20html%20source%20build%5Cnmake%20html%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22om2jH%22%7D\"></card><ul list=\"ua28d56fa\"><li fid=\"u68103e2b\" data-lake-id=\"5a3e55685f3c04b9847490d83c54b6b9\" id=\"5a3e55685f3c04b9847490d83c54b6b9\"><span data-lake-id=\"ua5a7a4e5\" id=\"ua5a7a4e5\">现在，打开build/html/index.html就可以看到运行成功的界面了。</span></li></ul><p data-lake-id=\"e5d896619b300aa3970b80de7cc0135c\" id=\"e5d896619b300aa3970b80de7cc0135c\"><span data-lake-id=\"uac0ef548\" id=\"uac0ef548\">转载自：</span><a href=\"http://blog.csdn.net/preyta/article/details/73647937\" target=\"_blank\" data-lake-id=\"ue329d81e\" id=\"ue329d81e\"><span data-lake-id=\"u467412f4\" id=\"u467412f4\">http://blog.csdn.net/preyta/article/details/73647937</span></a></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:03:06.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:21.000Z",
    "updated_at": "2022-12-11T13:03:06.000Z",
    "published_at": "2022-12-11T13:03:06.000Z",
    "first_published_at": "2022-12-09T12:02:21.153Z",
    "word_count": 349,
    "cover": null,
    "description": "date: 2018-02-28 17:42:32+00:00layout: posttitle: 使用Sphinx为你的python模块自动生成文档categories: pythontags:pythonsphinx前言Sphinx是一个可以用于Python的自动文档生成工具，可以自动的把...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945026,
    "slug": "c9c12f236417cb95cb386827924a5d9d",
    "title": "2017-10-10-kivy-相关资源传送门",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: kivy 相关资源传送门<br />date: 2017-10-10 16:25:06<br />categories: kivy<br />tags:\n\n- kivy\n\n---\n\n[kivy 官网](https://kivy.org/#home)<br />[kivy 中文翻译 ](https://github.com/Kivy-CN/Kivy-CN)<br />[kivy android 打包教程 ](https://github.com/nkiiiiid/kivy-apk)<br />[kivy win 打包教程](https://github.com/nkiiiiid/kivy-exe)<br />[kivy中文论坛 ](http://kivy.club/forum.php)<br />QQ群：534622543<br />欢迎大家加入一起交流学习。\n",
    "body_draft": "---\n\nlayout: post<br />title: kivy 相关资源传送门<br />date: 2017-10-10 16:25:06<br />categories: kivy<br />tags:\n\n- kivy\n\n---\n\n[kivy 官网](https://kivy.org/#home)<br />[kivy 中文翻译 ](https://github.com/Kivy-CN/Kivy-CN)<br />[kivy android 打包教程 ](https://github.com/nkiiiiid/kivy-apk)<br />[kivy win 打包教程](https://github.com/nkiiiiid/kivy-exe)<br />[kivy中文论坛 ](http://kivy.club/forum.php)<br />QQ群：534622543<br />欢迎大家加入一起交流学习。\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"zyvwD\" class=\"ne-hr\"><p id=\"07f61b791d22dc6f5a0d91125d05c956\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"e18361bd52000b17e5d2b07074cf353b\" class=\"ne-p\"><span class=\"ne-text\">title: kivy 相关资源传送门</span></p><p id=\"d8122edfc2f0fdcb223ebf2f265091d7\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-10-10 16:25:06</span></p><p id=\"4c470819694f6bdaafeb9d823f61db36\" class=\"ne-p\"><span class=\"ne-text\">categories: kivy</span></p><p id=\"7a639f983614089b00528933a2e3d1dd\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"ed4544de1baa335302e000ba9a65b853\"><span class=\"ne-text\">kivy</span></li></ul><hr id=\"g16Iu\" class=\"ne-hr\"><p id=\"e2c66347fa9411879703921eba3ff46a\" class=\"ne-p\"><a href=\"https://kivy.org/#home\" data-href=\"https://kivy.org/#home\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">kivy 官网</span></a></p><p id=\"3971b9766931a1487dfc72e1008bda43\" class=\"ne-p\"><a href=\"https://github.com/Kivy-CN/Kivy-CN\" data-href=\"https://github.com/Kivy-CN/Kivy-CN\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">kivy 中文翻译 </span></a></p><p id=\"92c2871dc4ec3b8549aeb52ae3ee9204\" class=\"ne-p\"><a href=\"https://github.com/nkiiiiid/kivy-apk\" data-href=\"https://github.com/nkiiiiid/kivy-apk\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">kivy android 打包教程 </span></a></p><p id=\"414704291f0cba06c80e2bcedb8cd252\" class=\"ne-p\"><a href=\"https://github.com/nkiiiiid/kivy-exe\" data-href=\"https://github.com/nkiiiiid/kivy-exe\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">kivy win 打包教程</span></a></p><p id=\"f8b177e0ca90b2360f64076157d1050d\" class=\"ne-p\"><a href=\"http://kivy.club/forum.php\" data-href=\"http://kivy.club/forum.php\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">kivy中文论坛 </span></a></p><p id=\"4b3f844fdcb02bdfa7c39a212779efec\" class=\"ne-p\"><span class=\"ne-text\">QQ群：534622543</span></p><p id=\"83c5027f9f80b2a7e5600d5d7b79ab3a\" class=\"ne-p\"><span class=\"ne-text\">欢迎大家加入一起交流学习。</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22zyvwD%22%7D\"></card><p data-lake-id=\"07f61b791d22dc6f5a0d91125d05c956\" id=\"07f61b791d22dc6f5a0d91125d05c956\"><span data-lake-id=\"ud840498c\" id=\"ud840498c\">layout: post</span></p><p data-lake-id=\"e18361bd52000b17e5d2b07074cf353b\" id=\"e18361bd52000b17e5d2b07074cf353b\"><span data-lake-id=\"u840a8bd4\" id=\"u840a8bd4\">title: kivy 相关资源传送门</span></p><p data-lake-id=\"d8122edfc2f0fdcb223ebf2f265091d7\" id=\"d8122edfc2f0fdcb223ebf2f265091d7\"><span data-lake-id=\"u59834433\" id=\"u59834433\">date: 2017-10-10 16:25:06</span></p><p data-lake-id=\"4c470819694f6bdaafeb9d823f61db36\" id=\"4c470819694f6bdaafeb9d823f61db36\"><span data-lake-id=\"ue3a97e01\" id=\"ue3a97e01\">categories: kivy</span></p><p data-lake-id=\"7a639f983614089b00528933a2e3d1dd\" id=\"7a639f983614089b00528933a2e3d1dd\"><span data-lake-id=\"uc5928590\" id=\"uc5928590\">tags:</span></p><ul list=\"u3825f0fa\"><li fid=\"u3aadf586\" data-lake-id=\"ed4544de1baa335302e000ba9a65b853\" id=\"ed4544de1baa335302e000ba9a65b853\"><span data-lake-id=\"u7de88801\" id=\"u7de88801\">kivy</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22g16Iu%22%7D\"></card><p data-lake-id=\"e2c66347fa9411879703921eba3ff46a\" id=\"e2c66347fa9411879703921eba3ff46a\"><a href=\"https://kivy.org/#home\" target=\"_blank\" data-lake-id=\"u2a4510ce\" id=\"u2a4510ce\"><span data-lake-id=\"u960c7cd6\" id=\"u960c7cd6\">kivy 官网</span></a></p><p data-lake-id=\"3971b9766931a1487dfc72e1008bda43\" id=\"3971b9766931a1487dfc72e1008bda43\"><a href=\"https://github.com/Kivy-CN/Kivy-CN\" target=\"_blank\" data-lake-id=\"u3ee6705d\" id=\"u3ee6705d\"><span data-lake-id=\"ucbb8a8c6\" id=\"ucbb8a8c6\">kivy 中文翻译 </span></a></p><p data-lake-id=\"92c2871dc4ec3b8549aeb52ae3ee9204\" id=\"92c2871dc4ec3b8549aeb52ae3ee9204\"><a href=\"https://github.com/nkiiiiid/kivy-apk\" target=\"_blank\" data-lake-id=\"u97edcc5d\" id=\"u97edcc5d\"><span data-lake-id=\"u3e3387f5\" id=\"u3e3387f5\">kivy android 打包教程 </span></a></p><p data-lake-id=\"414704291f0cba06c80e2bcedb8cd252\" id=\"414704291f0cba06c80e2bcedb8cd252\"><a href=\"https://github.com/nkiiiiid/kivy-exe\" target=\"_blank\" data-lake-id=\"u41f7cd55\" id=\"u41f7cd55\"><span data-lake-id=\"u528ad6ec\" id=\"u528ad6ec\">kivy win 打包教程</span></a></p><p data-lake-id=\"f8b177e0ca90b2360f64076157d1050d\" id=\"f8b177e0ca90b2360f64076157d1050d\"><a href=\"http://kivy.club/forum.php\" target=\"_blank\" data-lake-id=\"u54c52d55\" id=\"u54c52d55\"><span data-lake-id=\"u0fa83501\" id=\"u0fa83501\">kivy中文论坛 </span></a></p><p data-lake-id=\"4b3f844fdcb02bdfa7c39a212779efec\" id=\"4b3f844fdcb02bdfa7c39a212779efec\"><span data-lake-id=\"u40e75def\" id=\"u40e75def\">QQ群：534622543</span></p><p data-lake-id=\"83c5027f9f80b2a7e5600d5d7b79ab3a\" id=\"83c5027f9f80b2a7e5600d5d7b79ab3a\"><span data-lake-id=\"u26dfe861\" id=\"u26dfe861\">欢迎大家加入一起交流学习。</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22zyvwD%22%7D\"></card><p data-lake-id=\"07f61b791d22dc6f5a0d91125d05c956\" id=\"07f61b791d22dc6f5a0d91125d05c956\"><span data-lake-id=\"ud840498c\" id=\"ud840498c\">layout: post</span></p><p data-lake-id=\"e18361bd52000b17e5d2b07074cf353b\" id=\"e18361bd52000b17e5d2b07074cf353b\"><span data-lake-id=\"u840a8bd4\" id=\"u840a8bd4\">title: kivy 相关资源传送门</span></p><p data-lake-id=\"d8122edfc2f0fdcb223ebf2f265091d7\" id=\"d8122edfc2f0fdcb223ebf2f265091d7\"><span data-lake-id=\"u59834433\" id=\"u59834433\">date: 2017-10-10 16:25:06</span></p><p data-lake-id=\"4c470819694f6bdaafeb9d823f61db36\" id=\"4c470819694f6bdaafeb9d823f61db36\"><span data-lake-id=\"ue3a97e01\" id=\"ue3a97e01\">categories: kivy</span></p><p data-lake-id=\"7a639f983614089b00528933a2e3d1dd\" id=\"7a639f983614089b00528933a2e3d1dd\"><span data-lake-id=\"uc5928590\" id=\"uc5928590\">tags:</span></p><ul list=\"u3825f0fa\"><li fid=\"u3aadf586\" data-lake-id=\"ed4544de1baa335302e000ba9a65b853\" id=\"ed4544de1baa335302e000ba9a65b853\"><span data-lake-id=\"u7de88801\" id=\"u7de88801\">kivy</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22g16Iu%22%7D\"></card><p data-lake-id=\"e2c66347fa9411879703921eba3ff46a\" id=\"e2c66347fa9411879703921eba3ff46a\"><a href=\"https://kivy.org/#home\" target=\"_blank\" data-lake-id=\"u2a4510ce\" id=\"u2a4510ce\"><span data-lake-id=\"u960c7cd6\" id=\"u960c7cd6\">kivy 官网</span></a></p><p data-lake-id=\"3971b9766931a1487dfc72e1008bda43\" id=\"3971b9766931a1487dfc72e1008bda43\"><a href=\"https://github.com/Kivy-CN/Kivy-CN\" target=\"_blank\" data-lake-id=\"u3ee6705d\" id=\"u3ee6705d\"><span data-lake-id=\"ucbb8a8c6\" id=\"ucbb8a8c6\">kivy 中文翻译 </span></a></p><p data-lake-id=\"92c2871dc4ec3b8549aeb52ae3ee9204\" id=\"92c2871dc4ec3b8549aeb52ae3ee9204\"><a href=\"https://github.com/nkiiiiid/kivy-apk\" target=\"_blank\" data-lake-id=\"u97edcc5d\" id=\"u97edcc5d\"><span data-lake-id=\"u3e3387f5\" id=\"u3e3387f5\">kivy android 打包教程 </span></a></p><p data-lake-id=\"414704291f0cba06c80e2bcedb8cd252\" id=\"414704291f0cba06c80e2bcedb8cd252\"><a href=\"https://github.com/nkiiiiid/kivy-exe\" target=\"_blank\" data-lake-id=\"u41f7cd55\" id=\"u41f7cd55\"><span data-lake-id=\"u528ad6ec\" id=\"u528ad6ec\">kivy win 打包教程</span></a></p><p data-lake-id=\"f8b177e0ca90b2360f64076157d1050d\" id=\"f8b177e0ca90b2360f64076157d1050d\"><a href=\"http://kivy.club/forum.php\" target=\"_blank\" data-lake-id=\"u54c52d55\" id=\"u54c52d55\"><span data-lake-id=\"u0fa83501\" id=\"u0fa83501\">kivy中文论坛 </span></a></p><p data-lake-id=\"4b3f844fdcb02bdfa7c39a212779efec\" id=\"4b3f844fdcb02bdfa7c39a212779efec\"><span data-lake-id=\"u40e75def\" id=\"u40e75def\">QQ群：534622543</span></p><p data-lake-id=\"83c5027f9f80b2a7e5600d5d7b79ab3a\" id=\"83c5027f9f80b2a7e5600d5d7b79ab3a\"><span data-lake-id=\"u26dfe861\" id=\"u26dfe861\">欢迎大家加入一起交流学习。</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:06:11.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:20.000Z",
    "updated_at": "2022-12-11T13:06:12.000Z",
    "published_at": "2022-12-11T13:06:11.000Z",
    "first_published_at": "2022-12-09T12:02:19.859Z",
    "word_count": 60,
    "cover": null,
    "description": "layout: posttitle: kivy 相关资源传送门date: 2017-10-10 16:25:06categories: kivytags:kivykivy 官网kivy 中文翻译 kivy android 打包教程 kivy win 打包教程kivy中文论坛 QQ群：53462...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945023,
    "slug": "f8d4469307d677134407c61ba4e55a9a",
    "title": "2017-10-09-仿开眼APP-kotlin",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: 仿开眼APP kotlin<br />date: 2017-10-09 16:25:06<br />categories: kotlin<br />tags:\n\n- kotlin\n\n---\n\n<a name=\"mU94U\"></a>\n# Eyepetizer\n```\n主要是为了通过仿写APP更好的学习kotlin(选择该APP原因主要是因为有大佬已经写过了，站在巨人的肩膀站得高看的远)\n```\n[gitHub地址](https://github.com/zyqzyq/Eyepetizer-kotlin)\n<a name=\"ONqJW\"></a>\n# 计划(基本完成)\n```\n主页\n发现页面（包含热门，分类，作者）\n关注页面\n播放页面   \n全部作者页面\n全部分类页面\n分类详情页面（包含首页，全部，作者，专辑）\n排行榜页面（包含周排行，月排行，总排行）\n搜索页面\n```\n<a name=\"Ej0Ky\"></a>\n# 目前进度\n<a name=\"U2kzM\"></a>\n## 启动页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/splash.png#crop=0&crop=0&crop=1&crop=1&id=qMG6H&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n开启启动画面渐变 ( Handler+Thread )\n```\n<a name=\"RujjY\"></a>\n## 首页\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/home.png#crop=0&crop=0&crop=1&crop=1&id=Pw76l&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n显示每日精选自动轮播自动播放5秒小视频介绍 (viewpager + indicator)(增加无限循环，优化最后一页跳转卡顿)\n显示推荐视频选项（简单的添加显示在recyclerView中 ）（每日精选的视频右下角添加图片标识）\n实现每日精选文字逐字显示\n实现下拉放大图片刷新\n增加再按一次退出提示\n```\n<a name=\"vJPoW\"></a>\n## 播放页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/play1.png#crop=0&crop=0&crop=1&crop=1&id=vxtgx&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/play2.png#crop=0&crop=0&crop=1&crop=1&id=uOeRH&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n旋转和点击控制全屏播放\n实现显示作品相关信息(暂未实现缓存功能)\n实现相关视频推荐\n```\n<a name=\"w8dvw\"></a>\n## 发现页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/discoverHot.png#crop=0&crop=0&crop=1&crop=1&id=Cazrq&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/discoverCategory.png#crop=0&crop=0&crop=1&crop=1&id=T1WPf&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n实现热门小页面\n实现banner轮播图（用的git大佬的轮子,链接在最底下）\n实现热门视频推荐\n实现热门排行链接（横向的recyclerView实现）\n实现分类小页面\n页面的item主要用的banner轮子(有一些细微的改动)\n实现作者小页面\n使用横向的recyclerView实现最新作者推荐栏的滑动\n```\n<a name=\"E6Gt4\"></a>\n## 关注页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/follow.png#crop=0&crop=0&crop=1&crop=1&id=aKbXP&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n主要调用之前的fragment 快速实现\n```\n<a name=\"Wn9No\"></a>\n## 我的页面\n```\n主要就显示显示（准备实现缓存功能）\n```\n<a name=\"Xyph0\"></a>\n## 全部作者页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/pgcsAll.png#crop=0&crop=0&crop=1&crop=1&id=jt57V&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n与发现作者小页面一样\n```\n<a name=\"giGFi\"></a>\n## 全部分类页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/categoryAll.png#crop=0&crop=0&crop=1&crop=1&id=jTuyz&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n使用gridView显示分类列表（不知道热门排行，热门专题，360全景的api就没添加）\n```\n<a name=\"dtiBe\"></a>\n## 分类详情页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/categoryDetail.png#crop=0&crop=0&crop=1&crop=1&id=dQPmH&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\nscrollView + tabLayout + viewPager + Fragment  实现4个小分页的显示\n```\n<a name=\"vAaIW\"></a>\n## 排行榜页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/rankList1.png#crop=0&crop=0&crop=1&crop=1&id=qUYzo&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/rankList2.png#crop=0&crop=0&crop=1&crop=1&id=Vd3zy&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n使用和发现页面类似的方法，由于子页面数据类型一样，用同一个fragment实现。\n```\n<a name=\"S3jzS\"></a>\n## 搜索页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/search1.png#crop=0&crop=0&crop=1&crop=1&id=XbJrO&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/search2.png#crop=0&crop=0&crop=1&crop=1&id=IrPue&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n偷懒使用了activity + recyclerView简单实现\n```\n<a name=\"BIhis\"></a>\n## bug\n```\n状态栏无法完全透明\n```\n<a name=\"kpeAN\"></a>\n## TODO\n```\n准备实现缓存功能\n准备优化界面显示\n```\n<a name=\"Hzw5O\"></a>\n# 实现方式\n```\nmvp 框架\nokhttp+retrofit+rxjava 实现网络请求框架\nTabLayout+Fragment 实现底部导航栏\nTabLayout + ViewPager + Fragment 实现分页显示\n```\n<a name=\"Ta96j\"></a>\n# 关于我\n```\n联系：497533265@qq.com\n```\n<a name=\"M0eGt\"></a>\n## 声明\n```\nApi 数据都是来自开眼视频，数据接口均属于非正常渠道获取，请勿用于商业用途，原作公司拥有所有权利。\n```\n<a name=\"jDSGl\"></a>\n## 参考\n```\nhttps://github.com/kaikaixue/Eyepetizer\nhttps://github.com/LRH1993/Eyepetizer-in-Kotlin\nhttps://github.com/youth5201314/banner\nhttps://github.com/CarGuo/GSYVideoPlayer\n感谢大佬们的资源，向大佬们学习。\n```\n",
    "body_draft": "---\n\nlayout: post<br />title: 仿开眼APP kotlin<br />date: 2017-10-09 16:25:06<br />categories: kotlin<br />tags:\n\n- kotlin\n\n---\n\n<a name=\"mU94U\"></a>\n# Eyepetizer\n```\n主要是为了通过仿写APP更好的学习kotlin(选择该APP原因主要是因为有大佬已经写过了，站在巨人的肩膀站得高看的远)\n```\n[gitHub地址](https://github.com/zyqzyq/Eyepetizer-kotlin)\n<a name=\"ONqJW\"></a>\n# 计划(基本完成)\n```\n主页\n发现页面（包含热门，分类，作者）\n关注页面\n播放页面   \n全部作者页面\n全部分类页面\n分类详情页面（包含首页，全部，作者，专辑）\n排行榜页面（包含周排行，月排行，总排行）\n搜索页面\n```\n<a name=\"Ej0Ky\"></a>\n# 目前进度\n<a name=\"U2kzM\"></a>\n## 启动页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/splash.png#crop=0&crop=0&crop=1&crop=1&id=qMG6H&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n开启启动画面渐变 ( Handler+Thread )\n```\n<a name=\"RujjY\"></a>\n## 首页\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/home.png#crop=0&crop=0&crop=1&crop=1&id=Pw76l&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n显示每日精选自动轮播自动播放5秒小视频介绍 (viewpager + indicator)(增加无限循环，优化最后一页跳转卡顿)\n显示推荐视频选项（简单的添加显示在recyclerView中 ）（每日精选的视频右下角添加图片标识）\n实现每日精选文字逐字显示\n实现下拉放大图片刷新\n增加再按一次退出提示\n```\n<a name=\"vJPoW\"></a>\n## 播放页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/play1.png#crop=0&crop=0&crop=1&crop=1&id=vxtgx&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/play2.png#crop=0&crop=0&crop=1&crop=1&id=uOeRH&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n旋转和点击控制全屏播放\n实现显示作品相关信息(暂未实现缓存功能)\n实现相关视频推荐\n```\n<a name=\"w8dvw\"></a>\n## 发现页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/discoverHot.png#crop=0&crop=0&crop=1&crop=1&id=Cazrq&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/discoverCategory.png#crop=0&crop=0&crop=1&crop=1&id=T1WPf&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n实现热门小页面\n实现banner轮播图（用的git大佬的轮子,链接在最底下）\n实现热门视频推荐\n实现热门排行链接（横向的recyclerView实现）\n实现分类小页面\n页面的item主要用的banner轮子(有一些细微的改动)\n实现作者小页面\n使用横向的recyclerView实现最新作者推荐栏的滑动\n```\n<a name=\"E6Gt4\"></a>\n## 关注页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/follow.png#crop=0&crop=0&crop=1&crop=1&id=aKbXP&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n主要调用之前的fragment 快速实现\n```\n<a name=\"Wn9No\"></a>\n## 我的页面\n```\n主要就显示显示（准备实现缓存功能）\n```\n<a name=\"Xyph0\"></a>\n## 全部作者页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/pgcsAll.png#crop=0&crop=0&crop=1&crop=1&id=jt57V&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n与发现作者小页面一样\n```\n<a name=\"giGFi\"></a>\n## 全部分类页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/categoryAll.png#crop=0&crop=0&crop=1&crop=1&id=jTuyz&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n使用gridView显示分类列表（不知道热门排行，热门专题，360全景的api就没添加）\n```\n<a name=\"dtiBe\"></a>\n## 分类详情页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/categoryDetail.png#crop=0&crop=0&crop=1&crop=1&id=dQPmH&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\nscrollView + tabLayout + viewPager + Fragment  实现4个小分页的显示\n```\n<a name=\"vAaIW\"></a>\n## 排行榜页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/rankList1.png#crop=0&crop=0&crop=1&crop=1&id=qUYzo&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/rankList2.png#crop=0&crop=0&crop=1&crop=1&id=Vd3zy&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n使用和发现页面类似的方法，由于子页面数据类型一样，用同一个fragment实现。\n```\n<a name=\"S3jzS\"></a>\n## 搜索页面\n![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/search1.png#crop=0&crop=0&crop=1&crop=1&id=XbJrO&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />![](https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/search2.png#crop=0&crop=0&crop=1&crop=1&id=IrPue&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n```\n偷懒使用了activity + recyclerView简单实现\n```\n<a name=\"BIhis\"></a>\n## bug\n```\n状态栏无法完全透明\n```\n<a name=\"kpeAN\"></a>\n## TODO\n```\n准备实现缓存功能\n准备优化界面显示\n```\n<a name=\"Hzw5O\"></a>\n# 实现方式\n```\nmvp 框架\nokhttp+retrofit+rxjava 实现网络请求框架\nTabLayout+Fragment 实现底部导航栏\nTabLayout + ViewPager + Fragment 实现分页显示\n```\n<a name=\"Ta96j\"></a>\n# 关于我\n```\n联系：497533265@qq.com\n```\n<a name=\"M0eGt\"></a>\n## 声明\n```\nApi 数据都是来自开眼视频，数据接口均属于非正常渠道获取，请勿用于商业用途，原作公司拥有所有权利。\n```\n<a name=\"jDSGl\"></a>\n## 参考\n```\nhttps://github.com/kaikaixue/Eyepetizer\nhttps://github.com/LRH1993/Eyepetizer-in-Kotlin\nhttps://github.com/youth5201314/banner\nhttps://github.com/CarGuo/GSYVideoPlayer\n感谢大佬们的资源，向大佬们学习。\n```\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"VptGl\" class=\"ne-hr\"><p id=\"271259acee9c171319e65471ea713d11\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"654c35a1afe952931b9ade8dcf521603\" class=\"ne-p\"><span class=\"ne-text\">title: 仿开眼APP kotlin</span></p><p id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-10-09 16:25:06</span></p><p id=\"f259687d4b92a0314332a1cc21ed6c97\" class=\"ne-p\"><span class=\"ne-text\">categories: kotlin</span></p><p id=\"3f1459936301c3ad199b527bd6652e32\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"cc9438258eacfe35740d60a70130cd70\"><span class=\"ne-text\">kotlin</span></li></ul><hr id=\"KXFOx\" class=\"ne-hr\"><h1 id=\"mU94U\"><span class=\"ne-text\">Eyepetizer</span></h1><pre data-language=\"plain\" id=\"MysCh\" class=\"ne-codeblock language-plain\">主要是为了通过仿写APP更好的学习kotlin(选择该APP原因主要是因为有大佬已经写过了，站在巨人的肩膀站得高看的远)</pre><p id=\"6f386a8058a740e16fc5636e21b5dada\" class=\"ne-p\"><a href=\"https://github.com/zyqzyq/Eyepetizer-kotlin\" data-href=\"https://github.com/zyqzyq/Eyepetizer-kotlin\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">gitHub地址</span></a></p><h1 id=\"ONqJW\"><span class=\"ne-text\">计划(基本完成)</span></h1><pre data-language=\"plain\" id=\"suhdu\" class=\"ne-codeblock language-plain\">主页\n发现页面（包含热门，分类，作者）\n关注页面\n播放页面   \n全部作者页面\n全部分类页面\n分类详情页面（包含首页，全部，作者，专辑）\n排行榜页面（包含周排行，月排行，总排行）\n搜索页面</pre><h1 id=\"Ej0Ky\"><span class=\"ne-text\">目前进度</span></h1><h2 id=\"U2kzM\"><span class=\"ne-text\">启动页面</span></h2><p id=\"3a2ba911c853e8fd6374152602bbeaba\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/splash.png\" id=\"qMG6H\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"6Ioh2\" class=\"ne-codeblock language-plain\">开启启动画面渐变 ( Handler+Thread )</pre><h2 id=\"RujjY\"><span class=\"ne-text\">首页</span></h2><p id=\"bff4c532ac093a1ba81b026798114586\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/home.png\" id=\"Pw76l\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"kEYTy\" class=\"ne-codeblock language-plain\">显示每日精选自动轮播自动播放5秒小视频介绍 (viewpager + indicator)(增加无限循环，优化最后一页跳转卡顿)\n显示推荐视频选项（简单的添加显示在recyclerView中 ）（每日精选的视频右下角添加图片标识）\n实现每日精选文字逐字显示\n实现下拉放大图片刷新\n增加再按一次退出提示</pre><h2 id=\"vJPoW\"><span class=\"ne-text\">播放页面</span></h2><p id=\"8012e5158174e464abecd3ef06213781\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/play1.png\" id=\"vxtgx\" class=\"ne-image\"></p><p id=\"a67cb8a31e22651a273375e3cbe104a2\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/play2.png\" id=\"uOeRH\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"JqDZt\" class=\"ne-codeblock language-plain\">旋转和点击控制全屏播放\n实现显示作品相关信息(暂未实现缓存功能)\n实现相关视频推荐</pre><h2 id=\"w8dvw\"><span class=\"ne-text\">发现页面</span></h2><p id=\"254025f0dbf0ed0944f5bc0df2d2dffd\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/discoverHot.png\" id=\"Cazrq\" class=\"ne-image\"></p><p id=\"11aed195a221407a08c0a203c59358a7\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/discoverCategory.png\" id=\"T1WPf\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"h189c\" class=\"ne-codeblock language-plain\">实现热门小页面\n实现banner轮播图（用的git大佬的轮子,链接在最底下）\n实现热门视频推荐\n实现热门排行链接（横向的recyclerView实现）\n实现分类小页面\n页面的item主要用的banner轮子(有一些细微的改动)\n实现作者小页面\n使用横向的recyclerView实现最新作者推荐栏的滑动</pre><h2 id=\"E6Gt4\"><span class=\"ne-text\">关注页面</span></h2><p id=\"d0b00e3ee8a5ae302d668588926f7c79\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/follow.png\" id=\"aKbXP\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"uFfdk\" class=\"ne-codeblock language-plain\">主要调用之前的fragment 快速实现</pre><h2 id=\"Wn9No\"><span class=\"ne-text\">我的页面</span></h2><pre data-language=\"plain\" id=\"6W54I\" class=\"ne-codeblock language-plain\">主要就显示显示（准备实现缓存功能）</pre><h2 id=\"Xyph0\"><span class=\"ne-text\">全部作者页面</span></h2><p id=\"07d15f5cf1fceadd9aa9ce26a9c2d762\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/pgcsAll.png\" id=\"jt57V\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"qrUyk\" class=\"ne-codeblock language-plain\">与发现作者小页面一样</pre><h2 id=\"giGFi\"><span class=\"ne-text\">全部分类页面</span></h2><p id=\"91eea8961ef14002a9f6e9aa7ec80138\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/categoryAll.png\" id=\"jTuyz\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"BsGHi\" class=\"ne-codeblock language-plain\">使用gridView显示分类列表（不知道热门排行，热门专题，360全景的api就没添加）</pre><h2 id=\"dtiBe\"><span class=\"ne-text\">分类详情页面</span></h2><p id=\"8deb3881ef8f8431058042acfa05e660\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/categoryDetail.png\" id=\"dQPmH\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"AR1TX\" class=\"ne-codeblock language-plain\">scrollView + tabLayout + viewPager + Fragment  实现4个小分页的显示</pre><h2 id=\"vAaIW\"><span class=\"ne-text\">排行榜页面</span></h2><p id=\"de2cbd74269fae1c0570e8605899663f\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/rankList1.png\" id=\"qUYzo\" class=\"ne-image\"></p><p id=\"4588153ce69439c768b0f3e608b686cc\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/rankList2.png\" id=\"Vd3zy\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"Q7LfD\" class=\"ne-codeblock language-plain\">使用和发现页面类似的方法，由于子页面数据类型一样，用同一个fragment实现。</pre><h2 id=\"S3jzS\"><span class=\"ne-text\">搜索页面</span></h2><p id=\"f3862df24cfd0babe3bc08a250ae9851\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/search1.png\" id=\"XbJrO\" class=\"ne-image\"></p><p id=\"1d6abd9d814dcf55cf86c34c2e01c866\" class=\"ne-p\"><img src=\"https://raw.githubusercontent.com/zyqzyq/Eyepetizer-kotlin/master/screenshots/search2.png\" id=\"IrPue\" class=\"ne-image\"></p><pre data-language=\"plain\" id=\"j2tUf\" class=\"ne-codeblock language-plain\">偷懒使用了activity + recyclerView简单实现</pre><h2 id=\"BIhis\"><span class=\"ne-text\">bug</span></h2><pre data-language=\"plain\" id=\"WL9sX\" class=\"ne-codeblock language-plain\">状态栏无法完全透明</pre><h2 id=\"kpeAN\"><span class=\"ne-text\">TODO</span></h2><pre data-language=\"plain\" id=\"TKc3C\" class=\"ne-codeblock language-plain\">准备实现缓存功能\n准备优化界面显示</pre><h1 id=\"Hzw5O\"><span class=\"ne-text\">实现方式</span></h1><pre data-language=\"plain\" id=\"nT2Oi\" class=\"ne-codeblock language-plain\">mvp 框架\nokhttp+retrofit+rxjava 实现网络请求框架\nTabLayout+Fragment 实现底部导航栏\nTabLayout + ViewPager + Fragment 实现分页显示</pre><h1 id=\"Ta96j\"><span class=\"ne-text\">关于我</span></h1><pre data-language=\"plain\" id=\"lKeOQ\" class=\"ne-codeblock language-plain\">联系：497533265@qq.com</pre><h2 id=\"M0eGt\"><span class=\"ne-text\">声明</span></h2><pre data-language=\"plain\" id=\"XWKXH\" class=\"ne-codeblock language-plain\">Api 数据都是来自开眼视频，数据接口均属于非正常渠道获取，请勿用于商业用途，原作公司拥有所有权利。</pre><h2 id=\"jDSGl\"><span class=\"ne-text\">参考</span></h2><pre data-language=\"plain\" id=\"G16vR\" class=\"ne-codeblock language-plain\">https://github.com/kaikaixue/Eyepetizer\nhttps://github.com/LRH1993/Eyepetizer-in-Kotlin\nhttps://github.com/youth5201314/banner\nhttps://github.com/CarGuo/GSYVideoPlayer\n感谢大佬们的资源，向大佬们学习。</pre></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VptGl%22%7D\"></card><p data-lake-id=\"271259acee9c171319e65471ea713d11\" id=\"271259acee9c171319e65471ea713d11\"><span data-lake-id=\"u0676201e\" id=\"u0676201e\">layout: post</span></p><p data-lake-id=\"654c35a1afe952931b9ade8dcf521603\" id=\"654c35a1afe952931b9ade8dcf521603\"><span data-lake-id=\"uece9ca94\" id=\"uece9ca94\">title: 仿开眼APP kotlin</span></p><p data-lake-id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\" id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\"><span data-lake-id=\"u0a2c9852\" id=\"u0a2c9852\">date: 2017-10-09 16:25:06</span></p><p data-lake-id=\"f259687d4b92a0314332a1cc21ed6c97\" id=\"f259687d4b92a0314332a1cc21ed6c97\"><span data-lake-id=\"u1ca82ae3\" id=\"u1ca82ae3\">categories: kotlin</span></p><p data-lake-id=\"3f1459936301c3ad199b527bd6652e32\" id=\"3f1459936301c3ad199b527bd6652e32\"><span data-lake-id=\"u11bd86bc\" id=\"u11bd86bc\">tags:</span></p><ul list=\"u32012e8d\"><li fid=\"ufb9ec91e\" data-lake-id=\"cc9438258eacfe35740d60a70130cd70\" id=\"cc9438258eacfe35740d60a70130cd70\"><span data-lake-id=\"ua5feedbd\" id=\"ua5feedbd\">kotlin</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22KXFOx%22%7D\"></card><h1 data-lake-id=\"mU94U\" id=\"mU94U\"><span data-lake-id=\"u7b6b42a4\" id=\"u7b6b42a4\">Eyepetizer</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E8%A6%81%E6%98%AF%E4%B8%BA%E4%BA%86%E9%80%9A%E8%BF%87%E4%BB%BF%E5%86%99APP%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%AD%A6%E4%B9%A0kotlin(%E9%80%89%E6%8B%A9%E8%AF%A5APP%E5%8E%9F%E5%9B%A0%E4%B8%BB%E8%A6%81%E6%98%AF%E5%9B%A0%E4%B8%BA%E6%9C%89%E5%A4%A7%E4%BD%AC%E5%B7%B2%E7%BB%8F%E5%86%99%E8%BF%87%E4%BA%86%EF%BC%8C%E7%AB%99%E5%9C%A8%E5%B7%A8%E4%BA%BA%E7%9A%84%E8%82%A9%E8%86%80%E7%AB%99%E5%BE%97%E9%AB%98%E7%9C%8B%E7%9A%84%E8%BF%9C)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22MysCh%22%7D\"></card><p data-lake-id=\"6f386a8058a740e16fc5636e21b5dada\" id=\"6f386a8058a740e16fc5636e21b5dada\"><a href=\"https://github.com/zyqzyq/Eyepetizer-kotlin\" target=\"_blank\" data-lake-id=\"u366c3e74\" id=\"u366c3e74\"><span data-lake-id=\"ucb2802dc\" id=\"ucb2802dc\">gitHub地址</span></a></p><h1 data-lake-id=\"ONqJW\" id=\"ONqJW\"><span data-lake-id=\"u4abc3a81\" id=\"u4abc3a81\">计划(基本完成)</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E9%A1%B5%5Cn%E5%8F%91%E7%8E%B0%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%8C%85%E5%90%AB%E7%83%AD%E9%97%A8%EF%BC%8C%E5%88%86%E7%B1%BB%EF%BC%8C%E4%BD%9C%E8%80%85%EF%BC%89%5Cn%E5%85%B3%E6%B3%A8%E9%A1%B5%E9%9D%A2%5Cn%E6%92%AD%E6%94%BE%E9%A1%B5%E9%9D%A2%20%20%20%5Cn%E5%85%A8%E9%83%A8%E4%BD%9C%E8%80%85%E9%A1%B5%E9%9D%A2%5Cn%E5%85%A8%E9%83%A8%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2%5Cn%E5%88%86%E7%B1%BB%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%8C%85%E5%90%AB%E9%A6%96%E9%A1%B5%EF%BC%8C%E5%85%A8%E9%83%A8%EF%BC%8C%E4%BD%9C%E8%80%85%EF%BC%8C%E4%B8%93%E8%BE%91%EF%BC%89%5Cn%E6%8E%92%E8%A1%8C%E6%A6%9C%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%8C%85%E5%90%AB%E5%91%A8%E6%8E%92%E8%A1%8C%EF%BC%8C%E6%9C%88%E6%8E%92%E8%A1%8C%EF%BC%8C%E6%80%BB%E6%8E%92%E8%A1%8C%EF%BC%89%5Cn%E6%90%9C%E7%B4%A2%E9%A1%B5%E9%9D%A2%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22suhdu%22%7D\"></card><h1 data-lake-id=\"Ej0Ky\" id=\"Ej0Ky\"><span data-lake-id=\"u38465b2e\" id=\"u38465b2e\">目前进度</span></h1><h2 data-lake-id=\"U2kzM\" id=\"U2kzM\"><span data-lake-id=\"u4b41f099\" id=\"u4b41f099\">启动页面</span></h2><p data-lake-id=\"3a2ba911c853e8fd6374152602bbeaba\" id=\"3a2ba911c853e8fd6374152602bbeaba\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fsplash.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22qMG6H%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%BC%80%E5%90%AF%E5%90%AF%E5%8A%A8%E7%94%BB%E9%9D%A2%E6%B8%90%E5%8F%98%20(%20Handler%2BThread%20)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226Ioh2%22%7D\"></card><h2 data-lake-id=\"RujjY\" id=\"RujjY\"><span data-lake-id=\"uf5f5a07f\" id=\"uf5f5a07f\">首页</span></h2><p data-lake-id=\"bff4c532ac093a1ba81b026798114586\" id=\"bff4c532ac093a1ba81b026798114586\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fhome.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Pw76l%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%98%BE%E7%A4%BA%E6%AF%8F%E6%97%A5%E7%B2%BE%E9%80%89%E8%87%AA%E5%8A%A8%E8%BD%AE%E6%92%AD%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE5%E7%A7%92%E5%B0%8F%E8%A7%86%E9%A2%91%E4%BB%8B%E7%BB%8D%20(viewpager%20%2B%20indicator)(%E5%A2%9E%E5%8A%A0%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF%EF%BC%8C%E4%BC%98%E5%8C%96%E6%9C%80%E5%90%8E%E4%B8%80%E9%A1%B5%E8%B7%B3%E8%BD%AC%E5%8D%A1%E9%A1%BF)%5Cn%E6%98%BE%E7%A4%BA%E6%8E%A8%E8%8D%90%E8%A7%86%E9%A2%91%E9%80%89%E9%A1%B9%EF%BC%88%E7%AE%80%E5%8D%95%E7%9A%84%E6%B7%BB%E5%8A%A0%E6%98%BE%E7%A4%BA%E5%9C%A8recyclerView%E4%B8%AD%20%EF%BC%89%EF%BC%88%E6%AF%8F%E6%97%A5%E7%B2%BE%E9%80%89%E7%9A%84%E8%A7%86%E9%A2%91%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%B7%BB%E5%8A%A0%E5%9B%BE%E7%89%87%E6%A0%87%E8%AF%86%EF%BC%89%5Cn%E5%AE%9E%E7%8E%B0%E6%AF%8F%E6%97%A5%E7%B2%BE%E9%80%89%E6%96%87%E5%AD%97%E9%80%90%E5%AD%97%E6%98%BE%E7%A4%BA%5Cn%E5%AE%9E%E7%8E%B0%E4%B8%8B%E6%8B%89%E6%94%BE%E5%A4%A7%E5%9B%BE%E7%89%87%E5%88%B7%E6%96%B0%5Cn%E5%A2%9E%E5%8A%A0%E5%86%8D%E6%8C%89%E4%B8%80%E6%AC%A1%E9%80%80%E5%87%BA%E6%8F%90%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kEYTy%22%7D\"></card><h2 data-lake-id=\"vJPoW\" id=\"vJPoW\"><span data-lake-id=\"u150daf4a\" id=\"u150daf4a\">播放页面</span></h2><p data-lake-id=\"8012e5158174e464abecd3ef06213781\" id=\"8012e5158174e464abecd3ef06213781\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fplay1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22vxtgx%22%7D\"></card></p><p data-lake-id=\"a67cb8a31e22651a273375e3cbe104a2\" id=\"a67cb8a31e22651a273375e3cbe104a2\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fplay2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22uOeRH%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%97%8B%E8%BD%AC%E5%92%8C%E7%82%B9%E5%87%BB%E6%8E%A7%E5%88%B6%E5%85%A8%E5%B1%8F%E6%92%AD%E6%94%BE%5Cn%E5%AE%9E%E7%8E%B0%E6%98%BE%E7%A4%BA%E4%BD%9C%E5%93%81%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF(%E6%9A%82%E6%9C%AA%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD)%5Cn%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%85%B3%E8%A7%86%E9%A2%91%E6%8E%A8%E8%8D%90%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JqDZt%22%7D\"></card><h2 data-lake-id=\"w8dvw\" id=\"w8dvw\"><span data-lake-id=\"u308685c8\" id=\"u308685c8\">发现页面</span></h2><p data-lake-id=\"254025f0dbf0ed0944f5bc0df2d2dffd\" id=\"254025f0dbf0ed0944f5bc0df2d2dffd\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FdiscoverHot.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Cazrq%22%7D\"></card></p><p data-lake-id=\"11aed195a221407a08c0a203c59358a7\" id=\"11aed195a221407a08c0a203c59358a7\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FdiscoverCategory.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22T1WPf%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%AE%9E%E7%8E%B0%E7%83%AD%E9%97%A8%E5%B0%8F%E9%A1%B5%E9%9D%A2%5Cn%E5%AE%9E%E7%8E%B0banner%E8%BD%AE%E6%92%AD%E5%9B%BE%EF%BC%88%E7%94%A8%E7%9A%84git%E5%A4%A7%E4%BD%AC%E7%9A%84%E8%BD%AE%E5%AD%90%2C%E9%93%BE%E6%8E%A5%E5%9C%A8%E6%9C%80%E5%BA%95%E4%B8%8B%EF%BC%89%5Cn%E5%AE%9E%E7%8E%B0%E7%83%AD%E9%97%A8%E8%A7%86%E9%A2%91%E6%8E%A8%E8%8D%90%5Cn%E5%AE%9E%E7%8E%B0%E7%83%AD%E9%97%A8%E6%8E%92%E8%A1%8C%E9%93%BE%E6%8E%A5%EF%BC%88%E6%A8%AA%E5%90%91%E7%9A%84recyclerView%E5%AE%9E%E7%8E%B0%EF%BC%89%5Cn%E5%AE%9E%E7%8E%B0%E5%88%86%E7%B1%BB%E5%B0%8F%E9%A1%B5%E9%9D%A2%5Cn%E9%A1%B5%E9%9D%A2%E7%9A%84item%E4%B8%BB%E8%A6%81%E7%94%A8%E7%9A%84banner%E8%BD%AE%E5%AD%90(%E6%9C%89%E4%B8%80%E4%BA%9B%E7%BB%86%E5%BE%AE%E7%9A%84%E6%94%B9%E5%8A%A8)%5Cn%E5%AE%9E%E7%8E%B0%E4%BD%9C%E8%80%85%E5%B0%8F%E9%A1%B5%E9%9D%A2%5Cn%E4%BD%BF%E7%94%A8%E6%A8%AA%E5%90%91%E7%9A%84recyclerView%E5%AE%9E%E7%8E%B0%E6%9C%80%E6%96%B0%E4%BD%9C%E8%80%85%E6%8E%A8%E8%8D%90%E6%A0%8F%E7%9A%84%E6%BB%91%E5%8A%A8%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22h189c%22%7D\"></card><h2 data-lake-id=\"E6Gt4\" id=\"E6Gt4\"><span data-lake-id=\"u2b722a51\" id=\"u2b722a51\">关注页面</span></h2><p data-lake-id=\"d0b00e3ee8a5ae302d668588926f7c79\" id=\"d0b00e3ee8a5ae302d668588926f7c79\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Ffollow.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22aKbXP%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E8%A6%81%E8%B0%83%E7%94%A8%E4%B9%8B%E5%89%8D%E7%9A%84fragment%20%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uFfdk%22%7D\"></card><h2 data-lake-id=\"Wn9No\" id=\"Wn9No\"><span data-lake-id=\"u692f2709\" id=\"u692f2709\">我的页面</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%BE%E7%A4%BA%E6%98%BE%E7%A4%BA%EF%BC%88%E5%87%86%E5%A4%87%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226W54I%22%7D\"></card><h2 data-lake-id=\"Xyph0\" id=\"Xyph0\"><span data-lake-id=\"u4c9d3b3b\" id=\"u4c9d3b3b\">全部作者页面</span></h2><p data-lake-id=\"07d15f5cf1fceadd9aa9ce26a9c2d762\" id=\"07d15f5cf1fceadd9aa9ce26a9c2d762\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FpgcsAll.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22jt57V%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%8E%E5%8F%91%E7%8E%B0%E4%BD%9C%E8%80%85%E5%B0%8F%E9%A1%B5%E9%9D%A2%E4%B8%80%E6%A0%B7%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qrUyk%22%7D\"></card><h2 data-lake-id=\"giGFi\" id=\"giGFi\"><span data-lake-id=\"u9908704e\" id=\"u9908704e\">全部分类页面</span></h2><p data-lake-id=\"91eea8961ef14002a9f6e9aa7ec80138\" id=\"91eea8961ef14002a9f6e9aa7ec80138\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FcategoryAll.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22jTuyz%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BD%BF%E7%94%A8gridView%E6%98%BE%E7%A4%BA%E5%88%86%E7%B1%BB%E5%88%97%E8%A1%A8%EF%BC%88%E4%B8%8D%E7%9F%A5%E9%81%93%E7%83%AD%E9%97%A8%E6%8E%92%E8%A1%8C%EF%BC%8C%E7%83%AD%E9%97%A8%E4%B8%93%E9%A2%98%EF%BC%8C360%E5%85%A8%E6%99%AF%E7%9A%84api%E5%B0%B1%E6%B2%A1%E6%B7%BB%E5%8A%A0%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22BsGHi%22%7D\"></card><h2 data-lake-id=\"dtiBe\" id=\"dtiBe\"><span data-lake-id=\"ud0506271\" id=\"ud0506271\">分类详情页面</span></h2><p data-lake-id=\"8deb3881ef8f8431058042acfa05e660\" id=\"8deb3881ef8f8431058042acfa05e660\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FcategoryDetail.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22dQPmH%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22scrollView%20%2B%20tabLayout%20%2B%20viewPager%20%2B%20Fragment%20%20%E5%AE%9E%E7%8E%B04%E4%B8%AA%E5%B0%8F%E5%88%86%E9%A1%B5%E7%9A%84%E6%98%BE%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AR1TX%22%7D\"></card><h2 data-lake-id=\"vAaIW\" id=\"vAaIW\"><span data-lake-id=\"u08f537e2\" id=\"u08f537e2\">排行榜页面</span></h2><p data-lake-id=\"de2cbd74269fae1c0570e8605899663f\" id=\"de2cbd74269fae1c0570e8605899663f\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FrankList1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22qUYzo%22%7D\"></card></p><p data-lake-id=\"4588153ce69439c768b0f3e608b686cc\" id=\"4588153ce69439c768b0f3e608b686cc\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FrankList2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Vd3zy%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8F%91%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%B1%BB%E4%BC%BC%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%B1%E4%BA%8E%E5%AD%90%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%80%E6%A0%B7%EF%BC%8C%E7%94%A8%E5%90%8C%E4%B8%80%E4%B8%AAfragment%E5%AE%9E%E7%8E%B0%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Q7LfD%22%7D\"></card><h2 data-lake-id=\"S3jzS\" id=\"S3jzS\"><span data-lake-id=\"u8e6d7c91\" id=\"u8e6d7c91\">搜索页面</span></h2><p data-lake-id=\"f3862df24cfd0babe3bc08a250ae9851\" id=\"f3862df24cfd0babe3bc08a250ae9851\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fsearch1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22XbJrO%22%7D\"></card></p><p data-lake-id=\"1d6abd9d814dcf55cf86c34c2e01c866\" id=\"1d6abd9d814dcf55cf86c34c2e01c866\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fsearch2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22IrPue%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%81%B7%E6%87%92%E4%BD%BF%E7%94%A8%E4%BA%86activity%20%2B%20recyclerView%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22j2tUf%22%7D\"></card><h2 data-lake-id=\"BIhis\" id=\"BIhis\"><span data-lake-id=\"u91ee9f32\" id=\"u91ee9f32\">bug</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%8A%B6%E6%80%81%E6%A0%8F%E6%97%A0%E6%B3%95%E5%AE%8C%E5%85%A8%E9%80%8F%E6%98%8E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22WL9sX%22%7D\"></card><h2 data-lake-id=\"kpeAN\" id=\"kpeAN\"><span data-lake-id=\"u6a5cdbba\" id=\"u6a5cdbba\">TODO</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%87%86%E5%A4%87%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD%5Cn%E5%87%86%E5%A4%87%E4%BC%98%E5%8C%96%E7%95%8C%E9%9D%A2%E6%98%BE%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22TKc3C%22%7D\"></card><h1 data-lake-id=\"Hzw5O\" id=\"Hzw5O\"><span data-lake-id=\"ua6f13707\" id=\"ua6f13707\">实现方式</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22mvp%20%E6%A1%86%E6%9E%B6%5Cnokhttp%2Bretrofit%2Brxjava%20%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%A1%86%E6%9E%B6%5CnTabLayout%2BFragment%20%E5%AE%9E%E7%8E%B0%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F%5CnTabLayout%20%2B%20ViewPager%20%2B%20Fragment%20%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nT2Oi%22%7D\"></card><h1 data-lake-id=\"Ta96j\" id=\"Ta96j\"><span data-lake-id=\"u9ce8fc68\" id=\"u9ce8fc68\">关于我</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E8%81%94%E7%B3%BB%EF%BC%9A497533265%40qq.com%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22lKeOQ%22%7D\"></card><h2 data-lake-id=\"M0eGt\" id=\"M0eGt\"><span data-lake-id=\"ue3b6cdb7\" id=\"ue3b6cdb7\">声明</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Api%20%E6%95%B0%E6%8D%AE%E9%83%BD%E6%98%AF%E6%9D%A5%E8%87%AA%E5%BC%80%E7%9C%BC%E8%A7%86%E9%A2%91%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%8E%A5%E5%8F%A3%E5%9D%87%E5%B1%9E%E4%BA%8E%E9%9D%9E%E6%AD%A3%E5%B8%B8%E6%B8%A0%E9%81%93%E8%8E%B7%E5%8F%96%EF%BC%8C%E8%AF%B7%E5%8B%BF%E7%94%A8%E4%BA%8E%E5%95%86%E4%B8%9A%E7%94%A8%E9%80%94%EF%BC%8C%E5%8E%9F%E4%BD%9C%E5%85%AC%E5%8F%B8%E6%8B%A5%E6%9C%89%E6%89%80%E6%9C%89%E6%9D%83%E5%88%A9%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XWKXH%22%7D\"></card><h2 data-lake-id=\"jDSGl\" id=\"jDSGl\"><span data-lake-id=\"ub63a977c\" id=\"ub63a977c\">参考</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22https%3A%2F%2Fgithub.com%2Fkaikaixue%2FEyepetizer%5Cnhttps%3A%2F%2Fgithub.com%2FLRH1993%2FEyepetizer-in-Kotlin%5Cnhttps%3A%2F%2Fgithub.com%2Fyouth5201314%2Fbanner%5Cnhttps%3A%2F%2Fgithub.com%2FCarGuo%2FGSYVideoPlayer%5Cn%E6%84%9F%E8%B0%A2%E5%A4%A7%E4%BD%AC%E4%BB%AC%E7%9A%84%E8%B5%84%E6%BA%90%EF%BC%8C%E5%90%91%E5%A4%A7%E4%BD%AC%E4%BB%AC%E5%AD%A6%E4%B9%A0%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22G16vR%22%7D\"></card>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VptGl%22%7D\"></card><p data-lake-id=\"271259acee9c171319e65471ea713d11\" id=\"271259acee9c171319e65471ea713d11\"><span data-lake-id=\"u0676201e\" id=\"u0676201e\">layout: post</span></p><p data-lake-id=\"654c35a1afe952931b9ade8dcf521603\" id=\"654c35a1afe952931b9ade8dcf521603\"><span data-lake-id=\"uece9ca94\" id=\"uece9ca94\">title: 仿开眼APP kotlin</span></p><p data-lake-id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\" id=\"f2e7a9501d743ca59a2b9c1ff2ff6828\"><span data-lake-id=\"u0a2c9852\" id=\"u0a2c9852\">date: 2017-10-09 16:25:06</span></p><p data-lake-id=\"f259687d4b92a0314332a1cc21ed6c97\" id=\"f259687d4b92a0314332a1cc21ed6c97\"><span data-lake-id=\"u1ca82ae3\" id=\"u1ca82ae3\">categories: kotlin</span></p><p data-lake-id=\"3f1459936301c3ad199b527bd6652e32\" id=\"3f1459936301c3ad199b527bd6652e32\"><span data-lake-id=\"u11bd86bc\" id=\"u11bd86bc\">tags:</span></p><ul list=\"u32012e8d\"><li fid=\"ufb9ec91e\" data-lake-id=\"cc9438258eacfe35740d60a70130cd70\" id=\"cc9438258eacfe35740d60a70130cd70\"><span data-lake-id=\"ua5feedbd\" id=\"ua5feedbd\">kotlin</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22KXFOx%22%7D\"></card><h1 data-lake-id=\"mU94U\" id=\"mU94U\"><span data-lake-id=\"u7b6b42a4\" id=\"u7b6b42a4\">Eyepetizer</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E8%A6%81%E6%98%AF%E4%B8%BA%E4%BA%86%E9%80%9A%E8%BF%87%E4%BB%BF%E5%86%99APP%E6%9B%B4%E5%A5%BD%E7%9A%84%E5%AD%A6%E4%B9%A0kotlin(%E9%80%89%E6%8B%A9%E8%AF%A5APP%E5%8E%9F%E5%9B%A0%E4%B8%BB%E8%A6%81%E6%98%AF%E5%9B%A0%E4%B8%BA%E6%9C%89%E5%A4%A7%E4%BD%AC%E5%B7%B2%E7%BB%8F%E5%86%99%E8%BF%87%E4%BA%86%EF%BC%8C%E7%AB%99%E5%9C%A8%E5%B7%A8%E4%BA%BA%E7%9A%84%E8%82%A9%E8%86%80%E7%AB%99%E5%BE%97%E9%AB%98%E7%9C%8B%E7%9A%84%E8%BF%9C)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22MysCh%22%7D\"></card><p data-lake-id=\"6f386a8058a740e16fc5636e21b5dada\" id=\"6f386a8058a740e16fc5636e21b5dada\"><a href=\"https://github.com/zyqzyq/Eyepetizer-kotlin\" target=\"_blank\" data-lake-id=\"u366c3e74\" id=\"u366c3e74\"><span data-lake-id=\"ucb2802dc\" id=\"ucb2802dc\">gitHub地址</span></a></p><h1 data-lake-id=\"ONqJW\" id=\"ONqJW\"><span data-lake-id=\"u4abc3a81\" id=\"u4abc3a81\">计划(基本完成)</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E9%A1%B5%5Cn%E5%8F%91%E7%8E%B0%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%8C%85%E5%90%AB%E7%83%AD%E9%97%A8%EF%BC%8C%E5%88%86%E7%B1%BB%EF%BC%8C%E4%BD%9C%E8%80%85%EF%BC%89%5Cn%E5%85%B3%E6%B3%A8%E9%A1%B5%E9%9D%A2%5Cn%E6%92%AD%E6%94%BE%E9%A1%B5%E9%9D%A2%20%20%20%5Cn%E5%85%A8%E9%83%A8%E4%BD%9C%E8%80%85%E9%A1%B5%E9%9D%A2%5Cn%E5%85%A8%E9%83%A8%E5%88%86%E7%B1%BB%E9%A1%B5%E9%9D%A2%5Cn%E5%88%86%E7%B1%BB%E8%AF%A6%E6%83%85%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%8C%85%E5%90%AB%E9%A6%96%E9%A1%B5%EF%BC%8C%E5%85%A8%E9%83%A8%EF%BC%8C%E4%BD%9C%E8%80%85%EF%BC%8C%E4%B8%93%E8%BE%91%EF%BC%89%5Cn%E6%8E%92%E8%A1%8C%E6%A6%9C%E9%A1%B5%E9%9D%A2%EF%BC%88%E5%8C%85%E5%90%AB%E5%91%A8%E6%8E%92%E8%A1%8C%EF%BC%8C%E6%9C%88%E6%8E%92%E8%A1%8C%EF%BC%8C%E6%80%BB%E6%8E%92%E8%A1%8C%EF%BC%89%5Cn%E6%90%9C%E7%B4%A2%E9%A1%B5%E9%9D%A2%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22suhdu%22%7D\"></card><h1 data-lake-id=\"Ej0Ky\" id=\"Ej0Ky\"><span data-lake-id=\"u38465b2e\" id=\"u38465b2e\">目前进度</span></h1><h2 data-lake-id=\"U2kzM\" id=\"U2kzM\"><span data-lake-id=\"u4b41f099\" id=\"u4b41f099\">启动页面</span></h2><p data-lake-id=\"3a2ba911c853e8fd6374152602bbeaba\" id=\"3a2ba911c853e8fd6374152602bbeaba\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fsplash.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22qMG6H%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%BC%80%E5%90%AF%E5%90%AF%E5%8A%A8%E7%94%BB%E9%9D%A2%E6%B8%90%E5%8F%98%20(%20Handler%2BThread%20)%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226Ioh2%22%7D\"></card><h2 data-lake-id=\"RujjY\" id=\"RujjY\"><span data-lake-id=\"uf5f5a07f\" id=\"uf5f5a07f\">首页</span></h2><p data-lake-id=\"bff4c532ac093a1ba81b026798114586\" id=\"bff4c532ac093a1ba81b026798114586\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fhome.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Pw76l%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%98%BE%E7%A4%BA%E6%AF%8F%E6%97%A5%E7%B2%BE%E9%80%89%E8%87%AA%E5%8A%A8%E8%BD%AE%E6%92%AD%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE5%E7%A7%92%E5%B0%8F%E8%A7%86%E9%A2%91%E4%BB%8B%E7%BB%8D%20(viewpager%20%2B%20indicator)(%E5%A2%9E%E5%8A%A0%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF%EF%BC%8C%E4%BC%98%E5%8C%96%E6%9C%80%E5%90%8E%E4%B8%80%E9%A1%B5%E8%B7%B3%E8%BD%AC%E5%8D%A1%E9%A1%BF)%5Cn%E6%98%BE%E7%A4%BA%E6%8E%A8%E8%8D%90%E8%A7%86%E9%A2%91%E9%80%89%E9%A1%B9%EF%BC%88%E7%AE%80%E5%8D%95%E7%9A%84%E6%B7%BB%E5%8A%A0%E6%98%BE%E7%A4%BA%E5%9C%A8recyclerView%E4%B8%AD%20%EF%BC%89%EF%BC%88%E6%AF%8F%E6%97%A5%E7%B2%BE%E9%80%89%E7%9A%84%E8%A7%86%E9%A2%91%E5%8F%B3%E4%B8%8B%E8%A7%92%E6%B7%BB%E5%8A%A0%E5%9B%BE%E7%89%87%E6%A0%87%E8%AF%86%EF%BC%89%5Cn%E5%AE%9E%E7%8E%B0%E6%AF%8F%E6%97%A5%E7%B2%BE%E9%80%89%E6%96%87%E5%AD%97%E9%80%90%E5%AD%97%E6%98%BE%E7%A4%BA%5Cn%E5%AE%9E%E7%8E%B0%E4%B8%8B%E6%8B%89%E6%94%BE%E5%A4%A7%E5%9B%BE%E7%89%87%E5%88%B7%E6%96%B0%5Cn%E5%A2%9E%E5%8A%A0%E5%86%8D%E6%8C%89%E4%B8%80%E6%AC%A1%E9%80%80%E5%87%BA%E6%8F%90%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22kEYTy%22%7D\"></card><h2 data-lake-id=\"vJPoW\" id=\"vJPoW\"><span data-lake-id=\"u150daf4a\" id=\"u150daf4a\">播放页面</span></h2><p data-lake-id=\"8012e5158174e464abecd3ef06213781\" id=\"8012e5158174e464abecd3ef06213781\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fplay1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22vxtgx%22%7D\"></card></p><p data-lake-id=\"a67cb8a31e22651a273375e3cbe104a2\" id=\"a67cb8a31e22651a273375e3cbe104a2\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fplay2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22uOeRH%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E6%97%8B%E8%BD%AC%E5%92%8C%E7%82%B9%E5%87%BB%E6%8E%A7%E5%88%B6%E5%85%A8%E5%B1%8F%E6%92%AD%E6%94%BE%5Cn%E5%AE%9E%E7%8E%B0%E6%98%BE%E7%A4%BA%E4%BD%9C%E5%93%81%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF(%E6%9A%82%E6%9C%AA%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD)%5Cn%E5%AE%9E%E7%8E%B0%E7%9B%B8%E5%85%B3%E8%A7%86%E9%A2%91%E6%8E%A8%E8%8D%90%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JqDZt%22%7D\"></card><h2 data-lake-id=\"w8dvw\" id=\"w8dvw\"><span data-lake-id=\"u308685c8\" id=\"u308685c8\">发现页面</span></h2><p data-lake-id=\"254025f0dbf0ed0944f5bc0df2d2dffd\" id=\"254025f0dbf0ed0944f5bc0df2d2dffd\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FdiscoverHot.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Cazrq%22%7D\"></card></p><p data-lake-id=\"11aed195a221407a08c0a203c59358a7\" id=\"11aed195a221407a08c0a203c59358a7\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FdiscoverCategory.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22T1WPf%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%AE%9E%E7%8E%B0%E7%83%AD%E9%97%A8%E5%B0%8F%E9%A1%B5%E9%9D%A2%5Cn%E5%AE%9E%E7%8E%B0banner%E8%BD%AE%E6%92%AD%E5%9B%BE%EF%BC%88%E7%94%A8%E7%9A%84git%E5%A4%A7%E4%BD%AC%E7%9A%84%E8%BD%AE%E5%AD%90%2C%E9%93%BE%E6%8E%A5%E5%9C%A8%E6%9C%80%E5%BA%95%E4%B8%8B%EF%BC%89%5Cn%E5%AE%9E%E7%8E%B0%E7%83%AD%E9%97%A8%E8%A7%86%E9%A2%91%E6%8E%A8%E8%8D%90%5Cn%E5%AE%9E%E7%8E%B0%E7%83%AD%E9%97%A8%E6%8E%92%E8%A1%8C%E9%93%BE%E6%8E%A5%EF%BC%88%E6%A8%AA%E5%90%91%E7%9A%84recyclerView%E5%AE%9E%E7%8E%B0%EF%BC%89%5Cn%E5%AE%9E%E7%8E%B0%E5%88%86%E7%B1%BB%E5%B0%8F%E9%A1%B5%E9%9D%A2%5Cn%E9%A1%B5%E9%9D%A2%E7%9A%84item%E4%B8%BB%E8%A6%81%E7%94%A8%E7%9A%84banner%E8%BD%AE%E5%AD%90(%E6%9C%89%E4%B8%80%E4%BA%9B%E7%BB%86%E5%BE%AE%E7%9A%84%E6%94%B9%E5%8A%A8)%5Cn%E5%AE%9E%E7%8E%B0%E4%BD%9C%E8%80%85%E5%B0%8F%E9%A1%B5%E9%9D%A2%5Cn%E4%BD%BF%E7%94%A8%E6%A8%AA%E5%90%91%E7%9A%84recyclerView%E5%AE%9E%E7%8E%B0%E6%9C%80%E6%96%B0%E4%BD%9C%E8%80%85%E6%8E%A8%E8%8D%90%E6%A0%8F%E7%9A%84%E6%BB%91%E5%8A%A8%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22h189c%22%7D\"></card><h2 data-lake-id=\"E6Gt4\" id=\"E6Gt4\"><span data-lake-id=\"u2b722a51\" id=\"u2b722a51\">关注页面</span></h2><p data-lake-id=\"d0b00e3ee8a5ae302d668588926f7c79\" id=\"d0b00e3ee8a5ae302d668588926f7c79\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Ffollow.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22aKbXP%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E8%A6%81%E8%B0%83%E7%94%A8%E4%B9%8B%E5%89%8D%E7%9A%84fragment%20%E5%BF%AB%E9%80%9F%E5%AE%9E%E7%8E%B0%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22uFfdk%22%7D\"></card><h2 data-lake-id=\"Wn9No\" id=\"Wn9No\"><span data-lake-id=\"u692f2709\" id=\"u692f2709\">我的页面</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%BB%E8%A6%81%E5%B0%B1%E6%98%BE%E7%A4%BA%E6%98%BE%E7%A4%BA%EF%BC%88%E5%87%86%E5%A4%87%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226W54I%22%7D\"></card><h2 data-lake-id=\"Xyph0\" id=\"Xyph0\"><span data-lake-id=\"u4c9d3b3b\" id=\"u4c9d3b3b\">全部作者页面</span></h2><p data-lake-id=\"07d15f5cf1fceadd9aa9ce26a9c2d762\" id=\"07d15f5cf1fceadd9aa9ce26a9c2d762\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FpgcsAll.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22jt57V%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%B8%8E%E5%8F%91%E7%8E%B0%E4%BD%9C%E8%80%85%E5%B0%8F%E9%A1%B5%E9%9D%A2%E4%B8%80%E6%A0%B7%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22qrUyk%22%7D\"></card><h2 data-lake-id=\"giGFi\" id=\"giGFi\"><span data-lake-id=\"u9908704e\" id=\"u9908704e\">全部分类页面</span></h2><p data-lake-id=\"91eea8961ef14002a9f6e9aa7ec80138\" id=\"91eea8961ef14002a9f6e9aa7ec80138\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FcategoryAll.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22jTuyz%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BD%BF%E7%94%A8gridView%E6%98%BE%E7%A4%BA%E5%88%86%E7%B1%BB%E5%88%97%E8%A1%A8%EF%BC%88%E4%B8%8D%E7%9F%A5%E9%81%93%E7%83%AD%E9%97%A8%E6%8E%92%E8%A1%8C%EF%BC%8C%E7%83%AD%E9%97%A8%E4%B8%93%E9%A2%98%EF%BC%8C360%E5%85%A8%E6%99%AF%E7%9A%84api%E5%B0%B1%E6%B2%A1%E6%B7%BB%E5%8A%A0%EF%BC%89%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22BsGHi%22%7D\"></card><h2 data-lake-id=\"dtiBe\" id=\"dtiBe\"><span data-lake-id=\"ud0506271\" id=\"ud0506271\">分类详情页面</span></h2><p data-lake-id=\"8deb3881ef8f8431058042acfa05e660\" id=\"8deb3881ef8f8431058042acfa05e660\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FcategoryDetail.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22dQPmH%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22scrollView%20%2B%20tabLayout%20%2B%20viewPager%20%2B%20Fragment%20%20%E5%AE%9E%E7%8E%B04%E4%B8%AA%E5%B0%8F%E5%88%86%E9%A1%B5%E7%9A%84%E6%98%BE%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AR1TX%22%7D\"></card><h2 data-lake-id=\"vAaIW\" id=\"vAaIW\"><span data-lake-id=\"u08f537e2\" id=\"u08f537e2\">排行榜页面</span></h2><p data-lake-id=\"de2cbd74269fae1c0570e8605899663f\" id=\"de2cbd74269fae1c0570e8605899663f\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FrankList1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22qUYzo%22%7D\"></card></p><p data-lake-id=\"4588153ce69439c768b0f3e608b686cc\" id=\"4588153ce69439c768b0f3e608b686cc\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2FrankList2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22Vd3zy%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E4%BD%BF%E7%94%A8%E5%92%8C%E5%8F%91%E7%8E%B0%E9%A1%B5%E9%9D%A2%E7%B1%BB%E4%BC%BC%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%8C%E7%94%B1%E4%BA%8E%E5%AD%90%E9%A1%B5%E9%9D%A2%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B%E4%B8%80%E6%A0%B7%EF%BC%8C%E7%94%A8%E5%90%8C%E4%B8%80%E4%B8%AAfragment%E5%AE%9E%E7%8E%B0%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Q7LfD%22%7D\"></card><h2 data-lake-id=\"S3jzS\" id=\"S3jzS\"><span data-lake-id=\"u8e6d7c91\" id=\"u8e6d7c91\">搜索页面</span></h2><p data-lake-id=\"f3862df24cfd0babe3bc08a250ae9851\" id=\"f3862df24cfd0babe3bc08a250ae9851\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fsearch1.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22XbJrO%22%7D\"></card></p><p data-lake-id=\"1d6abd9d814dcf55cf86c34c2e01c866\" id=\"1d6abd9d814dcf55cf86c34c2e01c866\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22https%3A%2F%2Fraw.githubusercontent.com%2Fzyqzyq%2FEyepetizer-kotlin%2Fmaster%2Fscreenshots%2Fsearch2.png%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22IrPue%22%7D\"></card></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%81%B7%E6%87%92%E4%BD%BF%E7%94%A8%E4%BA%86activity%20%2B%20recyclerView%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22j2tUf%22%7D\"></card><h2 data-lake-id=\"BIhis\" id=\"BIhis\"><span data-lake-id=\"u91ee9f32\" id=\"u91ee9f32\">bug</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%8A%B6%E6%80%81%E6%A0%8F%E6%97%A0%E6%B3%95%E5%AE%8C%E5%85%A8%E9%80%8F%E6%98%8E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22WL9sX%22%7D\"></card><h2 data-lake-id=\"kpeAN\" id=\"kpeAN\"><span data-lake-id=\"u6a5cdbba\" id=\"u6a5cdbba\">TODO</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E5%87%86%E5%A4%87%E5%AE%9E%E7%8E%B0%E7%BC%93%E5%AD%98%E5%8A%9F%E8%83%BD%5Cn%E5%87%86%E5%A4%87%E4%BC%98%E5%8C%96%E7%95%8C%E9%9D%A2%E6%98%BE%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22TKc3C%22%7D\"></card><h1 data-lake-id=\"Hzw5O\" id=\"Hzw5O\"><span data-lake-id=\"ua6f13707\" id=\"ua6f13707\">实现方式</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22mvp%20%E6%A1%86%E6%9E%B6%5Cnokhttp%2Bretrofit%2Brxjava%20%E5%AE%9E%E7%8E%B0%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82%E6%A1%86%E6%9E%B6%5CnTabLayout%2BFragment%20%E5%AE%9E%E7%8E%B0%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E6%A0%8F%5CnTabLayout%20%2B%20ViewPager%20%2B%20Fragment%20%E5%AE%9E%E7%8E%B0%E5%88%86%E9%A1%B5%E6%98%BE%E7%A4%BA%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22nT2Oi%22%7D\"></card><h1 data-lake-id=\"Ta96j\" id=\"Ta96j\"><span data-lake-id=\"u9ce8fc68\" id=\"u9ce8fc68\">关于我</span></h1><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E8%81%94%E7%B3%BB%EF%BC%9A497533265%40qq.com%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22lKeOQ%22%7D\"></card><h2 data-lake-id=\"M0eGt\" id=\"M0eGt\"><span data-lake-id=\"ue3b6cdb7\" id=\"ue3b6cdb7\">声明</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Api%20%E6%95%B0%E6%8D%AE%E9%83%BD%E6%98%AF%E6%9D%A5%E8%87%AA%E5%BC%80%E7%9C%BC%E8%A7%86%E9%A2%91%EF%BC%8C%E6%95%B0%E6%8D%AE%E6%8E%A5%E5%8F%A3%E5%9D%87%E5%B1%9E%E4%BA%8E%E9%9D%9E%E6%AD%A3%E5%B8%B8%E6%B8%A0%E9%81%93%E8%8E%B7%E5%8F%96%EF%BC%8C%E8%AF%B7%E5%8B%BF%E7%94%A8%E4%BA%8E%E5%95%86%E4%B8%9A%E7%94%A8%E9%80%94%EF%BC%8C%E5%8E%9F%E4%BD%9C%E5%85%AC%E5%8F%B8%E6%8B%A5%E6%9C%89%E6%89%80%E6%9C%89%E6%9D%83%E5%88%A9%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22XWKXH%22%7D\"></card><h2 data-lake-id=\"jDSGl\" id=\"jDSGl\"><span data-lake-id=\"ub63a977c\" id=\"ub63a977c\">参考</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22https%3A%2F%2Fgithub.com%2Fkaikaixue%2FEyepetizer%5Cnhttps%3A%2F%2Fgithub.com%2FLRH1993%2FEyepetizer-in-Kotlin%5Cnhttps%3A%2F%2Fgithub.com%2Fyouth5201314%2Fbanner%5Cnhttps%3A%2F%2Fgithub.com%2FCarGuo%2FGSYVideoPlayer%5Cn%E6%84%9F%E8%B0%A2%E5%A4%A7%E4%BD%AC%E4%BB%AC%E7%9A%84%E8%B5%84%E6%BA%90%EF%BC%8C%E5%90%91%E5%A4%A7%E4%BD%AC%E4%BB%AC%E5%AD%A6%E4%B9%A0%E3%80%82%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22G16vR%22%7D\"></card>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T14:21:41.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:19.000Z",
    "updated_at": "2022-12-11T14:21:41.000Z",
    "published_at": "2022-12-11T14:21:41.000Z",
    "first_published_at": "2022-12-09T12:02:18.635Z",
    "word_count": 756,
    "cover": null,
    "description": "layout: posttitle: 仿开眼APP kotlindate: 2017-10-09 16:25:06categories: kotlintags:kotlinEyepetizer主要是为了通过仿写APP更好的学习kotlin(选择该APP原因主要是因为有大佬已经写过了，站在巨人的...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945021,
    "slug": "5bb9963ccfb57722e4e1c34a20ceadf7",
    "title": "2017-09-02-kotlin-底部导航栏（tabLayout fragment）",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: kotlin 底部导航栏（tabLayout + fragment）<br />date: 2017-09-02 16:25:06<br />categories: kotlin<br />tags:\n\n- kotlin\n\n---\n\n##准备工作<br />在build.grale中添加<br />`compile \"com.android.support:design:$support_version\"`<br />#1.编辑main_activity.xml<br />确定主页面布局FrameLayout +TabLayout\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"com.zyqzyq.eyepetizer.activities.MainActivity\">\n    <FrameLayout\n            android:id=\"@+id/main_container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"1\">\n    </FrameLayout>\n    <View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\".5dp\"\n            android:alpha=\".6\"\n            android:background=\"@android:color/darker_gray\"/>\n    <android.support.design.widget.TabLayout\n            android:id=\"@+id/bottom_tab_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"50dp\"\n            app:tabIndicatorHeight=\"0dp\"\n            app:tabSelectedTextColor=\"@android:color/black\"\n            app:tabTextColor=\"@android:color/darker_gray\">\n    </android.support.design.widget.TabLayout>\n</LinearLayout>\n```\n#2.创建tabView.xml<br />因为默认的tablayout添加icon显示后图片显得较小（选择了setCustomView方法，需要自定义view）\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:gravity=\"center\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\">\n    <ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"0dp\"\n            android:id=\"@+id/tab_content_image\"\n            android:scaleType=\"fitCenter\"\n            android:layout_weight=\"1\"/>\n    <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/tab_content_text\"\n            android:textSize=\"@dimen/tabTextSize\"\n            android:textColor=\"@android:color/darker_gray\"/>\n</LinearLayout>\n```\n#3.编辑MainActivity.kt<br />信息存在了object中,方便修改\n```\nobject MainData {\n   val mainFragmentList = arrayOf(HomeFragment(), FindFragment(), FollowFragment(), MineFragment())\n   val mainTabRes = listOf(R.mipmap.ic_tab_home,R.mipmap.ic_tab_find,\n           R.mipmap.ic_tab_follow,R.mipmap.ic_tab_mine)\n   val mainTabResPressed = listOf(R.mipmap.ic_tab_home_selected,R.mipmap.ic_tab_find_selected,\n           R.mipmap.ic_tab_follow_selected,R.mipmap.ic_tab_mine_selected)\n   val mainTabStr = listOf(\"首页\",\"发现\",\"关注\",\"我的\")\n}\n```\n默认添加了4个tab，并设置Tab 选中之后，改变各个Tab的状态\n```\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        initView()\n    }\n    private fun initView(){\n        bottom_tab_layout.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                onTabItemSelected(tab.position)\n                // Tab 选中之后，改变各个Tab的状态\n                for (i in 0 until bottom_tab_layout.tabCount ) {\n                    val view = bottom_tab_layout.getTabAt(i)!!.customView\n                    if (i == tab.position) { // 选中状态\n                        view?.tab_content_image?.setImageResource(MainData.mainTabResPressed[i])\n                        view?.tab_content_text?.setTextColor(resources.getColor(android.R.color.black))\n                    } else {// 未选中状态\n                        view?.tab_content_image?.setImageResource(MainData.mainTabRes[i])\n                        view?.tab_content_text?.setTextColor(resources.getColor(android.R.color.darker_gray))\n                    }\n                }\n            }\n            override fun onTabUnselected(tab: TabLayout.Tab) {\n            }\n            override fun onTabReselected(tab: TabLayout.Tab) {\n            }\n        })\n        for(i in 0..3) {\n            bottom_tab_layout.addTab(bottom_tab_layout.newTab().setCustomView(getTabView(this, i)))\n        }\n    }\n    private fun getTabView(context: Context,position: Int): View{\n        val view = LayoutInflater.from(context).inflate(R.layout.tabview, null)\n        view.tab_content_image.setImageResource(MainData.mainTabRes[position])\n        view.tab_content_text.text = MainData.mainTabStr[position]\n        return view\n    }\n```\n#添加fragment<br />新建home_framgment.kt<br />代码如下\n```\nclass HomeFragment: Fragment(){\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        return inflater!!.inflate(R.layout.fragment_home,container,false)\n    }\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n```\n新建fragment_home.xml\n```\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\">\n    <TextView\n            android:text=\"home fragment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" android:id=\"@+id/textView\"/>\n</LinearLayout>\n```\n重复上述操作新建4个fragment。<br />#5.在MainActivity.kt添加fragment的更新<br />添加函数onTabItemSelected\n```\nfun onTabItemSelected(position: Int){\n        val transaction = fragmentManager.beginTransaction()\n        transaction.replace(R.id.main_container, MainData.mainFragmentList[position]).commit()\n    }\n```\n并在onTabSelected中调用。<br />#6.最终效果图如下<br />![](http://upload-images.jianshu.io/upload_images/7646499-d081b53f35b04173.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240#crop=0&crop=0&crop=1&crop=1&id=bYGfK&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n",
    "body_draft": "---\n\nlayout: post<br />title: kotlin 底部导航栏（tabLayout + fragment）<br />date: 2017-09-02 16:25:06<br />categories: kotlin<br />tags:\n\n- kotlin\n\n---\n\n##准备工作<br />在build.grale中添加<br />`compile \"com.android.support:design:$support_version\"`<br />#1.编辑main_activity.xml<br />确定主页面布局FrameLayout +TabLayout\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:orientation=\"vertical\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"com.zyqzyq.eyepetizer.activities.MainActivity\">\n    <FrameLayout\n            android:id=\"@+id/main_container\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"0dp\"\n            android:layout_weight=\"1\">\n    </FrameLayout>\n    <View\n            android:layout_width=\"match_parent\"\n            android:layout_height=\".5dp\"\n            android:alpha=\".6\"\n            android:background=\"@android:color/darker_gray\"/>\n    <android.support.design.widget.TabLayout\n            android:id=\"@+id/bottom_tab_layout\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"50dp\"\n            app:tabIndicatorHeight=\"0dp\"\n            app:tabSelectedTextColor=\"@android:color/black\"\n            app:tabTextColor=\"@android:color/darker_gray\">\n    </android.support.design.widget.TabLayout>\n</LinearLayout>\n```\n#2.创建tabView.xml<br />因为默认的tablayout添加icon显示后图片显得较小（选择了setCustomView方法，需要自定义view）\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:gravity=\"center\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\">\n    <ImageView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"0dp\"\n            android:id=\"@+id/tab_content_image\"\n            android:scaleType=\"fitCenter\"\n            android:layout_weight=\"1\"/>\n    <TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:id=\"@+id/tab_content_text\"\n            android:textSize=\"@dimen/tabTextSize\"\n            android:textColor=\"@android:color/darker_gray\"/>\n</LinearLayout>\n```\n#3.编辑MainActivity.kt<br />信息存在了object中,方便修改\n```\nobject MainData {\n   val mainFragmentList = arrayOf(HomeFragment(), FindFragment(), FollowFragment(), MineFragment())\n   val mainTabRes = listOf(R.mipmap.ic_tab_home,R.mipmap.ic_tab_find,\n           R.mipmap.ic_tab_follow,R.mipmap.ic_tab_mine)\n   val mainTabResPressed = listOf(R.mipmap.ic_tab_home_selected,R.mipmap.ic_tab_find_selected,\n           R.mipmap.ic_tab_follow_selected,R.mipmap.ic_tab_mine_selected)\n   val mainTabStr = listOf(\"首页\",\"发现\",\"关注\",\"我的\")\n}\n```\n默认添加了4个tab，并设置Tab 选中之后，改变各个Tab的状态\n```\noverride fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        initView()\n    }\n    private fun initView(){\n        bottom_tab_layout.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                onTabItemSelected(tab.position)\n                // Tab 选中之后，改变各个Tab的状态\n                for (i in 0 until bottom_tab_layout.tabCount ) {\n                    val view = bottom_tab_layout.getTabAt(i)!!.customView\n                    if (i == tab.position) { // 选中状态\n                        view?.tab_content_image?.setImageResource(MainData.mainTabResPressed[i])\n                        view?.tab_content_text?.setTextColor(resources.getColor(android.R.color.black))\n                    } else {// 未选中状态\n                        view?.tab_content_image?.setImageResource(MainData.mainTabRes[i])\n                        view?.tab_content_text?.setTextColor(resources.getColor(android.R.color.darker_gray))\n                    }\n                }\n            }\n            override fun onTabUnselected(tab: TabLayout.Tab) {\n            }\n            override fun onTabReselected(tab: TabLayout.Tab) {\n            }\n        })\n        for(i in 0..3) {\n            bottom_tab_layout.addTab(bottom_tab_layout.newTab().setCustomView(getTabView(this, i)))\n        }\n    }\n    private fun getTabView(context: Context,position: Int): View{\n        val view = LayoutInflater.from(context).inflate(R.layout.tabview, null)\n        view.tab_content_image.setImageResource(MainData.mainTabRes[position])\n        view.tab_content_text.text = MainData.mainTabStr[position]\n        return view\n    }\n```\n#添加fragment<br />新建home_framgment.kt<br />代码如下\n```\nclass HomeFragment: Fragment(){\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        return inflater!!.inflate(R.layout.fragment_home,container,false)\n    }\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n    }\n}\n```\n新建fragment_home.xml\n```\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n              android:orientation=\"vertical\"\n              android:layout_width=\"match_parent\"\n              android:layout_height=\"match_parent\">\n    <TextView\n            android:text=\"home fragment\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\" android:id=\"@+id/textView\"/>\n</LinearLayout>\n```\n重复上述操作新建4个fragment。<br />#5.在MainActivity.kt添加fragment的更新<br />添加函数onTabItemSelected\n```\nfun onTabItemSelected(position: Int){\n        val transaction = fragmentManager.beginTransaction()\n        transaction.replace(R.id.main_container, MainData.mainFragmentList[position]).commit()\n    }\n```\n并在onTabSelected中调用。<br />#6.最终效果图如下<br />![](http://upload-images.jianshu.io/upload_images/7646499-d081b53f35b04173.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240#crop=0&crop=0&crop=1&crop=1&id=bYGfK&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"BqxBl\" class=\"ne-hr\"><p id=\"02af42a1dae3c8236af420ae00d8beb1\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"1247c2dddff268451678c1bfa531f42b\" class=\"ne-p\"><span class=\"ne-text\">title: kotlin 底部导航栏（tabLayout + fragment）</span></p><p id=\"9141fa977017fcb657ee0af959ea5e74\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-09-02 16:25:06</span></p><p id=\"a4afd9715b01ef228dcfca182e5faf9e\" class=\"ne-p\"><span class=\"ne-text\">categories: kotlin</span></p><p id=\"f65a360bc5d846003df8a8ef1447d0be\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"e5318c77de674c557d1c8793c64d5ba8\"><span class=\"ne-text\">kotlin</span></li></ul><hr id=\"Zq8Gd\" class=\"ne-hr\"><p id=\"48a06036a71beb59c99bc34ffc73a87d\" class=\"ne-p\"><span class=\"ne-text\">##准备工作</span></p><p id=\"b9a0e0c58d90f78b4b70703bf3704e46\" class=\"ne-p\"><span class=\"ne-text\">在build.grale中添加</span></p><p id=\"7fae5990db7b43b2f767ae4a20481d3c\" class=\"ne-p\"><code class=\"ne-code\"><span class=\"ne-text\">compile &quot;com.android.support:design:$support_version&quot;</span></code></p><p id=\"48077d02daa842bf428f229c3eef17cb\" class=\"ne-p\"><span class=\"ne-text\">#1.编辑main_activity.xml</span></p><p id=\"5e9f63338d16637ffc4ef903550f7ace\" class=\"ne-p\"><span class=\"ne-text\">确定主页面布局FrameLayout +TabLayout</span></p><pre data-language=\"plain\" id=\"xCwtZ\" class=\"ne-codeblock language-plain\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;com.zyqzyq.eyepetizer.activities.MainActivity&quot;&gt;\n    &lt;FrameLayout\n            android:id=&quot;@+id/main_container&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:layout_weight=&quot;1&quot;&gt;\n    &lt;/FrameLayout&gt;\n    &lt;View\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;.5dp&quot;\n            android:alpha=&quot;.6&quot;\n            android:background=&quot;@android:color/darker_gray&quot;/&gt;\n    &lt;android.support.design.widget.TabLayout\n            android:id=&quot;@+id/bottom_tab_layout&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;50dp&quot;\n            app:tabIndicatorHeight=&quot;0dp&quot;\n            app:tabSelectedTextColor=&quot;@android:color/black&quot;\n            app:tabTextColor=&quot;@android:color/darker_gray&quot;&gt;\n    &lt;/android.support.design.widget.TabLayout&gt;\n&lt;/LinearLayout&gt;</pre><p id=\"866d8087fe0968302084a4ba8f019456\" class=\"ne-p\"><span class=\"ne-text\">#2.创建tabView.xml</span></p><p id=\"86158e24c06f10dd9a05e37f8aff2232\" class=\"ne-p\"><span class=\"ne-text\">因为默认的tablayout添加icon显示后图片显得较小（选择了setCustomView方法，需要自定义view）</span></p><pre data-language=\"plain\" id=\"ufm2k\" class=\"ne-codeblock language-plain\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n              android:orientation=&quot;vertical&quot;\n              android:gravity=&quot;center&quot;\n              android:layout_width=&quot;match_parent&quot;\n              android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;ImageView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;0dp&quot;\n            android:id=&quot;@+id/tab_content_image&quot;\n            android:scaleType=&quot;fitCenter&quot;\n            android:layout_weight=&quot;1&quot;/&gt;\n    &lt;TextView\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:id=&quot;@+id/tab_content_text&quot;\n            android:textSize=&quot;@dimen/tabTextSize&quot;\n            android:textColor=&quot;@android:color/darker_gray&quot;/&gt;\n&lt;/LinearLayout&gt;</pre><p id=\"fa298549ebd06fcfa390e787d0f934c6\" class=\"ne-p\"><span class=\"ne-text\">#3.编辑MainActivity.kt</span></p><p id=\"11d4527633428ed060cc80bf9f7b4835\" class=\"ne-p\"><span class=\"ne-text\">信息存在了object中,方便修改</span></p><pre data-language=\"plain\" id=\"pph9l\" class=\"ne-codeblock language-plain\">object MainData {\n   val mainFragmentList = arrayOf(HomeFragment(), FindFragment(), FollowFragment(), MineFragment())\n   val mainTabRes = listOf(R.mipmap.ic_tab_home,R.mipmap.ic_tab_find,\n           R.mipmap.ic_tab_follow,R.mipmap.ic_tab_mine)\n   val mainTabResPressed = listOf(R.mipmap.ic_tab_home_selected,R.mipmap.ic_tab_find_selected,\n           R.mipmap.ic_tab_follow_selected,R.mipmap.ic_tab_mine_selected)\n   val mainTabStr = listOf(&quot;首页&quot;,&quot;发现&quot;,&quot;关注&quot;,&quot;我的&quot;)\n}</pre><p id=\"52f1acd01b821fda4f12d27db862adb7\" class=\"ne-p\"><span class=\"ne-text\">默认添加了4个tab，并设置Tab 选中之后，改变各个Tab的状态</span></p><pre data-language=\"plain\" id=\"vfMK7\" class=\"ne-codeblock language-plain\">override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n        initView()\n    }\n    private fun initView(){\n        bottom_tab_layout.addOnTabSelectedListener(object : TabLayout.OnTabSelectedListener {\n            override fun onTabSelected(tab: TabLayout.Tab) {\n                onTabItemSelected(tab.position)\n                // Tab 选中之后，改变各个Tab的状态\n                for (i in 0 until bottom_tab_layout.tabCount ) {\n                    val view = bottom_tab_layout.getTabAt(i)!!.customView\n                    if (i == tab.position) { // 选中状态\n                        view?.tab_content_image?.setImageResource(MainData.mainTabResPressed[i])\n                        view?.tab_content_text?.setTextColor(resources.getColor(android.R.color.black))\n                    } else {// 未选中状态\n                        view?.tab_content_image?.setImageResource(MainData.mainTabRes[i])\n                        view?.tab_content_text?.setTextColor(resources.getColor(android.R.color.darker_gray))\n                    }\n                }\n            }\n            override fun onTabUnselected(tab: TabLayout.Tab) {\n            }\n            override fun onTabReselected(tab: TabLayout.Tab) {\n            }\n        })\n        for(i in 0..3) {\n            bottom_tab_layout.addTab(bottom_tab_layout.newTab().setCustomView(getTabView(this, i)))\n        }\n    }\n    private fun getTabView(context: Context,position: Int): View{\n        val view = LayoutInflater.from(context).inflate(R.layout.tabview, null)\n        view.tab_content_image.setImageResource(MainData.mainTabRes[position])\n        view.tab_content_text.text = MainData.mainTabStr[position]\n        return view\n    }</pre><p id=\"c7c8b46f699114ce8349251e16e23cce\" class=\"ne-p\"><span class=\"ne-text\">#添加fragment</span></p><p id=\"f116cf16aa3533c0ac8d8f42b5b433af\" class=\"ne-p\"><span class=\"ne-text\">新建home_framgment.kt</span></p><p id=\"21ab509fbaa28ac68cd8e807ce1a9e59\" class=\"ne-p\"><span class=\"ne-text\">代码如下</span></p><pre data-language=\"plain\" id=\"AAxZB\" class=\"ne-codeblock language-plain\">class HomeFragment: Fragment(){\n    override fun onCreateView(inflater: LayoutInflater?, container: ViewGroup?, savedInstanceState: Bundle?): View {\n        return inflater!!.inflate(R.layout.fragment_home,container,false)\n    }\n    override fun onActivityCreated(savedInstanceState: Bundle?) {\n        super.onActivityCreated(savedInstanceState)\n    }\n}</pre><p id=\"d03a252db28d586449fe4c44b2c661c9\" class=\"ne-p\"><span class=\"ne-text\">新建fragment_home.xml</span></p><pre data-language=\"plain\" id=\"sXPZu\" class=\"ne-codeblock language-plain\">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n              android:orientation=&quot;vertical&quot;\n              android:layout_width=&quot;match_parent&quot;\n              android:layout_height=&quot;match_parent&quot;&gt;\n    &lt;TextView\n            android:text=&quot;home fragment&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot; android:id=&quot;@+id/textView&quot;/&gt;\n&lt;/LinearLayout&gt;</pre><p id=\"3dbec6385323a1c73f7245e72c3e3a63\" class=\"ne-p\"><span class=\"ne-text\">重复上述操作新建4个fragment。</span></p><p id=\"d2156784341a81d2156c50384730e928\" class=\"ne-p\"><span class=\"ne-text\">#5.在MainActivity.kt添加fragment的更新</span></p><p id=\"ddada631b93398ac3502f29695b1e561\" class=\"ne-p\"><span class=\"ne-text\">添加函数onTabItemSelected</span></p><pre data-language=\"plain\" id=\"hH3L2\" class=\"ne-codeblock language-plain\">fun onTabItemSelected(position: Int){\n        val transaction = fragmentManager.beginTransaction()\n        transaction.replace(R.id.main_container, MainData.mainFragmentList[position]).commit()\n    }</pre><p id=\"9ef0955c52529904062c1aa8b806e21d\" class=\"ne-p\"><span class=\"ne-text\">并在onTabSelected中调用。</span></p><p id=\"323392906b52f001b5a9ba22b1aaf85a\" class=\"ne-p\"><span class=\"ne-text\">#6.最终效果图如下</span></p><p id=\"f85c44ae71ec89139eaaa3ef89a18e90\" class=\"ne-p\"><img src=\"http://upload-images.jianshu.io/upload_images/7646499-d081b53f35b04173.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\" id=\"bYGfK\" class=\"ne-image\"></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22BqxBl%22%7D\"></card><p data-lake-id=\"02af42a1dae3c8236af420ae00d8beb1\" id=\"02af42a1dae3c8236af420ae00d8beb1\"><span data-lake-id=\"u8af0843a\" id=\"u8af0843a\">layout: post</span></p><p data-lake-id=\"1247c2dddff268451678c1bfa531f42b\" id=\"1247c2dddff268451678c1bfa531f42b\"><span data-lake-id=\"udde09294\" id=\"udde09294\">title: kotlin 底部导航栏（tabLayout + fragment）</span></p><p data-lake-id=\"9141fa977017fcb657ee0af959ea5e74\" id=\"9141fa977017fcb657ee0af959ea5e74\"><span data-lake-id=\"ue7411290\" id=\"ue7411290\">date: 2017-09-02 16:25:06</span></p><p data-lake-id=\"a4afd9715b01ef228dcfca182e5faf9e\" id=\"a4afd9715b01ef228dcfca182e5faf9e\"><span data-lake-id=\"u1c7bb929\" id=\"u1c7bb929\">categories: kotlin</span></p><p data-lake-id=\"f65a360bc5d846003df8a8ef1447d0be\" id=\"f65a360bc5d846003df8a8ef1447d0be\"><span data-lake-id=\"u794e5fc5\" id=\"u794e5fc5\">tags:</span></p><ul list=\"u3e6afe22\"><li fid=\"uc14c0833\" data-lake-id=\"e5318c77de674c557d1c8793c64d5ba8\" id=\"e5318c77de674c557d1c8793c64d5ba8\"><span data-lake-id=\"uc626908d\" id=\"uc626908d\">kotlin</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Zq8Gd%22%7D\"></card><p data-lake-id=\"48a06036a71beb59c99bc34ffc73a87d\" id=\"48a06036a71beb59c99bc34ffc73a87d\"><span data-lake-id=\"u7d490724\" id=\"u7d490724\">##准备工作</span></p><p data-lake-id=\"b9a0e0c58d90f78b4b70703bf3704e46\" id=\"b9a0e0c58d90f78b4b70703bf3704e46\"><span data-lake-id=\"uc2b2aaef\" id=\"uc2b2aaef\">在build.grale中添加</span></p><p data-lake-id=\"7fae5990db7b43b2f767ae4a20481d3c\" id=\"7fae5990db7b43b2f767ae4a20481d3c\"><code data-lake-id=\"ub6f98d1b\" id=\"ub6f98d1b\"><span data-lake-id=\"ucf57e051\" id=\"ucf57e051\">compile &quot;com.android.support:design:$support_version&quot;</span></code></p><p data-lake-id=\"48077d02daa842bf428f229c3eef17cb\" id=\"48077d02daa842bf428f229c3eef17cb\"><span data-lake-id=\"u83e17097\" id=\"u83e17097\">#1.编辑main_activity.xml</span></p><p data-lake-id=\"5e9f63338d16637ffc4ef903550f7ace\" id=\"5e9f63338d16637ffc4ef903550f7ace\"><span data-lake-id=\"ue3b9ee27\" id=\"ue3b9ee27\">确定主页面布局FrameLayout +TabLayout</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3CLinearLayout%5Cn%20%20%20%20%20%20%20%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Atools%3D%5C%22http%3A%2F%2Fschemas.android.com%2Ftools%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Aapp%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres-auto%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Aorientation%3D%5C%22vertical%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20tools%3Acontext%3D%5C%22com.zyqzyq.eyepetizer.activities.MainActivity%5C%22%3E%5Cn%20%20%20%20%3CFrameLayout%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Fmain_container%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%220dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_weight%3D%5C%221%5C%22%3E%5Cn%20%20%20%20%3C%2FFrameLayout%3E%5Cn%20%20%20%20%3CView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22.5dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aalpha%3D%5C%22.6%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Abackground%3D%5C%22%40android%3Acolor%2Fdarker_gray%5C%22%2F%3E%5Cn%20%20%20%20%3Candroid.support.design.widget.TabLayout%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Fbottom_tab_layout%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%2250dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AtabIndicatorHeight%3D%5C%220dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AtabSelectedTextColor%3D%5C%22%40android%3Acolor%2Fblack%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AtabTextColor%3D%5C%22%40android%3Acolor%2Fdarker_gray%5C%22%3E%5Cn%20%20%20%20%3C%2Fandroid.support.design.widget.TabLayout%3E%5Cn%3C%2FLinearLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22xCwtZ%22%7D\"></card><p data-lake-id=\"866d8087fe0968302084a4ba8f019456\" id=\"866d8087fe0968302084a4ba8f019456\"><span data-lake-id=\"u62050ea4\" id=\"u62050ea4\">#2.创建tabView.xml</span></p><p data-lake-id=\"86158e24c06f10dd9a05e37f8aff2232\" id=\"86158e24c06f10dd9a05e37f8aff2232\"><span data-lake-id=\"u13314b61\" id=\"u13314b61\">因为默认的tablayout添加icon显示后图片显得较小（选择了setCustomView方法，需要自定义view）</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3CLinearLayout%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Aorientation%3D%5C%22vertical%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Agravity%3D%5C%22center%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%3E%5Cn%20%20%20%20%3CImageView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%220dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Ftab_content_image%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AscaleType%3D%5C%22fitCenter%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_weight%3D%5C%221%5C%22%2F%3E%5Cn%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Ftab_content_text%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AtextSize%3D%5C%22%40dimen%2FtabTextSize%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AtextColor%3D%5C%22%40android%3Acolor%2Fdarker_gray%5C%22%2F%3E%5Cn%3C%2FLinearLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ufm2k%22%7D\"></card><p data-lake-id=\"fa298549ebd06fcfa390e787d0f934c6\" id=\"fa298549ebd06fcfa390e787d0f934c6\"><span data-lake-id=\"u869ae6b5\" id=\"u869ae6b5\">#3.编辑MainActivity.kt</span></p><p data-lake-id=\"11d4527633428ed060cc80bf9f7b4835\" id=\"11d4527633428ed060cc80bf9f7b4835\"><span data-lake-id=\"u56603a63\" id=\"u56603a63\">信息存在了object中,方便修改</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22object%20MainData%20%7B%5Cn%20%20%20val%20mainFragmentList%20%3D%20arrayOf(HomeFragment()%2C%20FindFragment()%2C%20FollowFragment()%2C%20MineFragment())%5Cn%20%20%20val%20mainTabRes%20%3D%20listOf(R.mipmap.ic_tab_home%2CR.mipmap.ic_tab_find%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20R.mipmap.ic_tab_follow%2CR.mipmap.ic_tab_mine)%5Cn%20%20%20val%20mainTabResPressed%20%3D%20listOf(R.mipmap.ic_tab_home_selected%2CR.mipmap.ic_tab_find_selected%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20R.mipmap.ic_tab_follow_selected%2CR.mipmap.ic_tab_mine_selected)%5Cn%20%20%20val%20mainTabStr%20%3D%20listOf(%5C%22%E9%A6%96%E9%A1%B5%5C%22%2C%5C%22%E5%8F%91%E7%8E%B0%5C%22%2C%5C%22%E5%85%B3%E6%B3%A8%5C%22%2C%5C%22%E6%88%91%E7%9A%84%5C%22)%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22pph9l%22%7D\"></card><p data-lake-id=\"52f1acd01b821fda4f12d27db862adb7\" id=\"52f1acd01b821fda4f12d27db862adb7\"><span data-lake-id=\"u290dffc7\" id=\"u290dffc7\">默认添加了4个tab，并设置Tab 选中之后，改变各个Tab的状态</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22override%20fun%20onCreate(savedInstanceState%3A%20Bundle%3F)%20%7B%5Cn%20%20%20%20%20%20%20%20super.onCreate(savedInstanceState)%5Cn%20%20%20%20%20%20%20%20setContentView(R.layout.activity_main)%5Cn%20%20%20%20%20%20%20%20initView()%5Cn%20%20%20%20%7D%5Cn%20%20%20%20private%20fun%20initView()%7B%5Cn%20%20%20%20%20%20%20%20bottom_tab_layout.addOnTabSelectedListener(object%20%3A%20TabLayout.OnTabSelectedListener%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20override%20fun%20onTabSelected(tab%3A%20TabLayout.Tab)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onTabItemSelected(tab.position)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Tab%20%E9%80%89%E4%B8%AD%E4%B9%8B%E5%90%8E%EF%BC%8C%E6%94%B9%E5%8F%98%E5%90%84%E4%B8%AATab%E7%9A%84%E7%8A%B6%E6%80%81%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20in%200%20until%20bottom_tab_layout.tabCount%20)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%20view%20%3D%20bottom_tab_layout.getTabAt(i)!!.customView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(i%20%3D%3D%20tab.position)%20%7B%20%2F%2F%20%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_image%3F.setImageResource(MainData.mainTabResPressed%5Bi%5D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_text%3F.setTextColor(resources.getColor(android.R.color.black))%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%2F%2F%20%E6%9C%AA%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_image%3F.setImageResource(MainData.mainTabRes%5Bi%5D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_text%3F.setTextColor(resources.getColor(android.R.color.darker_gray))%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20override%20fun%20onTabUnselected(tab%3A%20TabLayout.Tab)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20override%20fun%20onTabReselected(tab%3A%20TabLayout.Tab)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D)%5Cn%20%20%20%20%20%20%20%20for(i%20in%200..3)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20bottom_tab_layout.addTab(bottom_tab_layout.newTab().setCustomView(getTabView(this%2C%20i)))%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20private%20fun%20getTabView(context%3A%20Context%2Cposition%3A%20Int)%3A%20View%7B%5Cn%20%20%20%20%20%20%20%20val%20view%20%3D%20LayoutInflater.from(context).inflate(R.layout.tabview%2C%20null)%5Cn%20%20%20%20%20%20%20%20view.tab_content_image.setImageResource(MainData.mainTabRes%5Bposition%5D)%5Cn%20%20%20%20%20%20%20%20view.tab_content_text.text%20%3D%20MainData.mainTabStr%5Bposition%5D%5Cn%20%20%20%20%20%20%20%20return%20view%5Cn%20%20%20%20%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22vfMK7%22%7D\"></card><p data-lake-id=\"c7c8b46f699114ce8349251e16e23cce\" id=\"c7c8b46f699114ce8349251e16e23cce\"><span data-lake-id=\"udec4a5c7\" id=\"udec4a5c7\">#添加fragment</span></p><p data-lake-id=\"f116cf16aa3533c0ac8d8f42b5b433af\" id=\"f116cf16aa3533c0ac8d8f42b5b433af\"><span data-lake-id=\"ud405f808\" id=\"ud405f808\">新建home_framgment.kt</span></p><p data-lake-id=\"21ab509fbaa28ac68cd8e807ce1a9e59\" id=\"21ab509fbaa28ac68cd8e807ce1a9e59\"><span data-lake-id=\"u6c642d03\" id=\"u6c642d03\">代码如下</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22class%20HomeFragment%3A%20Fragment()%7B%5Cn%20%20%20%20override%20fun%20onCreateView(inflater%3A%20LayoutInflater%3F%2C%20container%3A%20ViewGroup%3F%2C%20savedInstanceState%3A%20Bundle%3F)%3A%20View%20%7B%5Cn%20%20%20%20%20%20%20%20return%20inflater!!.inflate(R.layout.fragment_home%2Ccontainer%2Cfalse)%5Cn%20%20%20%20%7D%5Cn%20%20%20%20override%20fun%20onActivityCreated(savedInstanceState%3A%20Bundle%3F)%20%7B%5Cn%20%20%20%20%20%20%20%20super.onActivityCreated(savedInstanceState)%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AAxZB%22%7D\"></card><p data-lake-id=\"d03a252db28d586449fe4c44b2c661c9\" id=\"d03a252db28d586449fe4c44b2c661c9\"><span data-lake-id=\"u8b245cce\" id=\"u8b245cce\">新建fragment_home.xml</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3CLinearLayout%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Aorientation%3D%5C%22vertical%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%3E%5Cn%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Atext%3D%5C%22home%20fragment%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%20android%3Aid%3D%5C%22%40%2Bid%2FtextView%5C%22%2F%3E%5Cn%3C%2FLinearLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22sXPZu%22%7D\"></card><p data-lake-id=\"3dbec6385323a1c73f7245e72c3e3a63\" id=\"3dbec6385323a1c73f7245e72c3e3a63\"><span data-lake-id=\"uecab7902\" id=\"uecab7902\">重复上述操作新建4个fragment。</span></p><p data-lake-id=\"d2156784341a81d2156c50384730e928\" id=\"d2156784341a81d2156c50384730e928\"><span data-lake-id=\"u2d772f9c\" id=\"u2d772f9c\">#5.在MainActivity.kt添加fragment的更新</span></p><p data-lake-id=\"ddada631b93398ac3502f29695b1e561\" id=\"ddada631b93398ac3502f29695b1e561\"><span data-lake-id=\"ub12a829e\" id=\"ub12a829e\">添加函数onTabItemSelected</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22fun%20onTabItemSelected(position%3A%20Int)%7B%5Cn%20%20%20%20%20%20%20%20val%20transaction%20%3D%20fragmentManager.beginTransaction()%5Cn%20%20%20%20%20%20%20%20transaction.replace(R.id.main_container%2C%20MainData.mainFragmentList%5Bposition%5D).commit()%5Cn%20%20%20%20%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22hH3L2%22%7D\"></card><p data-lake-id=\"9ef0955c52529904062c1aa8b806e21d\" id=\"9ef0955c52529904062c1aa8b806e21d\"><span data-lake-id=\"udf45a079\" id=\"udf45a079\">并在onTabSelected中调用。</span></p><p data-lake-id=\"323392906b52f001b5a9ba22b1aaf85a\" id=\"323392906b52f001b5a9ba22b1aaf85a\"><span data-lake-id=\"ue306288f\" id=\"ue306288f\">#6.最终效果图如下</span></p><p data-lake-id=\"f85c44ae71ec89139eaaa3ef89a18e90\" id=\"f85c44ae71ec89139eaaa3ef89a18e90\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F7646499-d081b53f35b04173.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22bYGfK%22%7D\"></card></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22BqxBl%22%7D\"></card><p data-lake-id=\"02af42a1dae3c8236af420ae00d8beb1\" id=\"02af42a1dae3c8236af420ae00d8beb1\"><span data-lake-id=\"u8af0843a\" id=\"u8af0843a\">layout: post</span></p><p data-lake-id=\"1247c2dddff268451678c1bfa531f42b\" id=\"1247c2dddff268451678c1bfa531f42b\"><span data-lake-id=\"udde09294\" id=\"udde09294\">title: kotlin 底部导航栏（tabLayout + fragment）</span></p><p data-lake-id=\"9141fa977017fcb657ee0af959ea5e74\" id=\"9141fa977017fcb657ee0af959ea5e74\"><span data-lake-id=\"ue7411290\" id=\"ue7411290\">date: 2017-09-02 16:25:06</span></p><p data-lake-id=\"a4afd9715b01ef228dcfca182e5faf9e\" id=\"a4afd9715b01ef228dcfca182e5faf9e\"><span data-lake-id=\"u1c7bb929\" id=\"u1c7bb929\">categories: kotlin</span></p><p data-lake-id=\"f65a360bc5d846003df8a8ef1447d0be\" id=\"f65a360bc5d846003df8a8ef1447d0be\"><span data-lake-id=\"u794e5fc5\" id=\"u794e5fc5\">tags:</span></p><ul list=\"u3e6afe22\"><li fid=\"uc14c0833\" data-lake-id=\"e5318c77de674c557d1c8793c64d5ba8\" id=\"e5318c77de674c557d1c8793c64d5ba8\"><span data-lake-id=\"uc626908d\" id=\"uc626908d\">kotlin</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Zq8Gd%22%7D\"></card><p data-lake-id=\"48a06036a71beb59c99bc34ffc73a87d\" id=\"48a06036a71beb59c99bc34ffc73a87d\"><span data-lake-id=\"u7d490724\" id=\"u7d490724\">##准备工作</span></p><p data-lake-id=\"b9a0e0c58d90f78b4b70703bf3704e46\" id=\"b9a0e0c58d90f78b4b70703bf3704e46\"><span data-lake-id=\"uc2b2aaef\" id=\"uc2b2aaef\">在build.grale中添加</span></p><p data-lake-id=\"7fae5990db7b43b2f767ae4a20481d3c\" id=\"7fae5990db7b43b2f767ae4a20481d3c\"><code data-lake-id=\"ub6f98d1b\" id=\"ub6f98d1b\"><span data-lake-id=\"ucf57e051\" id=\"ucf57e051\">compile &quot;com.android.support:design:$support_version&quot;</span></code></p><p data-lake-id=\"48077d02daa842bf428f229c3eef17cb\" id=\"48077d02daa842bf428f229c3eef17cb\"><span data-lake-id=\"u83e17097\" id=\"u83e17097\">#1.编辑main_activity.xml</span></p><p data-lake-id=\"5e9f63338d16637ffc4ef903550f7ace\" id=\"5e9f63338d16637ffc4ef903550f7ace\"><span data-lake-id=\"ue3b9ee27\" id=\"ue3b9ee27\">确定主页面布局FrameLayout +TabLayout</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3CLinearLayout%5Cn%20%20%20%20%20%20%20%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Atools%3D%5C%22http%3A%2F%2Fschemas.android.com%2Ftools%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Aapp%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres-auto%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Aorientation%3D%5C%22vertical%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20tools%3Acontext%3D%5C%22com.zyqzyq.eyepetizer.activities.MainActivity%5C%22%3E%5Cn%20%20%20%20%3CFrameLayout%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Fmain_container%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%220dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_weight%3D%5C%221%5C%22%3E%5Cn%20%20%20%20%3C%2FFrameLayout%3E%5Cn%20%20%20%20%3CView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22.5dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aalpha%3D%5C%22.6%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Abackground%3D%5C%22%40android%3Acolor%2Fdarker_gray%5C%22%2F%3E%5Cn%20%20%20%20%3Candroid.support.design.widget.TabLayout%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Fbottom_tab_layout%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%2250dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AtabIndicatorHeight%3D%5C%220dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AtabSelectedTextColor%3D%5C%22%40android%3Acolor%2Fblack%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AtabTextColor%3D%5C%22%40android%3Acolor%2Fdarker_gray%5C%22%3E%5Cn%20%20%20%20%3C%2Fandroid.support.design.widget.TabLayout%3E%5Cn%3C%2FLinearLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22xCwtZ%22%7D\"></card><p data-lake-id=\"866d8087fe0968302084a4ba8f019456\" id=\"866d8087fe0968302084a4ba8f019456\"><span data-lake-id=\"u62050ea4\" id=\"u62050ea4\">#2.创建tabView.xml</span></p><p data-lake-id=\"86158e24c06f10dd9a05e37f8aff2232\" id=\"86158e24c06f10dd9a05e37f8aff2232\"><span data-lake-id=\"u13314b61\" id=\"u13314b61\">因为默认的tablayout添加icon显示后图片显得较小（选择了setCustomView方法，需要自定义view）</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3CLinearLayout%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Aorientation%3D%5C%22vertical%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Agravity%3D%5C%22center%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%3E%5Cn%20%20%20%20%3CImageView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%220dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Ftab_content_image%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AscaleType%3D%5C%22fitCenter%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_weight%3D%5C%221%5C%22%2F%3E%5Cn%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Ftab_content_text%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AtextSize%3D%5C%22%40dimen%2FtabTextSize%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AtextColor%3D%5C%22%40android%3Acolor%2Fdarker_gray%5C%22%2F%3E%5Cn%3C%2FLinearLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ufm2k%22%7D\"></card><p data-lake-id=\"fa298549ebd06fcfa390e787d0f934c6\" id=\"fa298549ebd06fcfa390e787d0f934c6\"><span data-lake-id=\"u869ae6b5\" id=\"u869ae6b5\">#3.编辑MainActivity.kt</span></p><p data-lake-id=\"11d4527633428ed060cc80bf9f7b4835\" id=\"11d4527633428ed060cc80bf9f7b4835\"><span data-lake-id=\"u56603a63\" id=\"u56603a63\">信息存在了object中,方便修改</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22object%20MainData%20%7B%5Cn%20%20%20val%20mainFragmentList%20%3D%20arrayOf(HomeFragment()%2C%20FindFragment()%2C%20FollowFragment()%2C%20MineFragment())%5Cn%20%20%20val%20mainTabRes%20%3D%20listOf(R.mipmap.ic_tab_home%2CR.mipmap.ic_tab_find%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20R.mipmap.ic_tab_follow%2CR.mipmap.ic_tab_mine)%5Cn%20%20%20val%20mainTabResPressed%20%3D%20listOf(R.mipmap.ic_tab_home_selected%2CR.mipmap.ic_tab_find_selected%2C%5Cn%20%20%20%20%20%20%20%20%20%20%20R.mipmap.ic_tab_follow_selected%2CR.mipmap.ic_tab_mine_selected)%5Cn%20%20%20val%20mainTabStr%20%3D%20listOf(%5C%22%E9%A6%96%E9%A1%B5%5C%22%2C%5C%22%E5%8F%91%E7%8E%B0%5C%22%2C%5C%22%E5%85%B3%E6%B3%A8%5C%22%2C%5C%22%E6%88%91%E7%9A%84%5C%22)%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22pph9l%22%7D\"></card><p data-lake-id=\"52f1acd01b821fda4f12d27db862adb7\" id=\"52f1acd01b821fda4f12d27db862adb7\"><span data-lake-id=\"u290dffc7\" id=\"u290dffc7\">默认添加了4个tab，并设置Tab 选中之后，改变各个Tab的状态</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22override%20fun%20onCreate(savedInstanceState%3A%20Bundle%3F)%20%7B%5Cn%20%20%20%20%20%20%20%20super.onCreate(savedInstanceState)%5Cn%20%20%20%20%20%20%20%20setContentView(R.layout.activity_main)%5Cn%20%20%20%20%20%20%20%20initView()%5Cn%20%20%20%20%7D%5Cn%20%20%20%20private%20fun%20initView()%7B%5Cn%20%20%20%20%20%20%20%20bottom_tab_layout.addOnTabSelectedListener(object%20%3A%20TabLayout.OnTabSelectedListener%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20override%20fun%20onTabSelected(tab%3A%20TabLayout.Tab)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20onTabItemSelected(tab.position)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%2F%2F%20Tab%20%E9%80%89%E4%B8%AD%E4%B9%8B%E5%90%8E%EF%BC%8C%E6%94%B9%E5%8F%98%E5%90%84%E4%B8%AATab%E7%9A%84%E7%8A%B6%E6%80%81%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20(i%20in%200%20until%20bottom_tab_layout.tabCount%20)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20val%20view%20%3D%20bottom_tab_layout.getTabAt(i)!!.customView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(i%20%3D%3D%20tab.position)%20%7B%20%2F%2F%20%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_image%3F.setImageResource(MainData.mainTabResPressed%5Bi%5D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_text%3F.setTextColor(resources.getColor(android.R.color.black))%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%20else%20%7B%2F%2F%20%E6%9C%AA%E9%80%89%E4%B8%AD%E7%8A%B6%E6%80%81%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_image%3F.setImageResource(MainData.mainTabRes%5Bi%5D)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20view%3F.tab_content_text%3F.setTextColor(resources.getColor(android.R.color.darker_gray))%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20override%20fun%20onTabUnselected(tab%3A%20TabLayout.Tab)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20override%20fun%20onTabReselected(tab%3A%20TabLayout.Tab)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D)%5Cn%20%20%20%20%20%20%20%20for(i%20in%200..3)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20bottom_tab_layout.addTab(bottom_tab_layout.newTab().setCustomView(getTabView(this%2C%20i)))%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20private%20fun%20getTabView(context%3A%20Context%2Cposition%3A%20Int)%3A%20View%7B%5Cn%20%20%20%20%20%20%20%20val%20view%20%3D%20LayoutInflater.from(context).inflate(R.layout.tabview%2C%20null)%5Cn%20%20%20%20%20%20%20%20view.tab_content_image.setImageResource(MainData.mainTabRes%5Bposition%5D)%5Cn%20%20%20%20%20%20%20%20view.tab_content_text.text%20%3D%20MainData.mainTabStr%5Bposition%5D%5Cn%20%20%20%20%20%20%20%20return%20view%5Cn%20%20%20%20%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22vfMK7%22%7D\"></card><p data-lake-id=\"c7c8b46f699114ce8349251e16e23cce\" id=\"c7c8b46f699114ce8349251e16e23cce\"><span data-lake-id=\"udec4a5c7\" id=\"udec4a5c7\">#添加fragment</span></p><p data-lake-id=\"f116cf16aa3533c0ac8d8f42b5b433af\" id=\"f116cf16aa3533c0ac8d8f42b5b433af\"><span data-lake-id=\"ud405f808\" id=\"ud405f808\">新建home_framgment.kt</span></p><p data-lake-id=\"21ab509fbaa28ac68cd8e807ce1a9e59\" id=\"21ab509fbaa28ac68cd8e807ce1a9e59\"><span data-lake-id=\"u6c642d03\" id=\"u6c642d03\">代码如下</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22class%20HomeFragment%3A%20Fragment()%7B%5Cn%20%20%20%20override%20fun%20onCreateView(inflater%3A%20LayoutInflater%3F%2C%20container%3A%20ViewGroup%3F%2C%20savedInstanceState%3A%20Bundle%3F)%3A%20View%20%7B%5Cn%20%20%20%20%20%20%20%20return%20inflater!!.inflate(R.layout.fragment_home%2Ccontainer%2Cfalse)%5Cn%20%20%20%20%7D%5Cn%20%20%20%20override%20fun%20onActivityCreated(savedInstanceState%3A%20Bundle%3F)%20%7B%5Cn%20%20%20%20%20%20%20%20super.onActivityCreated(savedInstanceState)%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22AAxZB%22%7D\"></card><p data-lake-id=\"d03a252db28d586449fe4c44b2c661c9\" id=\"d03a252db28d586449fe4c44b2c661c9\"><span data-lake-id=\"u8b245cce\" id=\"u8b245cce\">新建fragment_home.xml</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3CLinearLayout%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Aorientation%3D%5C%22vertical%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%3E%5Cn%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Atext%3D%5C%22home%20fragment%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%20android%3Aid%3D%5C%22%40%2Bid%2FtextView%5C%22%2F%3E%5Cn%3C%2FLinearLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22sXPZu%22%7D\"></card><p data-lake-id=\"3dbec6385323a1c73f7245e72c3e3a63\" id=\"3dbec6385323a1c73f7245e72c3e3a63\"><span data-lake-id=\"uecab7902\" id=\"uecab7902\">重复上述操作新建4个fragment。</span></p><p data-lake-id=\"d2156784341a81d2156c50384730e928\" id=\"d2156784341a81d2156c50384730e928\"><span data-lake-id=\"u2d772f9c\" id=\"u2d772f9c\">#5.在MainActivity.kt添加fragment的更新</span></p><p data-lake-id=\"ddada631b93398ac3502f29695b1e561\" id=\"ddada631b93398ac3502f29695b1e561\"><span data-lake-id=\"ub12a829e\" id=\"ub12a829e\">添加函数onTabItemSelected</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22fun%20onTabItemSelected(position%3A%20Int)%7B%5Cn%20%20%20%20%20%20%20%20val%20transaction%20%3D%20fragmentManager.beginTransaction()%5Cn%20%20%20%20%20%20%20%20transaction.replace(R.id.main_container%2C%20MainData.mainFragmentList%5Bposition%5D).commit()%5Cn%20%20%20%20%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22hH3L2%22%7D\"></card><p data-lake-id=\"9ef0955c52529904062c1aa8b806e21d\" id=\"9ef0955c52529904062c1aa8b806e21d\"><span data-lake-id=\"udf45a079\" id=\"udf45a079\">并在onTabSelected中调用。</span></p><p data-lake-id=\"323392906b52f001b5a9ba22b1aaf85a\" id=\"323392906b52f001b5a9ba22b1aaf85a\"><span data-lake-id=\"ue306288f\" id=\"ue306288f\">#6.最终效果图如下</span></p><p data-lake-id=\"f85c44ae71ec89139eaaa3ef89a18e90\" id=\"f85c44ae71ec89139eaaa3ef89a18e90\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fupload-images.jianshu.io%2Fupload_images%2F7646499-d081b53f35b04173.png%3FimageMogr2%2Fauto-orient%2Fstrip%257CimageView2%2F2%2Fw%2F1240%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22bYGfK%22%7D\"></card></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:04:37.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:17.000Z",
    "updated_at": "2022-12-11T13:04:37.000Z",
    "published_at": "2022-12-11T13:04:37.000Z",
    "first_published_at": "2022-12-09T12:02:17.371Z",
    "word_count": 429,
    "cover": null,
    "description": "layout: posttitle: kotlin 底部导航栏（tabLayout + fragment）date: 2017-09-02 16:25:06categories: kotlintags:kotlin##准备工作在build.grale中添加compile \"com.androi...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945019,
    "slug": "320456e39492553e4d43a6b5b8db930b",
    "title": "2017-08-14-Toolbar-Kotlin-简单使用",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: Toolbar Kotlin 简单使用<br />date: 2017-08-14 16:25:06<br />categories: kotlin<br />tags:\n\n- kotlin\n\n---\n\n<a name=\"Twfhq\"></a>\n## 准备工作\n1.在build.gradle添加依赖\n```\next.anko_version = '0.10.1'\n```\n```\napply plugin: 'kotlin-android-extensions'\n```\n```\ncompile \"org.jetbrains.anko:anko-commons:$anko_version\"\n```\n2.将AppTheme改为继承noActionBar\n```\n<style name=\"AppTheme\" parent=\"Theme.AppCompat.NoActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n```\n<a name=\"iCMyS\"></a>\n## 创建toolbar\n编辑 activity_main.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"com.zyqzyq.myapplication.MainActivity\">\n    <android.support.v7.widget.Toolbar\n\t\t    android:id=\"@+id/mToolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:background=\"@color/colorPrimary\"\n            app:contentInsetStart=\"0dp\">\n        <TextView\n                android:id=\"@+id/mTitle\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:text=\"标题\"\n                android:textSize=\"36sp\"\n                android:gravity=\"center\"/>\n    </android.support.v7.widget.Toolbar>\n    <TextView\n            android:id=\"@+id/mTextView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Hello World!\"\n            android:layout_centerInParent=\"true\"/>\n</RelativeLayout>\n```\n修改MainAcitivity.kt<br />在MainActivity.kt 中添加如下代码\n```\n//将mtoolbar设置为actionbar\nsetSupportActionBar(mToolbar)\n//APP 图标\nmToolbar.setLogo(R.drawable.ic_launcher)\n//APP 标题\nmToolbar.title = \"\"\nmTitle.text = \"标题居中\"\n//APP 正文内容\nmTextView.text = \"正文内容\"\n```\n<a name=\"tQgm7\"></a>\n## 添加menu\n新建 /res/menu/menu_toolbar.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item\n            android:id=\"@+id/app_bar_search\"\n            android:icon=\"@drawable/ic_search_black_24dp\"\n            android:title=\"Search\" \n            android:actionViewClass=\"android.widget.SearchView\" \n            app:showAsAction=\"ifRoom\"/>\n    <item android:title=\"Item\" app:showAsAction=\"never\"/>\n    <item android:title=\"Item\" app:showAsAction=\"never\"/>\n</menu>\n```\n将menu加入toolbar并在MainActivity.kt中添加监听。\n```\n//APP 菜单栏\nmToolbar.inflateMenu(R.menu.menu_toolbar)\n//菜单栏监听\nmToolbar.setOnMenuItemClickListener {\n    when(it.itemId){\n        R.id.app_bar_search -> toast(\"search\")\n        else -> toast(\"click something else\")\n    }\n    true\n}\n```\n菜单栏未正常显示，注释setSupportActionBar(mToolbar)后可以正常显示（暂未找到原因，有懂的希望告知下，谢谢）<br />运行代码后成功界面<br />![](http://img.blog.csdn.net/20170814100716932?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI3ODMzNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast#crop=0&crop=0&crop=1&crop=1&id=NWghO&originHeight=722&originWidth=406&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />（莫名的发现标题不居中了，注销了setSupportActionBar以后居中正常显示，感觉有毒，还需在研究研究）\n",
    "body_draft": "---\n\nlayout: post<br />title: Toolbar Kotlin 简单使用<br />date: 2017-08-14 16:25:06<br />categories: kotlin<br />tags:\n\n- kotlin\n\n---\n\n<a name=\"Twfhq\"></a>\n## 准备工作\n1.在build.gradle添加依赖\n```\next.anko_version = '0.10.1'\n```\n```\napply plugin: 'kotlin-android-extensions'\n```\n```\ncompile \"org.jetbrains.anko:anko-commons:$anko_version\"\n```\n2.将AppTheme改为继承noActionBar\n```\n<style name=\"AppTheme\" parent=\"Theme.AppCompat.NoActionBar\">\n        <!-- Customize your theme here. -->\n        <item name=\"colorPrimary\">@color/colorPrimary</item>\n        <item name=\"colorPrimaryDark\">@color/colorPrimaryDark</item>\n        <item name=\"colorAccent\">@color/colorAccent</item>\n    </style>\n```\n<a name=\"iCMyS\"></a>\n## 创建toolbar\n编辑 activity_main.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<RelativeLayout\n        xmlns:android=\"http://schemas.android.com/apk/res/android\"\n        xmlns:tools=\"http://schemas.android.com/tools\"\n        xmlns:app=\"http://schemas.android.com/apk/res-auto\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"match_parent\"\n        tools:context=\"com.zyqzyq.myapplication.MainActivity\">\n    <android.support.v7.widget.Toolbar\n\t\t    android:id=\"@+id/mToolbar\"\n            android:layout_width=\"match_parent\"\n            android:layout_height=\"wrap_content\"\n            android:minHeight=\"?attr/actionBarSize\"\n            android:background=\"@color/colorPrimary\"\n            app:contentInsetStart=\"0dp\">\n        <TextView\n                android:id=\"@+id/mTitle\"\n                android:layout_width=\"match_parent\"\n                android:layout_height=\"match_parent\"\n                android:text=\"标题\"\n                android:textSize=\"36sp\"\n                android:gravity=\"center\"/>\n    </android.support.v7.widget.Toolbar>\n    <TextView\n            android:id=\"@+id/mTextView\"\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:text=\"Hello World!\"\n            android:layout_centerInParent=\"true\"/>\n</RelativeLayout>\n```\n修改MainAcitivity.kt<br />在MainActivity.kt 中添加如下代码\n```\n//将mtoolbar设置为actionbar\nsetSupportActionBar(mToolbar)\n//APP 图标\nmToolbar.setLogo(R.drawable.ic_launcher)\n//APP 标题\nmToolbar.title = \"\"\nmTitle.text = \"标题居中\"\n//APP 正文内容\nmTextView.text = \"正文内容\"\n```\n<a name=\"tQgm7\"></a>\n## 添加menu\n新建 /res/menu/menu_toolbar.xml\n```\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<menu xmlns:app=\"http://schemas.android.com/apk/res-auto\" xmlns:android=\"http://schemas.android.com/apk/res/android\">\n    <item\n            android:id=\"@+id/app_bar_search\"\n            android:icon=\"@drawable/ic_search_black_24dp\"\n            android:title=\"Search\" \n            android:actionViewClass=\"android.widget.SearchView\" \n            app:showAsAction=\"ifRoom\"/>\n    <item android:title=\"Item\" app:showAsAction=\"never\"/>\n    <item android:title=\"Item\" app:showAsAction=\"never\"/>\n</menu>\n```\n将menu加入toolbar并在MainActivity.kt中添加监听。\n```\n//APP 菜单栏\nmToolbar.inflateMenu(R.menu.menu_toolbar)\n//菜单栏监听\nmToolbar.setOnMenuItemClickListener {\n    when(it.itemId){\n        R.id.app_bar_search -> toast(\"search\")\n        else -> toast(\"click something else\")\n    }\n    true\n}\n```\n菜单栏未正常显示，注释setSupportActionBar(mToolbar)后可以正常显示（暂未找到原因，有懂的希望告知下，谢谢）<br />运行代码后成功界面<br />![](http://img.blog.csdn.net/20170814100716932?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI3ODMzNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast#crop=0&crop=0&crop=1&crop=1&id=NWghO&originHeight=722&originWidth=406&originalType=binary&ratio=1&rotation=0&showTitle=false&status=done&style=none&title=)<br />（莫名的发现标题不居中了，注销了setSupportActionBar以后居中正常显示，感觉有毒，还需在研究研究）\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"y5lRt\" class=\"ne-hr\"><p id=\"fc9531146f1077d5e239dd56d7113314\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"0af500eaa29b886a0ba112611352246c\" class=\"ne-p\"><span class=\"ne-text\">title: Toolbar Kotlin 简单使用</span></p><p id=\"4ccc2da313bbe7ceac70e27b4168e063\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-08-14 16:25:06</span></p><p id=\"02edf0816047a40a5221d0af7ea64c98\" class=\"ne-p\"><span class=\"ne-text\">categories: kotlin</span></p><p id=\"3105c41a78f935078749fddb7d84e4a9\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"a35f383a6b3d178fa6ecb6a53357a5bf\"><span class=\"ne-text\">kotlin</span></li></ul><hr id=\"Mlvog\" class=\"ne-hr\"><h2 id=\"Twfhq\"><span class=\"ne-text\">准备工作</span></h2><p id=\"d7483d74de836d57f669b6334c8daab3\" class=\"ne-p\"><span class=\"ne-text\">1.在build.gradle添加依赖</span></p><pre data-language=\"plain\" id=\"2GwFt\" class=\"ne-codeblock language-plain\">ext.anko_version = '0.10.1'</pre><pre data-language=\"plain\" id=\"6U9T3\" class=\"ne-codeblock language-plain\">apply plugin: 'kotlin-android-extensions'</pre><pre data-language=\"plain\" id=\"DoeTx\" class=\"ne-codeblock language-plain\">compile &quot;org.jetbrains.anko:anko-commons:$anko_version&quot;</pre><p id=\"b396c36d141530195bba5dae9c303136\" class=\"ne-p\"><span class=\"ne-text\">2.将AppTheme改为继承noActionBar</span></p><pre data-language=\"plain\" id=\"OKdGn\" class=\"ne-codeblock language-plain\">&lt;style name=&quot;AppTheme&quot; parent=&quot;Theme.AppCompat.NoActionBar&quot;&gt;\n        &lt;!-- Customize your theme here. --&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;@color/colorPrimary&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/colorPrimaryDark&lt;/item&gt;\n        &lt;item name=&quot;colorAccent&quot;&gt;@color/colorAccent&lt;/item&gt;\n    &lt;/style&gt;</pre><h2 id=\"iCMyS\"><span class=\"ne-text\">创建toolbar</span></h2><p id=\"7f11b9181382fb32bf8eb2027148c48b\" class=\"ne-p\"><span class=\"ne-text\">编辑 activity_main.xml</span></p><pre data-language=\"plain\" id=\"xrWKY\" class=\"ne-codeblock language-plain\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        tools:context=&quot;com.zyqzyq.myapplication.MainActivity&quot;&gt;\n    &lt;android.support.v7.widget.Toolbar\n\t\t    android:id=&quot;@+id/mToolbar&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:minHeight=&quot;?attr/actionBarSize&quot;\n            android:background=&quot;@color/colorPrimary&quot;\n            app:contentInsetStart=&quot;0dp&quot;&gt;\n        &lt;TextView\n                android:id=&quot;@+id/mTitle&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:text=&quot;标题&quot;\n                android:textSize=&quot;36sp&quot;\n                android:gravity=&quot;center&quot;/&gt;\n    &lt;/android.support.v7.widget.Toolbar&gt;\n    &lt;TextView\n            android:id=&quot;@+id/mTextView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:text=&quot;Hello World!&quot;\n            android:layout_centerInParent=&quot;true&quot;/&gt;\n&lt;/RelativeLayout&gt;</pre><p id=\"56e50470bb77a28c3d513bb373e4589f\" class=\"ne-p\"><span class=\"ne-text\">修改MainAcitivity.kt</span></p><p id=\"9ab4b003d51167b9fdbe353e3fb49792\" class=\"ne-p\"><span class=\"ne-text\">在MainActivity.kt 中添加如下代码</span></p><pre data-language=\"plain\" id=\"QqBOY\" class=\"ne-codeblock language-plain\">//将mtoolbar设置为actionbar\nsetSupportActionBar(mToolbar)\n//APP 图标\nmToolbar.setLogo(R.drawable.ic_launcher)\n//APP 标题\nmToolbar.title = &quot;&quot;\nmTitle.text = &quot;标题居中&quot;\n//APP 正文内容\nmTextView.text = &quot;正文内容&quot;</pre><h2 id=\"tQgm7\"><span class=\"ne-text\">添加menu</span></h2><p id=\"8aa0249966f8c2725b759d49bdbf44e0\" class=\"ne-p\"><span class=\"ne-text\">新建 /res/menu/menu_toolbar.xml</span></p><pre data-language=\"plain\" id=\"aaqU7\" class=\"ne-codeblock language-plain\">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot; xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item\n            android:id=&quot;@+id/app_bar_search&quot;\n            android:icon=&quot;@drawable/ic_search_black_24dp&quot;\n            android:title=&quot;Search&quot; \n            android:actionViewClass=&quot;android.widget.SearchView&quot; \n            app:showAsAction=&quot;ifRoom&quot;/&gt;\n    &lt;item android:title=&quot;Item&quot; app:showAsAction=&quot;never&quot;/&gt;\n    &lt;item android:title=&quot;Item&quot; app:showAsAction=&quot;never&quot;/&gt;\n&lt;/menu&gt;</pre><p id=\"4b389e9ab250080150b2d71917b0587b\" class=\"ne-p\"><span class=\"ne-text\">将menu加入toolbar并在MainActivity.kt中添加监听。</span></p><pre data-language=\"plain\" id=\"u0JZT\" class=\"ne-codeblock language-plain\">//APP 菜单栏\nmToolbar.inflateMenu(R.menu.menu_toolbar)\n//菜单栏监听\nmToolbar.setOnMenuItemClickListener {\n    when(it.itemId){\n        R.id.app_bar_search -&gt; toast(&quot;search&quot;)\n        else -&gt; toast(&quot;click something else&quot;)\n    }\n    true\n}</pre><p id=\"a61d5e6b4bba3acdd6206ae6952acea4\" class=\"ne-p\"><span class=\"ne-text\">菜单栏未正常显示，注释setSupportActionBar(mToolbar)后可以正常显示（暂未找到原因，有懂的希望告知下，谢谢）</span></p><p id=\"1accec1d9e446bcd3177a3212cea33a3\" class=\"ne-p\"><span class=\"ne-text\">运行代码后成功界面</span></p><p id=\"b893b8c339645f90e5bd11d69c91ccbb\" class=\"ne-p\"><img src=\"http://img.blog.csdn.net/20170814100716932?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI3ODMzNTM=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast\" width=\"406\" id=\"NWghO\" class=\"ne-image\"></p><p id=\"072129e563656341909f566b1edfbd4d\" class=\"ne-p\"><span class=\"ne-text\">（莫名的发现标题不居中了，注销了setSupportActionBar以后居中正常显示，感觉有毒，还需在研究研究）</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22y5lRt%22%7D\"></card><p data-lake-id=\"fc9531146f1077d5e239dd56d7113314\" id=\"fc9531146f1077d5e239dd56d7113314\"><span data-lake-id=\"uc693dce4\" id=\"uc693dce4\">layout: post</span></p><p data-lake-id=\"0af500eaa29b886a0ba112611352246c\" id=\"0af500eaa29b886a0ba112611352246c\"><span data-lake-id=\"uabe99753\" id=\"uabe99753\">title: Toolbar Kotlin 简单使用</span></p><p data-lake-id=\"4ccc2da313bbe7ceac70e27b4168e063\" id=\"4ccc2da313bbe7ceac70e27b4168e063\"><span data-lake-id=\"ue14056bf\" id=\"ue14056bf\">date: 2017-08-14 16:25:06</span></p><p data-lake-id=\"02edf0816047a40a5221d0af7ea64c98\" id=\"02edf0816047a40a5221d0af7ea64c98\"><span data-lake-id=\"u1202f85f\" id=\"u1202f85f\">categories: kotlin</span></p><p data-lake-id=\"3105c41a78f935078749fddb7d84e4a9\" id=\"3105c41a78f935078749fddb7d84e4a9\"><span data-lake-id=\"ub01d2e6b\" id=\"ub01d2e6b\">tags:</span></p><ul list=\"ubbffe3d2\"><li fid=\"u31d1984f\" data-lake-id=\"a35f383a6b3d178fa6ecb6a53357a5bf\" id=\"a35f383a6b3d178fa6ecb6a53357a5bf\"><span data-lake-id=\"u961baf12\" id=\"u961baf12\">kotlin</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Mlvog%22%7D\"></card><h2 data-lake-id=\"Twfhq\" id=\"Twfhq\"><span data-lake-id=\"u2018fe3a\" id=\"u2018fe3a\">准备工作</span></h2><p data-lake-id=\"d7483d74de836d57f669b6334c8daab3\" id=\"d7483d74de836d57f669b6334c8daab3\"><span data-lake-id=\"u954e8564\" id=\"u954e8564\">1.在build.gradle添加依赖</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22ext.anko_version%20%3D%20'0.10.1'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222GwFt%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22apply%20plugin%3A%20'kotlin-android-extensions'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226U9T3%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22compile%20%5C%22org.jetbrains.anko%3Aanko-commons%3A%24anko_version%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22DoeTx%22%7D\"></card><p data-lake-id=\"b396c36d141530195bba5dae9c303136\" id=\"b396c36d141530195bba5dae9c303136\"><span data-lake-id=\"u5487a9e5\" id=\"u5487a9e5\">2.将AppTheme改为继承noActionBar</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cstyle%20name%3D%5C%22AppTheme%5C%22%20parent%3D%5C%22Theme.AppCompat.NoActionBar%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%20Customize%20your%20theme%20here.%20--%3E%5Cn%20%20%20%20%20%20%20%20%3Citem%20name%3D%5C%22colorPrimary%5C%22%3E%40color%2FcolorPrimary%3C%2Fitem%3E%5Cn%20%20%20%20%20%20%20%20%3Citem%20name%3D%5C%22colorPrimaryDark%5C%22%3E%40color%2FcolorPrimaryDark%3C%2Fitem%3E%5Cn%20%20%20%20%20%20%20%20%3Citem%20name%3D%5C%22colorAccent%5C%22%3E%40color%2FcolorAccent%3C%2Fitem%3E%5Cn%20%20%20%20%3C%2Fstyle%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22OKdGn%22%7D\"></card><h2 data-lake-id=\"iCMyS\" id=\"iCMyS\"><span data-lake-id=\"ue3178291\" id=\"ue3178291\">创建toolbar</span></h2><p data-lake-id=\"7f11b9181382fb32bf8eb2027148c48b\" id=\"7f11b9181382fb32bf8eb2027148c48b\"><span data-lake-id=\"ue03aed81\" id=\"ue03aed81\">编辑 activity_main.xml</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3CRelativeLayout%5Cn%20%20%20%20%20%20%20%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Atools%3D%5C%22http%3A%2F%2Fschemas.android.com%2Ftools%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Aapp%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres-auto%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20tools%3Acontext%3D%5C%22com.zyqzyq.myapplication.MainActivity%5C%22%3E%5Cn%20%20%20%20%3Candroid.support.v7.widget.Toolbar%5Cn%5Ct%5Ct%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2FmToolbar%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AminHeight%3D%5C%22%3Fattr%2FactionBarSize%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Abackground%3D%5C%22%40color%2FcolorPrimary%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AcontentInsetStart%3D%5C%220dp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2FmTitle%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Atext%3D%5C%22%E6%A0%87%E9%A2%98%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3AtextSize%3D%5C%2236sp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Agravity%3D%5C%22center%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fandroid.support.v7.widget.Toolbar%3E%5Cn%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2FmTextView%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Atext%3D%5C%22Hello%20World!%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_centerInParent%3D%5C%22true%5C%22%2F%3E%5Cn%3C%2FRelativeLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22xrWKY%22%7D\"></card><p data-lake-id=\"56e50470bb77a28c3d513bb373e4589f\" id=\"56e50470bb77a28c3d513bb373e4589f\"><span data-lake-id=\"u63b8d799\" id=\"u63b8d799\">修改MainAcitivity.kt</span></p><p data-lake-id=\"9ab4b003d51167b9fdbe353e3fb49792\" id=\"9ab4b003d51167b9fdbe353e3fb49792\"><span data-lake-id=\"ud1090280\" id=\"ud1090280\">在MainActivity.kt 中添加如下代码</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%2F%2F%E5%B0%86mtoolbar%E8%AE%BE%E7%BD%AE%E4%B8%BAactionbar%5CnsetSupportActionBar(mToolbar)%5Cn%2F%2FAPP%20%E5%9B%BE%E6%A0%87%5CnmToolbar.setLogo(R.drawable.ic_launcher)%5Cn%2F%2FAPP%20%E6%A0%87%E9%A2%98%5CnmToolbar.title%20%3D%20%5C%22%5C%22%5CnmTitle.text%20%3D%20%5C%22%E6%A0%87%E9%A2%98%E5%B1%85%E4%B8%AD%5C%22%5Cn%2F%2FAPP%20%E6%AD%A3%E6%96%87%E5%86%85%E5%AE%B9%5CnmTextView.text%20%3D%20%5C%22%E6%AD%A3%E6%96%87%E5%86%85%E5%AE%B9%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QqBOY%22%7D\"></card><h2 data-lake-id=\"tQgm7\" id=\"tQgm7\"><span data-lake-id=\"u974e38ed\" id=\"u974e38ed\">添加menu</span></h2><p data-lake-id=\"8aa0249966f8c2725b759d49bdbf44e0\" id=\"8aa0249966f8c2725b759d49bdbf44e0\"><span data-lake-id=\"u539f2a4b\" id=\"u539f2a4b\">新建 /res/menu/menu_toolbar.xml</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3Cmenu%20xmlns%3Aapp%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres-auto%5C%22%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%3E%5Cn%20%20%20%20%3Citem%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Fapp_bar_search%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aicon%3D%5C%22%40drawable%2Fic_search_black_24dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Atitle%3D%5C%22Search%5C%22%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AactionViewClass%3D%5C%22android.widget.SearchView%5C%22%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AshowAsAction%3D%5C%22ifRoom%5C%22%2F%3E%5Cn%20%20%20%20%3Citem%20android%3Atitle%3D%5C%22Item%5C%22%20app%3AshowAsAction%3D%5C%22never%5C%22%2F%3E%5Cn%20%20%20%20%3Citem%20android%3Atitle%3D%5C%22Item%5C%22%20app%3AshowAsAction%3D%5C%22never%5C%22%2F%3E%5Cn%3C%2Fmenu%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22aaqU7%22%7D\"></card><p data-lake-id=\"4b389e9ab250080150b2d71917b0587b\" id=\"4b389e9ab250080150b2d71917b0587b\"><span data-lake-id=\"ufb6a64ee\" id=\"ufb6a64ee\">将menu加入toolbar并在MainActivity.kt中添加监听。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%2F%2FAPP%20%E8%8F%9C%E5%8D%95%E6%A0%8F%5CnmToolbar.inflateMenu(R.menu.menu_toolbar)%5Cn%2F%2F%E8%8F%9C%E5%8D%95%E6%A0%8F%E7%9B%91%E5%90%AC%5CnmToolbar.setOnMenuItemClickListener%20%7B%5Cn%20%20%20%20when(it.itemId)%7B%5Cn%20%20%20%20%20%20%20%20R.id.app_bar_search%20-%3E%20toast(%5C%22search%5C%22)%5Cn%20%20%20%20%20%20%20%20else%20-%3E%20toast(%5C%22click%20something%20else%5C%22)%5Cn%20%20%20%20%7D%5Cn%20%20%20%20true%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22u0JZT%22%7D\"></card><p data-lake-id=\"a61d5e6b4bba3acdd6206ae6952acea4\" id=\"a61d5e6b4bba3acdd6206ae6952acea4\"><span data-lake-id=\"u02f9acf9\" id=\"u02f9acf9\">菜单栏未正常显示，注释setSupportActionBar(mToolbar)后可以正常显示（暂未找到原因，有懂的希望告知下，谢谢）</span></p><p data-lake-id=\"1accec1d9e446bcd3177a3212cea33a3\" id=\"1accec1d9e446bcd3177a3212cea33a3\"><span data-lake-id=\"udb65ecbc\" id=\"udb65ecbc\">运行代码后成功界面</span></p><p data-lake-id=\"b893b8c339645f90e5bd11d69c91ccbb\" id=\"b893b8c339645f90e5bd11d69c91ccbb\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fimg.blog.csdn.net%2F20170814100716932%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI3ODMzNTM%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A406%2C%22originHeight%22%3A722%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22NWghO%22%7D\"></card></p><p data-lake-id=\"072129e563656341909f566b1edfbd4d\" id=\"072129e563656341909f566b1edfbd4d\"><span data-lake-id=\"u2ee717cf\" id=\"u2ee717cf\">（莫名的发现标题不居中了，注销了setSupportActionBar以后居中正常显示，感觉有毒，还需在研究研究）</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22y5lRt%22%7D\"></card><p data-lake-id=\"fc9531146f1077d5e239dd56d7113314\" id=\"fc9531146f1077d5e239dd56d7113314\"><span data-lake-id=\"uc693dce4\" id=\"uc693dce4\">layout: post</span></p><p data-lake-id=\"0af500eaa29b886a0ba112611352246c\" id=\"0af500eaa29b886a0ba112611352246c\"><span data-lake-id=\"uabe99753\" id=\"uabe99753\">title: Toolbar Kotlin 简单使用</span></p><p data-lake-id=\"4ccc2da313bbe7ceac70e27b4168e063\" id=\"4ccc2da313bbe7ceac70e27b4168e063\"><span data-lake-id=\"ue14056bf\" id=\"ue14056bf\">date: 2017-08-14 16:25:06</span></p><p data-lake-id=\"02edf0816047a40a5221d0af7ea64c98\" id=\"02edf0816047a40a5221d0af7ea64c98\"><span data-lake-id=\"u1202f85f\" id=\"u1202f85f\">categories: kotlin</span></p><p data-lake-id=\"3105c41a78f935078749fddb7d84e4a9\" id=\"3105c41a78f935078749fddb7d84e4a9\"><span data-lake-id=\"ub01d2e6b\" id=\"ub01d2e6b\">tags:</span></p><ul list=\"ubbffe3d2\"><li fid=\"u31d1984f\" data-lake-id=\"a35f383a6b3d178fa6ecb6a53357a5bf\" id=\"a35f383a6b3d178fa6ecb6a53357a5bf\"><span data-lake-id=\"u961baf12\" id=\"u961baf12\">kotlin</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Mlvog%22%7D\"></card><h2 data-lake-id=\"Twfhq\" id=\"Twfhq\"><span data-lake-id=\"u2018fe3a\" id=\"u2018fe3a\">准备工作</span></h2><p data-lake-id=\"d7483d74de836d57f669b6334c8daab3\" id=\"d7483d74de836d57f669b6334c8daab3\"><span data-lake-id=\"u954e8564\" id=\"u954e8564\">1.在build.gradle添加依赖</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22ext.anko_version%20%3D%20'0.10.1'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222GwFt%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22apply%20plugin%3A%20'kotlin-android-extensions'%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%226U9T3%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22compile%20%5C%22org.jetbrains.anko%3Aanko-commons%3A%24anko_version%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22DoeTx%22%7D\"></card><p data-lake-id=\"b396c36d141530195bba5dae9c303136\" id=\"b396c36d141530195bba5dae9c303136\"><span data-lake-id=\"u5487a9e5\" id=\"u5487a9e5\">2.将AppTheme改为继承noActionBar</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3Cstyle%20name%3D%5C%22AppTheme%5C%22%20parent%3D%5C%22Theme.AppCompat.NoActionBar%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3C!--%20Customize%20your%20theme%20here.%20--%3E%5Cn%20%20%20%20%20%20%20%20%3Citem%20name%3D%5C%22colorPrimary%5C%22%3E%40color%2FcolorPrimary%3C%2Fitem%3E%5Cn%20%20%20%20%20%20%20%20%3Citem%20name%3D%5C%22colorPrimaryDark%5C%22%3E%40color%2FcolorPrimaryDark%3C%2Fitem%3E%5Cn%20%20%20%20%20%20%20%20%3Citem%20name%3D%5C%22colorAccent%5C%22%3E%40color%2FcolorAccent%3C%2Fitem%3E%5Cn%20%20%20%20%3C%2Fstyle%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22OKdGn%22%7D\"></card><h2 data-lake-id=\"iCMyS\" id=\"iCMyS\"><span data-lake-id=\"ue3178291\" id=\"ue3178291\">创建toolbar</span></h2><p data-lake-id=\"7f11b9181382fb32bf8eb2027148c48b\" id=\"7f11b9181382fb32bf8eb2027148c48b\"><span data-lake-id=\"ue03aed81\" id=\"ue03aed81\">编辑 activity_main.xml</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3CRelativeLayout%5Cn%20%20%20%20%20%20%20%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Atools%3D%5C%22http%3A%2F%2Fschemas.android.com%2Ftools%5C%22%5Cn%20%20%20%20%20%20%20%20xmlns%3Aapp%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres-auto%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20tools%3Acontext%3D%5C%22com.zyqzyq.myapplication.MainActivity%5C%22%3E%5Cn%20%20%20%20%3Candroid.support.v7.widget.Toolbar%5Cn%5Ct%5Ct%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2FmToolbar%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AminHeight%3D%5C%22%3Fattr%2FactionBarSize%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Abackground%3D%5C%22%40color%2FcolorPrimary%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AcontentInsetStart%3D%5C%220dp%5C%22%3E%5Cn%20%20%20%20%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2FmTitle%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22match_parent%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Atext%3D%5C%22%E6%A0%87%E9%A2%98%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3AtextSize%3D%5C%2236sp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20android%3Agravity%3D%5C%22center%5C%22%2F%3E%5Cn%20%20%20%20%3C%2Fandroid.support.v7.widget.Toolbar%3E%5Cn%20%20%20%20%3CTextView%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2FmTextView%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_width%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_height%3D%5C%22wrap_content%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Atext%3D%5C%22Hello%20World!%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Alayout_centerInParent%3D%5C%22true%5C%22%2F%3E%5Cn%3C%2FRelativeLayout%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22xrWKY%22%7D\"></card><p data-lake-id=\"56e50470bb77a28c3d513bb373e4589f\" id=\"56e50470bb77a28c3d513bb373e4589f\"><span data-lake-id=\"u63b8d799\" id=\"u63b8d799\">修改MainAcitivity.kt</span></p><p data-lake-id=\"9ab4b003d51167b9fdbe353e3fb49792\" id=\"9ab4b003d51167b9fdbe353e3fb49792\"><span data-lake-id=\"ud1090280\" id=\"ud1090280\">在MainActivity.kt 中添加如下代码</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%2F%2F%E5%B0%86mtoolbar%E8%AE%BE%E7%BD%AE%E4%B8%BAactionbar%5CnsetSupportActionBar(mToolbar)%5Cn%2F%2FAPP%20%E5%9B%BE%E6%A0%87%5CnmToolbar.setLogo(R.drawable.ic_launcher)%5Cn%2F%2FAPP%20%E6%A0%87%E9%A2%98%5CnmToolbar.title%20%3D%20%5C%22%5C%22%5CnmTitle.text%20%3D%20%5C%22%E6%A0%87%E9%A2%98%E5%B1%85%E4%B8%AD%5C%22%5Cn%2F%2FAPP%20%E6%AD%A3%E6%96%87%E5%86%85%E5%AE%B9%5CnmTextView.text%20%3D%20%5C%22%E6%AD%A3%E6%96%87%E5%86%85%E5%AE%B9%5C%22%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22QqBOY%22%7D\"></card><h2 data-lake-id=\"tQgm7\" id=\"tQgm7\"><span data-lake-id=\"u974e38ed\" id=\"u974e38ed\">添加menu</span></h2><p data-lake-id=\"8aa0249966f8c2725b759d49bdbf44e0\" id=\"8aa0249966f8c2725b759d49bdbf44e0\"><span data-lake-id=\"u539f2a4b\" id=\"u539f2a4b\">新建 /res/menu/menu_toolbar.xml</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%3C%3Fxml%20version%3D%5C%221.0%5C%22%20encoding%3D%5C%22utf-8%5C%22%3F%3E%5Cn%3Cmenu%20xmlns%3Aapp%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres-auto%5C%22%20xmlns%3Aandroid%3D%5C%22http%3A%2F%2Fschemas.android.com%2Fapk%2Fres%2Fandroid%5C%22%3E%5Cn%20%20%20%20%3Citem%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aid%3D%5C%22%40%2Bid%2Fapp_bar_search%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Aicon%3D%5C%22%40drawable%2Fic_search_black_24dp%5C%22%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3Atitle%3D%5C%22Search%5C%22%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20android%3AactionViewClass%3D%5C%22android.widget.SearchView%5C%22%20%5Cn%20%20%20%20%20%20%20%20%20%20%20%20app%3AshowAsAction%3D%5C%22ifRoom%5C%22%2F%3E%5Cn%20%20%20%20%3Citem%20android%3Atitle%3D%5C%22Item%5C%22%20app%3AshowAsAction%3D%5C%22never%5C%22%2F%3E%5Cn%20%20%20%20%3Citem%20android%3Atitle%3D%5C%22Item%5C%22%20app%3AshowAsAction%3D%5C%22never%5C%22%2F%3E%5Cn%3C%2Fmenu%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22aaqU7%22%7D\"></card><p data-lake-id=\"4b389e9ab250080150b2d71917b0587b\" id=\"4b389e9ab250080150b2d71917b0587b\"><span data-lake-id=\"ufb6a64ee\" id=\"ufb6a64ee\">将menu加入toolbar并在MainActivity.kt中添加监听。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%2F%2FAPP%20%E8%8F%9C%E5%8D%95%E6%A0%8F%5CnmToolbar.inflateMenu(R.menu.menu_toolbar)%5Cn%2F%2F%E8%8F%9C%E5%8D%95%E6%A0%8F%E7%9B%91%E5%90%AC%5CnmToolbar.setOnMenuItemClickListener%20%7B%5Cn%20%20%20%20when(it.itemId)%7B%5Cn%20%20%20%20%20%20%20%20R.id.app_bar_search%20-%3E%20toast(%5C%22search%5C%22)%5Cn%20%20%20%20%20%20%20%20else%20-%3E%20toast(%5C%22click%20something%20else%5C%22)%5Cn%20%20%20%20%7D%5Cn%20%20%20%20true%5Cn%7D%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22u0JZT%22%7D\"></card><p data-lake-id=\"a61d5e6b4bba3acdd6206ae6952acea4\" id=\"a61d5e6b4bba3acdd6206ae6952acea4\"><span data-lake-id=\"u02f9acf9\" id=\"u02f9acf9\">菜单栏未正常显示，注释setSupportActionBar(mToolbar)后可以正常显示（暂未找到原因，有懂的希望告知下，谢谢）</span></p><p data-lake-id=\"1accec1d9e446bcd3177a3212cea33a3\" id=\"1accec1d9e446bcd3177a3212cea33a3\"><span data-lake-id=\"udb65ecbc\" id=\"udb65ecbc\">运行代码后成功界面</span></p><p data-lake-id=\"b893b8c339645f90e5bd11d69c91ccbb\" id=\"b893b8c339645f90e5bd11d69c91ccbb\"><card type=\"inline\" name=\"image\" value=\"data:%7B%22src%22%3A%22http%3A%2F%2Fimg.blog.csdn.net%2F20170814100716932%3Fwatermark%2F2%2Ftext%2FaHR0cDovL2Jsb2cuY3Nkbi5uZXQvcXFfMzI3ODMzNTM%3D%2Ffont%2F5a6L5L2T%2Ffontsize%2F400%2Ffill%2FI0JBQkFCMA%3D%3D%2Fdissolve%2F70%2Fgravity%2FSouthEast%22%2C%22originalType%22%3A%22binary%22%2C%22linkTarget%22%3A%22%22%2C%22originWidth%22%3A406%2C%22originHeight%22%3A722%2C%22ratio%22%3A1%2C%22status%22%3A%22done%22%2C%22style%22%3A%22none%22%2C%22showTitle%22%3Afalse%2C%22title%22%3A%22%22%2C%22rotation%22%3A0%2C%22crop%22%3A%5B0%2C0%2C1%2C1%5D%2C%22id%22%3A%22NWghO%22%7D\"></card></p><p data-lake-id=\"072129e563656341909f566b1edfbd4d\" id=\"072129e563656341909f566b1edfbd4d\"><span data-lake-id=\"u2ee717cf\" id=\"u2ee717cf\">（莫名的发现标题不居中了，注销了setSupportActionBar以后居中正常显示，感觉有毒，还需在研究研究）</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:04:49.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:16.000Z",
    "updated_at": "2022-12-11T13:04:50.000Z",
    "published_at": "2022-12-11T13:04:49.000Z",
    "first_published_at": "2022-12-09T12:02:16.170Z",
    "word_count": 304,
    "cover": null,
    "description": "layout: posttitle: Toolbar Kotlin 简单使用date: 2017-08-14 16:25:06categories: kotlintags:kotlin准备工作1.在build.gradle添加依赖ext.anko_version = '0.10.1'apply...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945016,
    "slug": "19a7b695efb6540f13e693701abb1d4f",
    "title": "2017-06-05-kivy-textinput弹出输入框处理",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: kivy textinput弹出输入框处理<br />date: 2017-06-05 16:25:06<br />categories: kivy<br />tags:\n\n- kivy\n\n---\n\n在kivy打包Android程序后运行，点击输入框会自动弹出输入法将自己的控件遮挡住，在群友（校长巨佬）的指导下找到了softinput_mod 参数，可以控制输入法的弹窗模式。\n> softinput_mode 官网参数介绍：\n> This specifies the behavior of window contents on display of the soft keyboard on mobile platforms. It can be one of ”, ‘pan’, ‘scale’, ‘resize’ or ‘below_target’. Their effects are listed below.\n\n”. The main window is left as is, allowing you to use the keyboard_height to manage the window contents manually.<br />‘pan’. The main window pans, moving the bottom part of the window to be always on top of the keyboard.<br />‘resize’. The window is resized and the contents scaled to fit the remaining space.<br />‘below_target’. The window pans so that the current target TextInput widget requesting the keyboard is presented just above the soft keyboard.<br />'scale'参数在官网未找到相关说明<br />'below_target'需要kivy1.9.1版本或以上<br />例如：\n```\n`from kivy.core.window import WindowBase\nWindowBase.softinput_mode='below_target'`\n```\nsoftinput_mode默认为‘’\n",
    "body_draft": "---\n\nlayout: post<br />title: kivy textinput弹出输入框处理<br />date: 2017-06-05 16:25:06<br />categories: kivy<br />tags:\n\n- kivy\n\n---\n\n在kivy打包Android程序后运行，点击输入框会自动弹出输入法将自己的控件遮挡住，在群友（校长巨佬）的指导下找到了softinput_mod 参数，可以控制输入法的弹窗模式。\n> softinput_mode 官网参数介绍：\n> This specifies the behavior of window contents on display of the soft keyboard on mobile platforms. It can be one of ”, ‘pan’, ‘scale’, ‘resize’ or ‘below_target’. Their effects are listed below.\n\n”. The main window is left as is, allowing you to use the keyboard_height to manage the window contents manually.<br />‘pan’. The main window pans, moving the bottom part of the window to be always on top of the keyboard.<br />‘resize’. The window is resized and the contents scaled to fit the remaining space.<br />‘below_target’. The window pans so that the current target TextInput widget requesting the keyboard is presented just above the soft keyboard.<br />'scale'参数在官网未找到相关说明<br />'below_target'需要kivy1.9.1版本或以上<br />例如：\n```\n`from kivy.core.window import WindowBase\nWindowBase.softinput_mode='below_target'`\n```\nsoftinput_mode默认为‘’\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"VmaF0\" class=\"ne-hr\"><p id=\"c6ce7e7c0eb14168a18b26546d0a9313\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"1e9d2f41a9ed4c481e89ff0411ae7f2f\" class=\"ne-p\"><span class=\"ne-text\">title: kivy textinput弹出输入框处理</span></p><p id=\"9fdd0409a688bcbfc697e6241654a541\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-06-05 16:25:06</span></p><p id=\"42988d450bb323a786a1c7db2cdfb4e4\" class=\"ne-p\"><span class=\"ne-text\">categories: kivy</span></p><p id=\"036ff086fb4cecac8d69cf04d899f295\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"584c3cbd3f9cb98b4d956228cece017b\"><span class=\"ne-text\">kivy</span></li></ul><hr id=\"D9Jrg\" class=\"ne-hr\"><p id=\"ecb565c53826773c9a74673f5b778dda\" class=\"ne-p\"><span class=\"ne-text\">在kivy打包Android程序后运行，点击输入框会自动弹出输入法将自己的控件遮挡住，在群友（校长巨佬）的指导下找到了softinput_mod 参数，可以控制输入法的弹窗模式。</span></p><div class=\"ne-quote\"><p id=\"b3141509b44a91b3f219059559a378c4\" class=\"ne-p\"><span class=\"ne-text\">softinput_mode 官网参数介绍：</span></p><p id=\"d08489477e9b205e896c355e236c0dea\" class=\"ne-p\"><span class=\"ne-text\">This specifies the behavior of window contents on display of the soft keyboard on mobile platforms. It can be one of ”, ‘pan’, ‘scale’, ‘resize’ or ‘below_target’. Their effects are listed below.</span></p></div><p id=\"b08476b88d97855ba012f27272c620a0\" class=\"ne-p\"><span class=\"ne-text\">”. The main window is left as is, allowing you to use the keyboard_height to manage the window contents manually.</span></p><p id=\"86b60ea5b690d9b6bbe807f6fe56b486\" class=\"ne-p\"><span class=\"ne-text\">‘pan’. The main window pans, moving the bottom part of the window to be always on top of the keyboard.</span></p><p id=\"d2e53afe122aaf9f240e428e34f409d3\" class=\"ne-p\"><span class=\"ne-text\">‘resize’. The window is resized and the contents scaled to fit the remaining space.</span></p><p id=\"190a4b8c45eb7fd9cf3b8ea3142012cd\" class=\"ne-p\"><span class=\"ne-text\">‘below_target’. The window pans so that the current target TextInput widget requesting the keyboard is presented just above the soft keyboard.</span></p><p id=\"227e5c2f271e05e2b727277744d5ed24\" class=\"ne-p\"><span class=\"ne-text\">'scale'参数在官网未找到相关说明</span></p><p id=\"c5b2ec6572409a3e33fb291728c0bacd\" class=\"ne-p\"><span class=\"ne-text\">'below_target'需要kivy1.9.1版本或以上</span></p><p id=\"2b44e7f024c91d0a7e5e292249613147\" class=\"ne-p\"><span class=\"ne-text\">例如：</span></p><pre data-language=\"plain\" id=\"4u1wV\" class=\"ne-codeblock language-plain\">`from kivy.core.window import WindowBase\nWindowBase.softinput_mode='below_target'`</pre><p id=\"f4e66a09c602c3775d6cade6797d5b6b\" class=\"ne-p\"><span class=\"ne-text\">softinput_mode默认为‘’</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VmaF0%22%7D\"></card><p data-lake-id=\"c6ce7e7c0eb14168a18b26546d0a9313\" id=\"c6ce7e7c0eb14168a18b26546d0a9313\"><span data-lake-id=\"ufa0e5752\" id=\"ufa0e5752\">layout: post</span></p><p data-lake-id=\"1e9d2f41a9ed4c481e89ff0411ae7f2f\" id=\"1e9d2f41a9ed4c481e89ff0411ae7f2f\"><span data-lake-id=\"ua18c3de1\" id=\"ua18c3de1\">title: kivy textinput弹出输入框处理</span></p><p data-lake-id=\"9fdd0409a688bcbfc697e6241654a541\" id=\"9fdd0409a688bcbfc697e6241654a541\"><span data-lake-id=\"ue7730be4\" id=\"ue7730be4\">date: 2017-06-05 16:25:06</span></p><p data-lake-id=\"42988d450bb323a786a1c7db2cdfb4e4\" id=\"42988d450bb323a786a1c7db2cdfb4e4\"><span data-lake-id=\"u6ffccc8c\" id=\"u6ffccc8c\">categories: kivy</span></p><p data-lake-id=\"036ff086fb4cecac8d69cf04d899f295\" id=\"036ff086fb4cecac8d69cf04d899f295\"><span data-lake-id=\"u85793c99\" id=\"u85793c99\">tags:</span></p><ul list=\"u45f9e42e\"><li fid=\"u35ebbb77\" data-lake-id=\"584c3cbd3f9cb98b4d956228cece017b\" id=\"584c3cbd3f9cb98b4d956228cece017b\"><span data-lake-id=\"uc6bc234b\" id=\"uc6bc234b\">kivy</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22D9Jrg%22%7D\"></card><p data-lake-id=\"ecb565c53826773c9a74673f5b778dda\" id=\"ecb565c53826773c9a74673f5b778dda\"><span data-lake-id=\"u5e3d5ca1\" id=\"u5e3d5ca1\">在kivy打包Android程序后运行，点击输入框会自动弹出输入法将自己的控件遮挡住，在群友（校长巨佬）的指导下找到了softinput_mod 参数，可以控制输入法的弹窗模式。</span></p><blockquote data-lake-id=\"ud58d471b\" id=\"ud58d471b\"><p data-lake-id=\"b3141509b44a91b3f219059559a378c4\" id=\"b3141509b44a91b3f219059559a378c4\"><span data-lake-id=\"u10221f89\" id=\"u10221f89\">softinput_mode 官网参数介绍：</span></p><p data-lake-id=\"d08489477e9b205e896c355e236c0dea\" id=\"d08489477e9b205e896c355e236c0dea\"><span data-lake-id=\"u74ad4b42\" id=\"u74ad4b42\">This specifies the behavior of window contents on display of the soft keyboard on mobile platforms. It can be one of ”, ‘pan’, ‘scale’, ‘resize’ or ‘below_target’. Their effects are listed below.</span></p></blockquote><p data-lake-id=\"b08476b88d97855ba012f27272c620a0\" id=\"b08476b88d97855ba012f27272c620a0\"><span data-lake-id=\"u5eb4b674\" id=\"u5eb4b674\">”. The main window is left as is, allowing you to use the keyboard_height to manage the window contents manually.</span></p><p data-lake-id=\"86b60ea5b690d9b6bbe807f6fe56b486\" id=\"86b60ea5b690d9b6bbe807f6fe56b486\"><span data-lake-id=\"u1726ecb1\" id=\"u1726ecb1\">‘pan’. The main window pans, moving the bottom part of the window to be always on top of the keyboard.</span></p><p data-lake-id=\"d2e53afe122aaf9f240e428e34f409d3\" id=\"d2e53afe122aaf9f240e428e34f409d3\"><span data-lake-id=\"u86a7a672\" id=\"u86a7a672\">‘resize’. The window is resized and the contents scaled to fit the remaining space.</span></p><p data-lake-id=\"190a4b8c45eb7fd9cf3b8ea3142012cd\" id=\"190a4b8c45eb7fd9cf3b8ea3142012cd\"><span data-lake-id=\"u623d0c4d\" id=\"u623d0c4d\">‘below_target’. The window pans so that the current target TextInput widget requesting the keyboard is presented just above the soft keyboard.</span></p><p data-lake-id=\"227e5c2f271e05e2b727277744d5ed24\" id=\"227e5c2f271e05e2b727277744d5ed24\"><span data-lake-id=\"ud2978919\" id=\"ud2978919\">'scale'参数在官网未找到相关说明</span></p><p data-lake-id=\"c5b2ec6572409a3e33fb291728c0bacd\" id=\"c5b2ec6572409a3e33fb291728c0bacd\"><span data-lake-id=\"u8dd021bf\" id=\"u8dd021bf\">'below_target'需要kivy1.9.1版本或以上</span></p><p data-lake-id=\"2b44e7f024c91d0a7e5e292249613147\" id=\"2b44e7f024c91d0a7e5e292249613147\"><span data-lake-id=\"uf40d332d\" id=\"uf40d332d\">例如：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%60from%20kivy.core.window%20import%20WindowBase%5CnWindowBase.softinput_mode%3D'below_target'%60%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224u1wV%22%7D\"></card><p data-lake-id=\"f4e66a09c602c3775d6cade6797d5b6b\" id=\"f4e66a09c602c3775d6cade6797d5b6b\"><span data-lake-id=\"u6444673f\" id=\"u6444673f\">softinput_mode默认为‘’</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22VmaF0%22%7D\"></card><p data-lake-id=\"c6ce7e7c0eb14168a18b26546d0a9313\" id=\"c6ce7e7c0eb14168a18b26546d0a9313\"><span data-lake-id=\"ufa0e5752\" id=\"ufa0e5752\">layout: post</span></p><p data-lake-id=\"1e9d2f41a9ed4c481e89ff0411ae7f2f\" id=\"1e9d2f41a9ed4c481e89ff0411ae7f2f\"><span data-lake-id=\"ua18c3de1\" id=\"ua18c3de1\">title: kivy textinput弹出输入框处理</span></p><p data-lake-id=\"9fdd0409a688bcbfc697e6241654a541\" id=\"9fdd0409a688bcbfc697e6241654a541\"><span data-lake-id=\"ue7730be4\" id=\"ue7730be4\">date: 2017-06-05 16:25:06</span></p><p data-lake-id=\"42988d450bb323a786a1c7db2cdfb4e4\" id=\"42988d450bb323a786a1c7db2cdfb4e4\"><span data-lake-id=\"u6ffccc8c\" id=\"u6ffccc8c\">categories: kivy</span></p><p data-lake-id=\"036ff086fb4cecac8d69cf04d899f295\" id=\"036ff086fb4cecac8d69cf04d899f295\"><span data-lake-id=\"u85793c99\" id=\"u85793c99\">tags:</span></p><ul list=\"u45f9e42e\"><li fid=\"u35ebbb77\" data-lake-id=\"584c3cbd3f9cb98b4d956228cece017b\" id=\"584c3cbd3f9cb98b4d956228cece017b\"><span data-lake-id=\"uc6bc234b\" id=\"uc6bc234b\">kivy</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22D9Jrg%22%7D\"></card><p data-lake-id=\"ecb565c53826773c9a74673f5b778dda\" id=\"ecb565c53826773c9a74673f5b778dda\"><span data-lake-id=\"u5e3d5ca1\" id=\"u5e3d5ca1\">在kivy打包Android程序后运行，点击输入框会自动弹出输入法将自己的控件遮挡住，在群友（校长巨佬）的指导下找到了softinput_mod 参数，可以控制输入法的弹窗模式。</span></p><blockquote data-lake-id=\"ud58d471b\" id=\"ud58d471b\"><p data-lake-id=\"b3141509b44a91b3f219059559a378c4\" id=\"b3141509b44a91b3f219059559a378c4\"><span data-lake-id=\"u10221f89\" id=\"u10221f89\">softinput_mode 官网参数介绍：</span></p><p data-lake-id=\"d08489477e9b205e896c355e236c0dea\" id=\"d08489477e9b205e896c355e236c0dea\"><span data-lake-id=\"u74ad4b42\" id=\"u74ad4b42\">This specifies the behavior of window contents on display of the soft keyboard on mobile platforms. It can be one of ”, ‘pan’, ‘scale’, ‘resize’ or ‘below_target’. Their effects are listed below.</span></p></blockquote><p data-lake-id=\"b08476b88d97855ba012f27272c620a0\" id=\"b08476b88d97855ba012f27272c620a0\"><span data-lake-id=\"u5eb4b674\" id=\"u5eb4b674\">”. The main window is left as is, allowing you to use the keyboard_height to manage the window contents manually.</span></p><p data-lake-id=\"86b60ea5b690d9b6bbe807f6fe56b486\" id=\"86b60ea5b690d9b6bbe807f6fe56b486\"><span data-lake-id=\"u1726ecb1\" id=\"u1726ecb1\">‘pan’. The main window pans, moving the bottom part of the window to be always on top of the keyboard.</span></p><p data-lake-id=\"d2e53afe122aaf9f240e428e34f409d3\" id=\"d2e53afe122aaf9f240e428e34f409d3\"><span data-lake-id=\"u86a7a672\" id=\"u86a7a672\">‘resize’. The window is resized and the contents scaled to fit the remaining space.</span></p><p data-lake-id=\"190a4b8c45eb7fd9cf3b8ea3142012cd\" id=\"190a4b8c45eb7fd9cf3b8ea3142012cd\"><span data-lake-id=\"u623d0c4d\" id=\"u623d0c4d\">‘below_target’. The window pans so that the current target TextInput widget requesting the keyboard is presented just above the soft keyboard.</span></p><p data-lake-id=\"227e5c2f271e05e2b727277744d5ed24\" id=\"227e5c2f271e05e2b727277744d5ed24\"><span data-lake-id=\"ud2978919\" id=\"ud2978919\">'scale'参数在官网未找到相关说明</span></p><p data-lake-id=\"c5b2ec6572409a3e33fb291728c0bacd\" id=\"c5b2ec6572409a3e33fb291728c0bacd\"><span data-lake-id=\"u8dd021bf\" id=\"u8dd021bf\">'below_target'需要kivy1.9.1版本或以上</span></p><p data-lake-id=\"2b44e7f024c91d0a7e5e292249613147\" id=\"2b44e7f024c91d0a7e5e292249613147\"><span data-lake-id=\"uf40d332d\" id=\"uf40d332d\">例如：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%60from%20kivy.core.window%20import%20WindowBase%5CnWindowBase.softinput_mode%3D'below_target'%60%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224u1wV%22%7D\"></card><p data-lake-id=\"f4e66a09c602c3775d6cade6797d5b6b\" id=\"f4e66a09c602c3775d6cade6797d5b6b\"><span data-lake-id=\"u6444673f\" id=\"u6444673f\">softinput_mode默认为‘’</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:05:05.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:14.000Z",
    "updated_at": "2022-12-11T13:05:05.000Z",
    "published_at": "2022-12-11T13:05:05.000Z",
    "first_published_at": "2022-12-09T12:02:13.718Z",
    "word_count": 259,
    "cover": null,
    "description": "layout: posttitle: kivy textinput弹出输入框处理date: 2017-06-05 16:25:06categories: kivytags:kivy在kivy打包Android程序后运行，点击输入框会自动弹出输入法将自己的控件遮挡住，在群友（校长巨佬）的指导下找...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945015,
    "slug": "727d2f2b278b6fbbb276becac33ce47f",
    "title": "2017-06-05-Centos7开机启动自己的脚本",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: \"Centos7开机启动自己的脚本\"<br />date: 2017-06-05 16:25:06<br />categories: Centos<br />tags:\n\n- centos\n- shell\n\n---\n\n请尊重分享成果，转载请注明出处，本文来自这名字取得好,原文链接：<br />[http://www.jianshu.com/p/8a5d968afc7f](http://www.jianshu.com/p/8a5d968afc7f)<br />环境：<br />Centos 7.2 64位<br />Python 2.7.12 64位<br />在百度上可以找到好几种Linux开机启动各种服务的方法,在这里我写的是我找到的感觉比较适合自己这样记性比较差的使用的，新建一个脚本放在自己能找到的目录,只用在系统的目录下配置一次,以后就在自己新建的脚本里面写启动服务的命令就好。\n\n1. 自己新建一个脚本,如centnet-service.sh\n\n---\n\n经过后面的几个步骤后,这个脚本在开机的时候会执行,在这个脚本里面可以写你开机的时候想执行的命令,如启动python等服务\n\n2. 在脚本中输入启动服务的命令,如(开机启动python 服务端):\n\n---\n\n```\n#!/bin/bash\npython /home/usr/bin/server.py\n```\nor\n```\n#!/bin/bash\nexport JDK_HOME=/home/java/jdk1.8.0_91\nexport JAVA_HOME=/home/java/jdk1.8.0_91\n/home/tomcat/apache-tomcat-8.0.36/bin/startup.sh\n```\n\n3. 执行如下命令,将该脚本标记为可执行文件(添加可执行的权限)\n\n---\n\n```\nchmod +x /home/centnet/centnet-service.sh\n```\n\n4. 执行如下命令将/etc/rc.d/rc.local文标记为可执行文件\n\n---\n\n在centos7中,/etc/rc.d/rc.local文件的权限被降低了,开机的时候执行在自己的脚本是不能起动一些服务的,执行下面的命令可以文件标记为可执行的文件\n```\nchmod +x /etc/rc.d/rc.local\n```\n\n5. 打开/etc/rc.d/rc.local文件,在最后面添加如下脚本\n\n---\n\n```\n/home/centnet/centnet-service.sh\n```\n这样,centnet-service.sh这个脚本在开机的时候就会被执行了,以后再这里面写启动服务的命令就可以了.\n",
    "body_draft": "---\n\nlayout: post<br />title: \"Centos7开机启动自己的脚本\"<br />date: 2017-06-05 16:25:06<br />categories: Centos<br />tags:\n\n- centos\n- shell\n\n---\n\n请尊重分享成果，转载请注明出处，本文来自这名字取得好,原文链接：<br />[http://www.jianshu.com/p/8a5d968afc7f](http://www.jianshu.com/p/8a5d968afc7f)<br />环境：<br />Centos 7.2 64位<br />Python 2.7.12 64位<br />在百度上可以找到好几种Linux开机启动各种服务的方法,在这里我写的是我找到的感觉比较适合自己这样记性比较差的使用的，新建一个脚本放在自己能找到的目录,只用在系统的目录下配置一次,以后就在自己新建的脚本里面写启动服务的命令就好。\n\n1. 自己新建一个脚本,如centnet-service.sh\n\n---\n\n经过后面的几个步骤后,这个脚本在开机的时候会执行,在这个脚本里面可以写你开机的时候想执行的命令,如启动python等服务\n\n2. 在脚本中输入启动服务的命令,如(开机启动python 服务端):\n\n---\n\n```\n#!/bin/bash\npython /home/usr/bin/server.py\n```\nor\n```\n#!/bin/bash\nexport JDK_HOME=/home/java/jdk1.8.0_91\nexport JAVA_HOME=/home/java/jdk1.8.0_91\n/home/tomcat/apache-tomcat-8.0.36/bin/startup.sh\n```\n\n3. 执行如下命令,将该脚本标记为可执行文件(添加可执行的权限)\n\n---\n\n```\nchmod +x /home/centnet/centnet-service.sh\n```\n\n4. 执行如下命令将/etc/rc.d/rc.local文标记为可执行文件\n\n---\n\n在centos7中,/etc/rc.d/rc.local文件的权限被降低了,开机的时候执行在自己的脚本是不能起动一些服务的,执行下面的命令可以文件标记为可执行的文件\n```\nchmod +x /etc/rc.d/rc.local\n```\n\n5. 打开/etc/rc.d/rc.local文件,在最后面添加如下脚本\n\n---\n\n```\n/home/centnet/centnet-service.sh\n```\n这样,centnet-service.sh这个脚本在开机的时候就会被执行了,以后再这里面写启动服务的命令就可以了.\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"Edro6\" class=\"ne-hr\"><p id=\"8b0fa57fd79015dcb30fed37f3c4897b\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"71150af48b57c2a3690dba1627d51c36\" class=\"ne-p\"><span class=\"ne-text\">title: &quot;Centos7开机启动自己的脚本&quot;</span></p><p id=\"77bbb74615d3c66eac0f4a22721336db\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-06-05 16:25:06</span></p><p id=\"05aac97dd07d8ed85ebd99098ed3374a\" class=\"ne-p\"><span class=\"ne-text\">categories: Centos</span></p><p id=\"7505ecba4ed561f4cf84ddd0144efb1c\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"a906bbcf650f7e6943cf33ee3d186573\"><span class=\"ne-text\">centos</span></li><li id=\"4a5a43d072918f7ae168169ee26eb24c\"><span class=\"ne-text\">shell</span></li></ul><hr id=\"TfzNe\" class=\"ne-hr\"><p id=\"59ba1e86f6ba719984ceae55f0073e95\" class=\"ne-p\"><span class=\"ne-text\">请尊重分享成果，转载请注明出处，本文来自这名字取得好,原文链接：</span></p><p id=\"6fef9023f0decfe0c8748a81243b5458\" class=\"ne-p\"><a href=\"http://www.jianshu.com/p/8a5d968afc7f\" data-href=\"http://www.jianshu.com/p/8a5d968afc7f\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">http://www.jianshu.com/p/8a5d968afc7f</span></a></p><p id=\"16b7693d65bb0054b9268241ccdbe769\" class=\"ne-p\"><span class=\"ne-text\">环境：</span></p><p id=\"790d4ec52f6e1398c5a3e9e92dcd2c1b\" class=\"ne-p\"><span class=\"ne-text\">Centos 7.2 64位</span></p><p id=\"f1df8840c3ac0fddd4f6512537939ec6\" class=\"ne-p\"><span class=\"ne-text\">Python 2.7.12 64位</span></p><p id=\"d4656168022194c51b7ffdd2b80690ce\" class=\"ne-p\"><span class=\"ne-text\">在百度上可以找到好几种Linux开机启动各种服务的方法,在这里我写的是我找到的感觉比较适合自己这样记性比较差的使用的，新建一个脚本放在自己能找到的目录,只用在系统的目录下配置一次,以后就在自己新建的脚本里面写启动服务的命令就好。</span></p><ol class=\"ne-ol\"><li id=\"415ef9d0f232c9660ae1113e3e9df7fa\"><span class=\"ne-text\">自己新建一个脚本,如centnet-service.sh</span></li></ol><hr id=\"TWoCQ\" class=\"ne-hr\"><p id=\"fff7df22f319f954ab406663a19bed21\" class=\"ne-p\"><span class=\"ne-text\">经过后面的几个步骤后,这个脚本在开机的时候会执行,在这个脚本里面可以写你开机的时候想执行的命令,如启动python等服务</span></p><ol start=\"2\" class=\"ne-ol\"><li id=\"45546e87027ce0fb6e0f4e82a4d40b0d\"><span class=\"ne-text\">在脚本中输入启动服务的命令,如(开机启动python 服务端):</span></li></ol><hr id=\"CpLAW\" class=\"ne-hr\"><pre data-language=\"plain\" id=\"f2lpH\" class=\"ne-codeblock language-plain\">#!/bin/bash\npython /home/usr/bin/server.py</pre><p id=\"f1f7c2e6ecd765e5a30a3c43de1e789e\" class=\"ne-p\"><span class=\"ne-text\">or</span></p><pre data-language=\"plain\" id=\"ob1W5\" class=\"ne-codeblock language-plain\">#!/bin/bash\nexport JDK_HOME=/home/java/jdk1.8.0_91\nexport JAVA_HOME=/home/java/jdk1.8.0_91\n/home/tomcat/apache-tomcat-8.0.36/bin/startup.sh</pre><ol start=\"3\" class=\"ne-ol\"><li id=\"677dfc90ca6e41ee2d87b1cb83abacf3\"><span class=\"ne-text\">执行如下命令,将该脚本标记为可执行文件(添加可执行的权限)</span></li></ol><hr id=\"DA7lP\" class=\"ne-hr\"><pre data-language=\"plain\" id=\"JQlKK\" class=\"ne-codeblock language-plain\">chmod +x /home/centnet/centnet-service.sh</pre><ol start=\"4\" class=\"ne-ol\"><li id=\"31a949acd7600a6ddabff5b530070b09\"><span class=\"ne-text\">执行如下命令将/etc/rc.d/rc.local文标记为可执行文件</span></li></ol><hr id=\"FRFMr\" class=\"ne-hr\"><p id=\"732d930ff638e4da2a8dec027da71bb1\" class=\"ne-p\"><span class=\"ne-text\">在centos7中,/etc/rc.d/rc.local文件的权限被降低了,开机的时候执行在自己的脚本是不能起动一些服务的,执行下面的命令可以文件标记为可执行的文件</span></p><pre data-language=\"plain\" id=\"CI7c0\" class=\"ne-codeblock language-plain\">chmod +x /etc/rc.d/rc.local</pre><ol start=\"5\" class=\"ne-ol\"><li id=\"2a7cf097c1094098d3cfbdc0108c5a8a\"><span class=\"ne-text\">打开/etc/rc.d/rc.local文件,在最后面添加如下脚本</span></li></ol><hr id=\"muqE7\" class=\"ne-hr\"><pre data-language=\"plain\" id=\"CleoH\" class=\"ne-codeblock language-plain\">/home/centnet/centnet-service.sh</pre><p id=\"c8927b4aaf7ae845fee4b21bb66d6dbc\" class=\"ne-p\"><span class=\"ne-text\">这样,centnet-service.sh这个脚本在开机的时候就会被执行了,以后再这里面写启动服务的命令就可以了.</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Edro6%22%7D\"></card><p data-lake-id=\"8b0fa57fd79015dcb30fed37f3c4897b\" id=\"8b0fa57fd79015dcb30fed37f3c4897b\"><span data-lake-id=\"uc6a9e45a\" id=\"uc6a9e45a\">layout: post</span></p><p data-lake-id=\"71150af48b57c2a3690dba1627d51c36\" id=\"71150af48b57c2a3690dba1627d51c36\"><span data-lake-id=\"u73878749\" id=\"u73878749\">title: &quot;Centos7开机启动自己的脚本&quot;</span></p><p data-lake-id=\"77bbb74615d3c66eac0f4a22721336db\" id=\"77bbb74615d3c66eac0f4a22721336db\"><span data-lake-id=\"u102ee753\" id=\"u102ee753\">date: 2017-06-05 16:25:06</span></p><p data-lake-id=\"05aac97dd07d8ed85ebd99098ed3374a\" id=\"05aac97dd07d8ed85ebd99098ed3374a\"><span data-lake-id=\"ub28b4afa\" id=\"ub28b4afa\">categories: Centos</span></p><p data-lake-id=\"7505ecba4ed561f4cf84ddd0144efb1c\" id=\"7505ecba4ed561f4cf84ddd0144efb1c\"><span data-lake-id=\"ua4465012\" id=\"ua4465012\">tags:</span></p><ul list=\"u508057cc\"><li fid=\"u42d11a84\" data-lake-id=\"a906bbcf650f7e6943cf33ee3d186573\" id=\"a906bbcf650f7e6943cf33ee3d186573\"><span data-lake-id=\"u44ebacae\" id=\"u44ebacae\">centos</span></li><li fid=\"u42d11a84\" data-lake-id=\"4a5a43d072918f7ae168169ee26eb24c\" id=\"4a5a43d072918f7ae168169ee26eb24c\"><span data-lake-id=\"u8e97ba14\" id=\"u8e97ba14\">shell</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22TfzNe%22%7D\"></card><p data-lake-id=\"59ba1e86f6ba719984ceae55f0073e95\" id=\"59ba1e86f6ba719984ceae55f0073e95\"><span data-lake-id=\"u637e66b3\" id=\"u637e66b3\">请尊重分享成果，转载请注明出处，本文来自这名字取得好,原文链接：</span></p><p data-lake-id=\"6fef9023f0decfe0c8748a81243b5458\" id=\"6fef9023f0decfe0c8748a81243b5458\"><a href=\"http://www.jianshu.com/p/8a5d968afc7f\" target=\"_blank\" data-lake-id=\"u3ef0821c\" id=\"u3ef0821c\"><span data-lake-id=\"u7f9a759c\" id=\"u7f9a759c\">http://www.jianshu.com/p/8a5d968afc7f</span></a></p><p data-lake-id=\"16b7693d65bb0054b9268241ccdbe769\" id=\"16b7693d65bb0054b9268241ccdbe769\"><span data-lake-id=\"u25343b3c\" id=\"u25343b3c\">环境：</span></p><p data-lake-id=\"790d4ec52f6e1398c5a3e9e92dcd2c1b\" id=\"790d4ec52f6e1398c5a3e9e92dcd2c1b\"><span data-lake-id=\"ud91234f4\" id=\"ud91234f4\">Centos 7.2 64位</span></p><p data-lake-id=\"f1df8840c3ac0fddd4f6512537939ec6\" id=\"f1df8840c3ac0fddd4f6512537939ec6\"><span data-lake-id=\"ue763119b\" id=\"ue763119b\">Python 2.7.12 64位</span></p><p data-lake-id=\"d4656168022194c51b7ffdd2b80690ce\" id=\"d4656168022194c51b7ffdd2b80690ce\"><span data-lake-id=\"u74cff000\" id=\"u74cff000\">在百度上可以找到好几种Linux开机启动各种服务的方法,在这里我写的是我找到的感觉比较适合自己这样记性比较差的使用的，新建一个脚本放在自己能找到的目录,只用在系统的目录下配置一次,以后就在自己新建的脚本里面写启动服务的命令就好。</span></p><ol list=\"u6e85da93\"><li fid=\"u3ba52963\" data-lake-id=\"415ef9d0f232c9660ae1113e3e9df7fa\" id=\"415ef9d0f232c9660ae1113e3e9df7fa\"><span data-lake-id=\"u843c531b\" id=\"u843c531b\">自己新建一个脚本,如centnet-service.sh</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22TWoCQ%22%7D\"></card><p data-lake-id=\"fff7df22f319f954ab406663a19bed21\" id=\"fff7df22f319f954ab406663a19bed21\"><span data-lake-id=\"ua7d83791\" id=\"ua7d83791\">经过后面的几个步骤后,这个脚本在开机的时候会执行,在这个脚本里面可以写你开机的时候想执行的命令,如启动python等服务</span></p><ol list=\"u221b25b7\" start=\"2\"><li fid=\"u5179aa7a\" data-lake-id=\"45546e87027ce0fb6e0f4e82a4d40b0d\" id=\"45546e87027ce0fb6e0f4e82a4d40b0d\"><span data-lake-id=\"u2957fa74\" id=\"u2957fa74\">在脚本中输入启动服务的命令,如(开机启动python 服务端):</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22CpLAW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23!%2Fbin%2Fbash%5Cnpython%20%2Fhome%2Fusr%2Fbin%2Fserver.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22f2lpH%22%7D\"></card><p data-lake-id=\"f1f7c2e6ecd765e5a30a3c43de1e789e\" id=\"f1f7c2e6ecd765e5a30a3c43de1e789e\"><span data-lake-id=\"u40bf90e0\" id=\"u40bf90e0\">or</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23!%2Fbin%2Fbash%5Cnexport%20JDK_HOME%3D%2Fhome%2Fjava%2Fjdk1.8.0_91%5Cnexport%20JAVA_HOME%3D%2Fhome%2Fjava%2Fjdk1.8.0_91%5Cn%2Fhome%2Ftomcat%2Fapache-tomcat-8.0.36%2Fbin%2Fstartup.sh%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ob1W5%22%7D\"></card><ol list=\"u6d48f408\" start=\"3\"><li fid=\"u33c87ac3\" data-lake-id=\"677dfc90ca6e41ee2d87b1cb83abacf3\" id=\"677dfc90ca6e41ee2d87b1cb83abacf3\"><span data-lake-id=\"uc56ccb9a\" id=\"uc56ccb9a\">执行如下命令,将该脚本标记为可执行文件(添加可执行的权限)</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22DA7lP%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22chmod%20%2Bx%20%2Fhome%2Fcentnet%2Fcentnet-service.sh%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JQlKK%22%7D\"></card><ol list=\"u222304fc\" start=\"4\"><li fid=\"uf479510a\" data-lake-id=\"31a949acd7600a6ddabff5b530070b09\" id=\"31a949acd7600a6ddabff5b530070b09\"><span data-lake-id=\"ub33eb5d9\" id=\"ub33eb5d9\">执行如下命令将/etc/rc.d/rc.local文标记为可执行文件</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22FRFMr%22%7D\"></card><p data-lake-id=\"732d930ff638e4da2a8dec027da71bb1\" id=\"732d930ff638e4da2a8dec027da71bb1\"><span data-lake-id=\"u1931bc5f\" id=\"u1931bc5f\">在centos7中,/etc/rc.d/rc.local文件的权限被降低了,开机的时候执行在自己的脚本是不能起动一些服务的,执行下面的命令可以文件标记为可执行的文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22chmod%20%2Bx%20%2Fetc%2Frc.d%2Frc.local%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CI7c0%22%7D\"></card><ol list=\"udb259512\" start=\"5\"><li fid=\"u6def3028\" data-lake-id=\"2a7cf097c1094098d3cfbdc0108c5a8a\" id=\"2a7cf097c1094098d3cfbdc0108c5a8a\"><span data-lake-id=\"uad309b66\" id=\"uad309b66\">打开/etc/rc.d/rc.local文件,在最后面添加如下脚本</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22muqE7%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%2Fhome%2Fcentnet%2Fcentnet-service.sh%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CleoH%22%7D\"></card><p data-lake-id=\"c8927b4aaf7ae845fee4b21bb66d6dbc\" id=\"c8927b4aaf7ae845fee4b21bb66d6dbc\"><span data-lake-id=\"u363da3a8\" id=\"u363da3a8\">这样,centnet-service.sh这个脚本在开机的时候就会被执行了,以后再这里面写启动服务的命令就可以了.</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Edro6%22%7D\"></card><p data-lake-id=\"8b0fa57fd79015dcb30fed37f3c4897b\" id=\"8b0fa57fd79015dcb30fed37f3c4897b\"><span data-lake-id=\"uc6a9e45a\" id=\"uc6a9e45a\">layout: post</span></p><p data-lake-id=\"71150af48b57c2a3690dba1627d51c36\" id=\"71150af48b57c2a3690dba1627d51c36\"><span data-lake-id=\"u73878749\" id=\"u73878749\">title: &quot;Centos7开机启动自己的脚本&quot;</span></p><p data-lake-id=\"77bbb74615d3c66eac0f4a22721336db\" id=\"77bbb74615d3c66eac0f4a22721336db\"><span data-lake-id=\"u102ee753\" id=\"u102ee753\">date: 2017-06-05 16:25:06</span></p><p data-lake-id=\"05aac97dd07d8ed85ebd99098ed3374a\" id=\"05aac97dd07d8ed85ebd99098ed3374a\"><span data-lake-id=\"ub28b4afa\" id=\"ub28b4afa\">categories: Centos</span></p><p data-lake-id=\"7505ecba4ed561f4cf84ddd0144efb1c\" id=\"7505ecba4ed561f4cf84ddd0144efb1c\"><span data-lake-id=\"ua4465012\" id=\"ua4465012\">tags:</span></p><ul list=\"u508057cc\"><li fid=\"u42d11a84\" data-lake-id=\"a906bbcf650f7e6943cf33ee3d186573\" id=\"a906bbcf650f7e6943cf33ee3d186573\"><span data-lake-id=\"u44ebacae\" id=\"u44ebacae\">centos</span></li><li fid=\"u42d11a84\" data-lake-id=\"4a5a43d072918f7ae168169ee26eb24c\" id=\"4a5a43d072918f7ae168169ee26eb24c\"><span data-lake-id=\"u8e97ba14\" id=\"u8e97ba14\">shell</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22TfzNe%22%7D\"></card><p data-lake-id=\"59ba1e86f6ba719984ceae55f0073e95\" id=\"59ba1e86f6ba719984ceae55f0073e95\"><span data-lake-id=\"u637e66b3\" id=\"u637e66b3\">请尊重分享成果，转载请注明出处，本文来自这名字取得好,原文链接：</span></p><p data-lake-id=\"6fef9023f0decfe0c8748a81243b5458\" id=\"6fef9023f0decfe0c8748a81243b5458\"><a href=\"http://www.jianshu.com/p/8a5d968afc7f\" target=\"_blank\" data-lake-id=\"u3ef0821c\" id=\"u3ef0821c\"><span data-lake-id=\"u7f9a759c\" id=\"u7f9a759c\">http://www.jianshu.com/p/8a5d968afc7f</span></a></p><p data-lake-id=\"16b7693d65bb0054b9268241ccdbe769\" id=\"16b7693d65bb0054b9268241ccdbe769\"><span data-lake-id=\"u25343b3c\" id=\"u25343b3c\">环境：</span></p><p data-lake-id=\"790d4ec52f6e1398c5a3e9e92dcd2c1b\" id=\"790d4ec52f6e1398c5a3e9e92dcd2c1b\"><span data-lake-id=\"ud91234f4\" id=\"ud91234f4\">Centos 7.2 64位</span></p><p data-lake-id=\"f1df8840c3ac0fddd4f6512537939ec6\" id=\"f1df8840c3ac0fddd4f6512537939ec6\"><span data-lake-id=\"ue763119b\" id=\"ue763119b\">Python 2.7.12 64位</span></p><p data-lake-id=\"d4656168022194c51b7ffdd2b80690ce\" id=\"d4656168022194c51b7ffdd2b80690ce\"><span data-lake-id=\"u74cff000\" id=\"u74cff000\">在百度上可以找到好几种Linux开机启动各种服务的方法,在这里我写的是我找到的感觉比较适合自己这样记性比较差的使用的，新建一个脚本放在自己能找到的目录,只用在系统的目录下配置一次,以后就在自己新建的脚本里面写启动服务的命令就好。</span></p><ol list=\"u6e85da93\"><li fid=\"u3ba52963\" data-lake-id=\"415ef9d0f232c9660ae1113e3e9df7fa\" id=\"415ef9d0f232c9660ae1113e3e9df7fa\"><span data-lake-id=\"u843c531b\" id=\"u843c531b\">自己新建一个脚本,如centnet-service.sh</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22TWoCQ%22%7D\"></card><p data-lake-id=\"fff7df22f319f954ab406663a19bed21\" id=\"fff7df22f319f954ab406663a19bed21\"><span data-lake-id=\"ua7d83791\" id=\"ua7d83791\">经过后面的几个步骤后,这个脚本在开机的时候会执行,在这个脚本里面可以写你开机的时候想执行的命令,如启动python等服务</span></p><ol list=\"u221b25b7\" start=\"2\"><li fid=\"u5179aa7a\" data-lake-id=\"45546e87027ce0fb6e0f4e82a4d40b0d\" id=\"45546e87027ce0fb6e0f4e82a4d40b0d\"><span data-lake-id=\"u2957fa74\" id=\"u2957fa74\">在脚本中输入启动服务的命令,如(开机启动python 服务端):</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22CpLAW%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23!%2Fbin%2Fbash%5Cnpython%20%2Fhome%2Fusr%2Fbin%2Fserver.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22f2lpH%22%7D\"></card><p data-lake-id=\"f1f7c2e6ecd765e5a30a3c43de1e789e\" id=\"f1f7c2e6ecd765e5a30a3c43de1e789e\"><span data-lake-id=\"u40bf90e0\" id=\"u40bf90e0\">or</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%23!%2Fbin%2Fbash%5Cnexport%20JDK_HOME%3D%2Fhome%2Fjava%2Fjdk1.8.0_91%5Cnexport%20JAVA_HOME%3D%2Fhome%2Fjava%2Fjdk1.8.0_91%5Cn%2Fhome%2Ftomcat%2Fapache-tomcat-8.0.36%2Fbin%2Fstartup.sh%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ob1W5%22%7D\"></card><ol list=\"u6d48f408\" start=\"3\"><li fid=\"u33c87ac3\" data-lake-id=\"677dfc90ca6e41ee2d87b1cb83abacf3\" id=\"677dfc90ca6e41ee2d87b1cb83abacf3\"><span data-lake-id=\"uc56ccb9a\" id=\"uc56ccb9a\">执行如下命令,将该脚本标记为可执行文件(添加可执行的权限)</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22DA7lP%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22chmod%20%2Bx%20%2Fhome%2Fcentnet%2Fcentnet-service.sh%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JQlKK%22%7D\"></card><ol list=\"u222304fc\" start=\"4\"><li fid=\"uf479510a\" data-lake-id=\"31a949acd7600a6ddabff5b530070b09\" id=\"31a949acd7600a6ddabff5b530070b09\"><span data-lake-id=\"ub33eb5d9\" id=\"ub33eb5d9\">执行如下命令将/etc/rc.d/rc.local文标记为可执行文件</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22FRFMr%22%7D\"></card><p data-lake-id=\"732d930ff638e4da2a8dec027da71bb1\" id=\"732d930ff638e4da2a8dec027da71bb1\"><span data-lake-id=\"u1931bc5f\" id=\"u1931bc5f\">在centos7中,/etc/rc.d/rc.local文件的权限被降低了,开机的时候执行在自己的脚本是不能起动一些服务的,执行下面的命令可以文件标记为可执行的文件</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22chmod%20%2Bx%20%2Fetc%2Frc.d%2Frc.local%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CI7c0%22%7D\"></card><ol list=\"udb259512\" start=\"5\"><li fid=\"u6def3028\" data-lake-id=\"2a7cf097c1094098d3cfbdc0108c5a8a\" id=\"2a7cf097c1094098d3cfbdc0108c5a8a\"><span data-lake-id=\"uad309b66\" id=\"uad309b66\">打开/etc/rc.d/rc.local文件,在最后面添加如下脚本</span></li></ol><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22muqE7%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%2Fhome%2Fcentnet%2Fcentnet-service.sh%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22CleoH%22%7D\"></card><p data-lake-id=\"c8927b4aaf7ae845fee4b21bb66d6dbc\" id=\"c8927b4aaf7ae845fee4b21bb66d6dbc\"><span data-lake-id=\"u363da3a8\" id=\"u363da3a8\">这样,centnet-service.sh这个脚本在开机的时候就会被执行了,以后再这里面写启动服务的命令就可以了.</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:05:23.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:13.000Z",
    "updated_at": "2022-12-11T13:05:23.000Z",
    "published_at": "2022-12-11T13:05:23.000Z",
    "first_published_at": "2022-12-09T12:02:12.494Z",
    "word_count": 443,
    "cover": null,
    "description": "layout: posttitle: \"Centos7开机启动自己的脚本\"date: 2017-06-05 16:25:06categories: Centostags:centosshell请尊重分享成果，转载请注明出处，本文来自这名字取得好,原文链接：http://www.jianshu....",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  },
  {
    "id": 108945014,
    "slug": "f9d923c18b4170b6b1cf8a2caca9358d",
    "title": "2017-06-05-Centos-安装twisted",
    "book_id": 35434856,
    "book": {
      "id": 35434856,
      "type": "Book",
      "slug": "blog",
      "name": "博客",
      "user_id": 34625589,
      "description": "",
      "creator_id": 34625589,
      "public": 0,
      "items_count": 19,
      "likes_count": 0,
      "watches_count": 0,
      "content_updated_at": "2022-12-13T15:02:45.735Z",
      "updated_at": "2022-12-13T15:02:46.000Z",
      "created_at": "2022-12-08T01:42:22.000Z",
      "namespace": "zyqzyq08/blog",
      "user": {
        "id": 34625589,
        "type": "User",
        "login": "zyqzyq08",
        "name": "哈哈哈哈",
        "description": null,
        "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
        "books_count": 3,
        "public_books_count": 0,
        "followers_count": 0,
        "following_count": 0,
        "created_at": "2022-12-06T08:48:01.000Z",
        "updated_at": "2022-12-13T14:18:13.000Z",
        "_serializer": "v2.user"
      },
      "_serializer": "v2.book"
    },
    "user_id": 34625589,
    "creator": {
      "id": 34625589,
      "type": "User",
      "login": "zyqzyq08",
      "name": "哈哈哈哈",
      "description": null,
      "avatar_url": "https://cdn.nlark.com/yuque/0/2022/jpeg/anonymous/1670316435349-8f53f03c-291d-471f-bdef-3433f7794e05.jpeg",
      "books_count": 3,
      "public_books_count": 0,
      "followers_count": 0,
      "following_count": 0,
      "created_at": "2022-12-06T08:48:01.000Z",
      "updated_at": "2022-12-13T14:18:13.000Z",
      "_serializer": "v2.user"
    },
    "format": "lake",
    "body": "---\n\nlayout: post<br />title: \"Centos 安装twisted\"<br />date: 2017-06-05 16:25:06<br />categories: Centos<br />tags:\n\n- centos\n- twisted\n\n---\n\n请尊重分享成果，转载请注明出处，本文来自Alex_Xia，Building_Home,原文链接：<br />[http://www.cnblogs.com/alex-xia/p/6062741.html](http:_www.cnblogs.com_alex-xia_p_6062741)<br />[http://www.centoscn.com/image-text/install/2015/0129/4584.html](http:_www.centoscn.com_image-text_install_2015_0129_4584)\n<a name=\"pkpHz\"></a>\n## 环境：\n腾讯云Centos 7.2 64位<br />Python 2.7.12 64位\n\n---\n\n<a name=\"FOnJm\"></a>\n## 一、更新python\n```\n目前CentOS7.2自带的python版本是python2.7.5。由于yum这个软件需要系统自带的python工作。\n如果冒然用自己安装的python替换掉系统自带的，可能造成yum不工作。\n网上教程提示先安装 readline-devel ，openssl-devel安装包，我安装后发现电脑自带了，如未安装可以运行以下命令安装\n```\n```\nyum install -y readline-devel\nyum install -y openssl-devel\n```\n下载python并解压\n```\ncd /tmp\nwget https://www.python.org/ftp/python/2.7.12/Python-2.7.12.tar.xz\ntar -xJvf Python-2.7.12.tar.xz\n```\n编译\n```\ncd Python-2.7.12/\n./configure --prefix=/usr/local/python2.7\nmake\nmake install\n```\n链接\n```\nln -s /usr/local/python2.7/bin/python2.7 /usr/local/bin/python\n```\n由于系统自带的python路径是/usr/bin/python。PATH中，/usr/local/bin比/usr/bin靠前，所以当你输入python，系统会自动启动你安装的python2.7.12。\n```\necho $PATH\n/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n```\n<a name=\"arhVL\"></a>\n## 二、安装easy_install,pip\nCentOS 安装easy_install的方法：\n```\nwget -q http://peak.telecommunity.com/dist/ez_setup.py\npython ez_setup.py\n```\nCentOS安装python包管理安装工具pip的方法如下：<br />注意：wget获取https的时候要加上：--no-check-certificate\n```\nwget --no-check-certificate https://github.com/pypa/pip/archive/1.5.5.tar.gz\ntar zvxf 1.5.5.tar.gz    #解压文件\ncd pip-1.5.5/\npython setup.py install\n```\n<a name=\"ub4Hn\"></a>\n## 三、安装twisted\n```\npip install twisted\n```\n报错：no module named bz2<br />解决办法：\n```\nyum install bzip2*\n```\n然后重新编译python,重新安装easy_install,pip。<br />测试：\n```\nPython 2.7.12 (default, Jun  4 2017, 11:19:07)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import twisted\n>>>\n```\n成功。\n",
    "body_draft": "---\n\nlayout: post<br />title: \"Centos 安装twisted\"<br />date: 2017-06-05 16:25:06<br />categories: Centos<br />tags:\n\n- centos\n- twisted\n\n---\n\n请尊重分享成果，转载请注明出处，本文来自Alex_Xia，Building_Home,原文链接：<br />[http://www.cnblogs.com/alex-xia/p/6062741.html](http:_www.cnblogs.com_alex-xia_p_6062741)<br />[http://www.centoscn.com/image-text/install/2015/0129/4584.html](http:_www.centoscn.com_image-text_install_2015_0129_4584)\n<a name=\"pkpHz\"></a>\n## 环境：\n腾讯云Centos 7.2 64位<br />Python 2.7.12 64位\n\n---\n\n<a name=\"FOnJm\"></a>\n## 一、更新python\n```\n目前CentOS7.2自带的python版本是python2.7.5。由于yum这个软件需要系统自带的python工作。\n如果冒然用自己安装的python替换掉系统自带的，可能造成yum不工作。\n网上教程提示先安装 readline-devel ，openssl-devel安装包，我安装后发现电脑自带了，如未安装可以运行以下命令安装\n```\n```\nyum install -y readline-devel\nyum install -y openssl-devel\n```\n下载python并解压\n```\ncd /tmp\nwget https://www.python.org/ftp/python/2.7.12/Python-2.7.12.tar.xz\ntar -xJvf Python-2.7.12.tar.xz\n```\n编译\n```\ncd Python-2.7.12/\n./configure --prefix=/usr/local/python2.7\nmake\nmake install\n```\n链接\n```\nln -s /usr/local/python2.7/bin/python2.7 /usr/local/bin/python\n```\n由于系统自带的python路径是/usr/bin/python。PATH中，/usr/local/bin比/usr/bin靠前，所以当你输入python，系统会自动启动你安装的python2.7.12。\n```\necho $PATH\n/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin\n```\n<a name=\"arhVL\"></a>\n## 二、安装easy_install,pip\nCentOS 安装easy_install的方法：\n```\nwget -q http://peak.telecommunity.com/dist/ez_setup.py\npython ez_setup.py\n```\nCentOS安装python包管理安装工具pip的方法如下：<br />注意：wget获取https的时候要加上：--no-check-certificate\n```\nwget --no-check-certificate https://github.com/pypa/pip/archive/1.5.5.tar.gz\ntar zvxf 1.5.5.tar.gz    #解压文件\ncd pip-1.5.5/\npython setup.py install\n```\n<a name=\"ub4Hn\"></a>\n## 三、安装twisted\n```\npip install twisted\n```\n报错：no module named bz2<br />解决办法：\n```\nyum install bzip2*\n```\n然后重新编译python,重新安装easy_install,pip。<br />测试：\n```\nPython 2.7.12 (default, Jun  4 2017, 11:19:07)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2\nType \"help\", \"copyright\", \"credits\" or \"license\" for more information.\n>>> import twisted\n>>>\n```\n成功。\n",
    "body_html": "<!doctype html><div class=\"lake-content\" typography=\"classic\"><hr id=\"Efbs2\" class=\"ne-hr\"><p id=\"d322b4a01b9b10d78880052e1679e8a1\" class=\"ne-p\"><span class=\"ne-text\">layout: post</span></p><p id=\"019a1bc1f5cf68bc5c60070a38368fb9\" class=\"ne-p\"><span class=\"ne-text\">title: &quot;Centos 安装twisted&quot;</span></p><p id=\"eec901a3c8fe77a7839fb90e3a7efd0c\" class=\"ne-p\"><span class=\"ne-text\">date: 2017-06-05 16:25:06</span></p><p id=\"b065027e9946019a5f3c26acca0f51b2\" class=\"ne-p\"><span class=\"ne-text\">categories: Centos</span></p><p id=\"6c0ebcf2c3fa4424fdc3d48df1bff33e\" class=\"ne-p\"><span class=\"ne-text\">tags:</span></p><ul class=\"ne-ul\"><li id=\"580f8f7ae8d8af0d7a997e93f335f4ab\"><span class=\"ne-text\">centos</span></li><li id=\"be3bf0130b1ba5be712954f5f2d8d080\"><span class=\"ne-text\">twisted</span></li></ul><hr id=\"kaVex\" class=\"ne-hr\"><p id=\"ef01530e8f11db56cd166f4440c66d5f\" class=\"ne-p\"><span class=\"ne-text\">请尊重分享成果，转载请注明出处，本文来自Alex_Xia，Building_Home,原文链接：</span></p><p id=\"e2a10360846210b599a565bb657ce2c5\" class=\"ne-p\"><a href=\"http:_www.cnblogs.com_alex-xia_p_6062741\" data-href=\"http:_www.cnblogs.com_alex-xia_p_6062741\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">http://www.cnblogs.com/alex-xia/p/6062741.html</span></a></p><p id=\"67af40934cbee73b36cf6795ab9b83bb\" class=\"ne-p\"><a href=\"http:_www.centoscn.com_image-text_install_2015_0129_4584\" data-href=\"http:_www.centoscn.com_image-text_install_2015_0129_4584\" target=\"_blank\" class=\"ne-link\"><span class=\"ne-text\">http://www.centoscn.com/image-text/install/2015/0129/4584.html</span></a></p><h2 id=\"pkpHz\"><span class=\"ne-text\">环境：</span></h2><p id=\"ea85bf45b3a63fc347903c7517707f10\" class=\"ne-p\"><span class=\"ne-text\">腾讯云Centos 7.2 64位</span></p><p id=\"87ab8288b39b3781bccedbeabdf2ee86\" class=\"ne-p\"><span class=\"ne-text\">Python 2.7.12 64位</span></p><hr id=\"M3x8V\" class=\"ne-hr\"><h2 id=\"FOnJm\"><span class=\"ne-text\">一、更新python</span></h2><pre data-language=\"plain\" id=\"JEE9t\" class=\"ne-codeblock language-plain\">目前CentOS7.2自带的python版本是python2.7.5。由于yum这个软件需要系统自带的python工作。\n如果冒然用自己安装的python替换掉系统自带的，可能造成yum不工作。\n网上教程提示先安装 readline-devel ，openssl-devel安装包，我安装后发现电脑自带了，如未安装可以运行以下命令安装</pre><pre data-language=\"plain\" id=\"FNljP\" class=\"ne-codeblock language-plain\">yum install -y readline-devel\nyum install -y openssl-devel</pre><p id=\"9d25e03e7203e1b7a1ff0b6fc03a8b1f\" class=\"ne-p\"><span class=\"ne-text\">下载python并解压</span></p><pre data-language=\"plain\" id=\"DZZus\" class=\"ne-codeblock language-plain\">cd /tmp\nwget https://www.python.org/ftp/python/2.7.12/Python-2.7.12.tar.xz\ntar -xJvf Python-2.7.12.tar.xz</pre><p id=\"0c86fb02f96695c33101bee1984e0590\" class=\"ne-p\"><span class=\"ne-text\">编译</span></p><pre data-language=\"plain\" id=\"4bY4V\" class=\"ne-codeblock language-plain\">cd Python-2.7.12/\n./configure --prefix=/usr/local/python2.7\nmake\nmake install</pre><p id=\"ae06f6fdae826af9cf77e971758e47ee\" class=\"ne-p\"><span class=\"ne-text\">链接</span></p><pre data-language=\"plain\" id=\"lD0Sr\" class=\"ne-codeblock language-plain\">ln -s /usr/local/python2.7/bin/python2.7 /usr/local/bin/python</pre><p id=\"fd1de91127bbffaa7990074920873b8f\" class=\"ne-p\"><span class=\"ne-text\">由于系统自带的python路径是/usr/bin/python。PATH中，/usr/local/bin比/usr/bin靠前，所以当你输入python，系统会自动启动你安装的python2.7.12。</span></p><pre data-language=\"plain\" id=\"wUV13\" class=\"ne-codeblock language-plain\">echo $PATH\n/usr/lib64/qt-3.3/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</pre><h2 id=\"arhVL\"><span class=\"ne-text\">二、安装easy_install,pip</span></h2><p id=\"064d4ea9199b7ef1495e07ac295703e3\" class=\"ne-p\"><span class=\"ne-text\">CentOS 安装easy_install的方法：</span></p><pre data-language=\"plain\" id=\"hFwGh\" class=\"ne-codeblock language-plain\">wget -q http://peak.telecommunity.com/dist/ez_setup.py\npython ez_setup.py</pre><p id=\"e998aa00047cf99d781197477e05b6d7\" class=\"ne-p\"><span class=\"ne-text\">CentOS安装python包管理安装工具pip的方法如下：</span></p><p id=\"de0d966c2b1ec2197e9f101d2c8a345a\" class=\"ne-p\"><span class=\"ne-text\">注意：wget获取https的时候要加上：--no-check-certificate</span></p><pre data-language=\"plain\" id=\"2Ihm1\" class=\"ne-codeblock language-plain\">wget --no-check-certificate https://github.com/pypa/pip/archive/1.5.5.tar.gz\ntar zvxf 1.5.5.tar.gz    #解压文件\ncd pip-1.5.5/\npython setup.py install</pre><h2 id=\"ub4Hn\"><span class=\"ne-text\">三、安装twisted</span></h2><pre data-language=\"plain\" id=\"Ei4D2\" class=\"ne-codeblock language-plain\">pip install twisted</pre><p id=\"471b7879174570cba92f344eacd821ac\" class=\"ne-p\"><span class=\"ne-text\">报错：no module named bz2</span></p><p id=\"c9fd99f970e253a44e3312dd00639695\" class=\"ne-p\"><span class=\"ne-text\">解决办法：</span></p><pre data-language=\"plain\" id=\"dD9EP\" class=\"ne-codeblock language-plain\">yum install bzip2*</pre><p id=\"d253d3d8d27d32b376d36ff6461d9314\" class=\"ne-p\"><span class=\"ne-text\">然后重新编译python,重新安装easy_install,pip。</span></p><p id=\"12ef2eada7c02ad6a437e27c2143be14\" class=\"ne-p\"><span class=\"ne-text\">测试：</span></p><pre data-language=\"plain\" id=\"ipGTF\" class=\"ne-codeblock language-plain\">Python 2.7.12 (default, Jun  4 2017, 11:19:07)\n[GCC 4.8.5 20150623 (Red Hat 4.8.5-11)] on linux2\nType &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.\n&gt;&gt;&gt; import twisted\n&gt;&gt;&gt;</pre><p id=\"9d38c851df29a2b8b016122c7ac22bed\" class=\"ne-p\"><span class=\"ne-text\">成功。</span></p></div>",
    "body_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Efbs2%22%7D\"></card><p data-lake-id=\"d322b4a01b9b10d78880052e1679e8a1\" id=\"d322b4a01b9b10d78880052e1679e8a1\"><span data-lake-id=\"ufcb9c7e1\" id=\"ufcb9c7e1\">layout: post</span></p><p data-lake-id=\"019a1bc1f5cf68bc5c60070a38368fb9\" id=\"019a1bc1f5cf68bc5c60070a38368fb9\"><span data-lake-id=\"u0927c9ed\" id=\"u0927c9ed\">title: &quot;Centos 安装twisted&quot;</span></p><p data-lake-id=\"eec901a3c8fe77a7839fb90e3a7efd0c\" id=\"eec901a3c8fe77a7839fb90e3a7efd0c\"><span data-lake-id=\"uf446ced4\" id=\"uf446ced4\">date: 2017-06-05 16:25:06</span></p><p data-lake-id=\"b065027e9946019a5f3c26acca0f51b2\" id=\"b065027e9946019a5f3c26acca0f51b2\"><span data-lake-id=\"ub0fa2c92\" id=\"ub0fa2c92\">categories: Centos</span></p><p data-lake-id=\"6c0ebcf2c3fa4424fdc3d48df1bff33e\" id=\"6c0ebcf2c3fa4424fdc3d48df1bff33e\"><span data-lake-id=\"ubcf9f8a4\" id=\"ubcf9f8a4\">tags:</span></p><ul list=\"u58272888\"><li fid=\"ude01bf94\" data-lake-id=\"580f8f7ae8d8af0d7a997e93f335f4ab\" id=\"580f8f7ae8d8af0d7a997e93f335f4ab\"><span data-lake-id=\"u618a11a9\" id=\"u618a11a9\">centos</span></li><li fid=\"ude01bf94\" data-lake-id=\"be3bf0130b1ba5be712954f5f2d8d080\" id=\"be3bf0130b1ba5be712954f5f2d8d080\"><span data-lake-id=\"u2b5d8f77\" id=\"u2b5d8f77\">twisted</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22kaVex%22%7D\"></card><p data-lake-id=\"ef01530e8f11db56cd166f4440c66d5f\" id=\"ef01530e8f11db56cd166f4440c66d5f\"><span data-lake-id=\"u30a139d2\" id=\"u30a139d2\">请尊重分享成果，转载请注明出处，本文来自Alex_Xia，Building_Home,原文链接：</span></p><p data-lake-id=\"e2a10360846210b599a565bb657ce2c5\" id=\"e2a10360846210b599a565bb657ce2c5\"><a href=\"http:_www.cnblogs.com_alex-xia_p_6062741\" target=\"_blank\" data-lake-id=\"ucfe90db9\" id=\"ucfe90db9\"><span data-lake-id=\"ub7f95bf7\" id=\"ub7f95bf7\">http://www.cnblogs.com/alex-xia/p/6062741.html</span></a></p><p data-lake-id=\"67af40934cbee73b36cf6795ab9b83bb\" id=\"67af40934cbee73b36cf6795ab9b83bb\"><a href=\"http:_www.centoscn.com_image-text_install_2015_0129_4584\" target=\"_blank\" data-lake-id=\"ufd0a5ac3\" id=\"ufd0a5ac3\"><span data-lake-id=\"uda11328d\" id=\"uda11328d\">http://www.centoscn.com/image-text/install/2015/0129/4584.html</span></a></p><h2 data-lake-id=\"pkpHz\" id=\"pkpHz\"><span data-lake-id=\"u13571e54\" id=\"u13571e54\">环境：</span></h2><p data-lake-id=\"ea85bf45b3a63fc347903c7517707f10\" id=\"ea85bf45b3a63fc347903c7517707f10\"><span data-lake-id=\"u1c7e5b60\" id=\"u1c7e5b60\">腾讯云Centos 7.2 64位</span></p><p data-lake-id=\"87ab8288b39b3781bccedbeabdf2ee86\" id=\"87ab8288b39b3781bccedbeabdf2ee86\"><span data-lake-id=\"ufad7de5d\" id=\"ufad7de5d\">Python 2.7.12 64位</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22M3x8V%22%7D\"></card><h2 data-lake-id=\"FOnJm\" id=\"FOnJm\"><span data-lake-id=\"u89d94795\" id=\"u89d94795\">一、更新python</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%9B%AE%E5%89%8DCentOS7.2%E8%87%AA%E5%B8%A6%E7%9A%84python%E7%89%88%E6%9C%AC%E6%98%AFpython2.7.5%E3%80%82%E7%94%B1%E4%BA%8Eyum%E8%BF%99%E4%B8%AA%E8%BD%AF%E4%BB%B6%E9%9C%80%E8%A6%81%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B8%A6%E7%9A%84python%E5%B7%A5%E4%BD%9C%E3%80%82%5Cn%E5%A6%82%E6%9E%9C%E5%86%92%E7%84%B6%E7%94%A8%E8%87%AA%E5%B7%B1%E5%AE%89%E8%A3%85%E7%9A%84python%E6%9B%BF%E6%8D%A2%E6%8E%89%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B8%A6%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E9%80%A0%E6%88%90yum%E4%B8%8D%E5%B7%A5%E4%BD%9C%E3%80%82%5Cn%E7%BD%91%E4%B8%8A%E6%95%99%E7%A8%8B%E6%8F%90%E7%A4%BA%E5%85%88%E5%AE%89%E8%A3%85%20readline-devel%20%EF%BC%8Copenssl-devel%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%8C%E6%88%91%E5%AE%89%E8%A3%85%E5%90%8E%E5%8F%91%E7%8E%B0%E7%94%B5%E8%84%91%E8%87%AA%E5%B8%A6%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9C%AA%E5%AE%89%E8%A3%85%E5%8F%AF%E4%BB%A5%E8%BF%90%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JEE9t%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22yum%20install%20-y%20readline-devel%5Cnyum%20install%20-y%20openssl-devel%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22FNljP%22%7D\"></card><p data-lake-id=\"9d25e03e7203e1b7a1ff0b6fc03a8b1f\" id=\"9d25e03e7203e1b7a1ff0b6fc03a8b1f\"><span data-lake-id=\"u6ba94705\" id=\"u6ba94705\">下载python并解压</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20%2Ftmp%5Cnwget%20https%3A%2F%2Fwww.python.org%2Fftp%2Fpython%2F2.7.12%2FPython-2.7.12.tar.xz%5Cntar%20-xJvf%20Python-2.7.12.tar.xz%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22DZZus%22%7D\"></card><p data-lake-id=\"0c86fb02f96695c33101bee1984e0590\" id=\"0c86fb02f96695c33101bee1984e0590\"><span data-lake-id=\"u7ed1dba9\" id=\"u7ed1dba9\">编译</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20Python-2.7.12%2F%5Cn.%2Fconfigure%20--prefix%3D%2Fusr%2Flocal%2Fpython2.7%5Cnmake%5Cnmake%20install%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224bY4V%22%7D\"></card><p data-lake-id=\"ae06f6fdae826af9cf77e971758e47ee\" id=\"ae06f6fdae826af9cf77e971758e47ee\"><span data-lake-id=\"u7b17eeed\" id=\"u7b17eeed\">链接</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22ln%20-s%20%2Fusr%2Flocal%2Fpython2.7%2Fbin%2Fpython2.7%20%2Fusr%2Flocal%2Fbin%2Fpython%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22lD0Sr%22%7D\"></card><p data-lake-id=\"fd1de91127bbffaa7990074920873b8f\" id=\"fd1de91127bbffaa7990074920873b8f\"><span data-lake-id=\"u02ec1681\" id=\"u02ec1681\">由于系统自带的python路径是/usr/bin/python。PATH中，/usr/local/bin比/usr/bin靠前，所以当你输入python，系统会自动启动你安装的python2.7.12。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22echo%20%24PATH%5Cn%2Fusr%2Flib64%2Fqt-3.3%2Fbin%3A%2Fusr%2Flocal%2Fsbin%3A%2Fusr%2Flocal%2Fbin%3A%2Fusr%2Fsbin%3A%2Fusr%2Fbin%3A%2Froot%2Fbin%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wUV13%22%7D\"></card><h2 data-lake-id=\"arhVL\" id=\"arhVL\"><span data-lake-id=\"u6bcecd20\" id=\"u6bcecd20\">二、安装easy_install,pip</span></h2><p data-lake-id=\"064d4ea9199b7ef1495e07ac295703e3\" id=\"064d4ea9199b7ef1495e07ac295703e3\"><span data-lake-id=\"u7824d9e9\" id=\"u7824d9e9\">CentOS 安装easy_install的方法：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22wget%20-q%20http%3A%2F%2Fpeak.telecommunity.com%2Fdist%2Fez_setup.py%5Cnpython%20ez_setup.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22hFwGh%22%7D\"></card><p data-lake-id=\"e998aa00047cf99d781197477e05b6d7\" id=\"e998aa00047cf99d781197477e05b6d7\"><span data-lake-id=\"u535b876c\" id=\"u535b876c\">CentOS安装python包管理安装工具pip的方法如下：</span></p><p data-lake-id=\"de0d966c2b1ec2197e9f101d2c8a345a\" id=\"de0d966c2b1ec2197e9f101d2c8a345a\"><span data-lake-id=\"u94a747c9\" id=\"u94a747c9\">注意：wget获取https的时候要加上：--no-check-certificate</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22wget%20--no-check-certificate%20https%3A%2F%2Fgithub.com%2Fpypa%2Fpip%2Farchive%2F1.5.5.tar.gz%5Cntar%20zvxf%201.5.5.tar.gz%20%20%20%20%23%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6%5Cncd%20pip-1.5.5%2F%5Cnpython%20setup.py%20install%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222Ihm1%22%7D\"></card><h2 data-lake-id=\"ub4Hn\" id=\"ub4Hn\"><span data-lake-id=\"u79561fb1\" id=\"u79561fb1\">三、安装twisted</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20twisted%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Ei4D2%22%7D\"></card><p data-lake-id=\"471b7879174570cba92f344eacd821ac\" id=\"471b7879174570cba92f344eacd821ac\"><span data-lake-id=\"ub454f6d6\" id=\"ub454f6d6\">报错：no module named bz2</span></p><p data-lake-id=\"c9fd99f970e253a44e3312dd00639695\" id=\"c9fd99f970e253a44e3312dd00639695\"><span data-lake-id=\"ud12c5e97\" id=\"ud12c5e97\">解决办法：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22yum%20install%20bzip2*%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22dD9EP%22%7D\"></card><p data-lake-id=\"d253d3d8d27d32b376d36ff6461d9314\" id=\"d253d3d8d27d32b376d36ff6461d9314\"><span data-lake-id=\"u22c87f0e\" id=\"u22c87f0e\">然后重新编译python,重新安装easy_install,pip。</span></p><p data-lake-id=\"12ef2eada7c02ad6a437e27c2143be14\" id=\"12ef2eada7c02ad6a437e27c2143be14\"><span data-lake-id=\"u27e47fc2\" id=\"u27e47fc2\">测试：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Python%202.7.12%20(default%2C%20Jun%20%204%202017%2C%2011%3A19%3A07)%5Cn%5BGCC%204.8.5%2020150623%20(Red%20Hat%204.8.5-11)%5D%20on%20linux2%5CnType%20%5C%22help%5C%22%2C%20%5C%22copyright%5C%22%2C%20%5C%22credits%5C%22%20or%20%5C%22license%5C%22%20for%20more%20information.%5Cn%3E%3E%3E%20import%20twisted%5Cn%3E%3E%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ipGTF%22%7D\"></card><p data-lake-id=\"9d38c851df29a2b8b016122c7ac22bed\" id=\"9d38c851df29a2b8b016122c7ac22bed\"><span data-lake-id=\"ud5bb428c\" id=\"ud5bb428c\">成功。</span></p>",
    "body_draft_lake": "<!doctype lake><meta name=\"doc-version\" content=\"1\" /><meta name=\"typography\" content=\"classic\" /><meta name=\"viewport\" content=\"fixed\" /><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22Efbs2%22%7D\"></card><p data-lake-id=\"d322b4a01b9b10d78880052e1679e8a1\" id=\"d322b4a01b9b10d78880052e1679e8a1\"><span data-lake-id=\"ufcb9c7e1\" id=\"ufcb9c7e1\">layout: post</span></p><p data-lake-id=\"019a1bc1f5cf68bc5c60070a38368fb9\" id=\"019a1bc1f5cf68bc5c60070a38368fb9\"><span data-lake-id=\"u0927c9ed\" id=\"u0927c9ed\">title: &quot;Centos 安装twisted&quot;</span></p><p data-lake-id=\"eec901a3c8fe77a7839fb90e3a7efd0c\" id=\"eec901a3c8fe77a7839fb90e3a7efd0c\"><span data-lake-id=\"uf446ced4\" id=\"uf446ced4\">date: 2017-06-05 16:25:06</span></p><p data-lake-id=\"b065027e9946019a5f3c26acca0f51b2\" id=\"b065027e9946019a5f3c26acca0f51b2\"><span data-lake-id=\"ub0fa2c92\" id=\"ub0fa2c92\">categories: Centos</span></p><p data-lake-id=\"6c0ebcf2c3fa4424fdc3d48df1bff33e\" id=\"6c0ebcf2c3fa4424fdc3d48df1bff33e\"><span data-lake-id=\"ubcf9f8a4\" id=\"ubcf9f8a4\">tags:</span></p><ul list=\"u58272888\"><li fid=\"ude01bf94\" data-lake-id=\"580f8f7ae8d8af0d7a997e93f335f4ab\" id=\"580f8f7ae8d8af0d7a997e93f335f4ab\"><span data-lake-id=\"u618a11a9\" id=\"u618a11a9\">centos</span></li><li fid=\"ude01bf94\" data-lake-id=\"be3bf0130b1ba5be712954f5f2d8d080\" id=\"be3bf0130b1ba5be712954f5f2d8d080\"><span data-lake-id=\"u2b5d8f77\" id=\"u2b5d8f77\">twisted</span></li></ul><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22kaVex%22%7D\"></card><p data-lake-id=\"ef01530e8f11db56cd166f4440c66d5f\" id=\"ef01530e8f11db56cd166f4440c66d5f\"><span data-lake-id=\"u30a139d2\" id=\"u30a139d2\">请尊重分享成果，转载请注明出处，本文来自Alex_Xia，Building_Home,原文链接：</span></p><p data-lake-id=\"e2a10360846210b599a565bb657ce2c5\" id=\"e2a10360846210b599a565bb657ce2c5\"><a href=\"http:_www.cnblogs.com_alex-xia_p_6062741\" target=\"_blank\" data-lake-id=\"ucfe90db9\" id=\"ucfe90db9\"><span data-lake-id=\"ub7f95bf7\" id=\"ub7f95bf7\">http://www.cnblogs.com/alex-xia/p/6062741.html</span></a></p><p data-lake-id=\"67af40934cbee73b36cf6795ab9b83bb\" id=\"67af40934cbee73b36cf6795ab9b83bb\"><a href=\"http:_www.centoscn.com_image-text_install_2015_0129_4584\" target=\"_blank\" data-lake-id=\"ufd0a5ac3\" id=\"ufd0a5ac3\"><span data-lake-id=\"uda11328d\" id=\"uda11328d\">http://www.centoscn.com/image-text/install/2015/0129/4584.html</span></a></p><h2 data-lake-id=\"pkpHz\" id=\"pkpHz\"><span data-lake-id=\"u13571e54\" id=\"u13571e54\">环境：</span></h2><p data-lake-id=\"ea85bf45b3a63fc347903c7517707f10\" id=\"ea85bf45b3a63fc347903c7517707f10\"><span data-lake-id=\"u1c7e5b60\" id=\"u1c7e5b60\">腾讯云Centos 7.2 64位</span></p><p data-lake-id=\"87ab8288b39b3781bccedbeabdf2ee86\" id=\"87ab8288b39b3781bccedbeabdf2ee86\"><span data-lake-id=\"ufad7de5d\" id=\"ufad7de5d\">Python 2.7.12 64位</span></p><card type=\"block\" name=\"hr\" value=\"data:%7B%22id%22%3A%22M3x8V%22%7D\"></card><h2 data-lake-id=\"FOnJm\" id=\"FOnJm\"><span data-lake-id=\"u89d94795\" id=\"u89d94795\">一、更新python</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22%E7%9B%AE%E5%89%8DCentOS7.2%E8%87%AA%E5%B8%A6%E7%9A%84python%E7%89%88%E6%9C%AC%E6%98%AFpython2.7.5%E3%80%82%E7%94%B1%E4%BA%8Eyum%E8%BF%99%E4%B8%AA%E8%BD%AF%E4%BB%B6%E9%9C%80%E8%A6%81%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B8%A6%E7%9A%84python%E5%B7%A5%E4%BD%9C%E3%80%82%5Cn%E5%A6%82%E6%9E%9C%E5%86%92%E7%84%B6%E7%94%A8%E8%87%AA%E5%B7%B1%E5%AE%89%E8%A3%85%E7%9A%84python%E6%9B%BF%E6%8D%A2%E6%8E%89%E7%B3%BB%E7%BB%9F%E8%87%AA%E5%B8%A6%E7%9A%84%EF%BC%8C%E5%8F%AF%E8%83%BD%E9%80%A0%E6%88%90yum%E4%B8%8D%E5%B7%A5%E4%BD%9C%E3%80%82%5Cn%E7%BD%91%E4%B8%8A%E6%95%99%E7%A8%8B%E6%8F%90%E7%A4%BA%E5%85%88%E5%AE%89%E8%A3%85%20readline-devel%20%EF%BC%8Copenssl-devel%E5%AE%89%E8%A3%85%E5%8C%85%EF%BC%8C%E6%88%91%E5%AE%89%E8%A3%85%E5%90%8E%E5%8F%91%E7%8E%B0%E7%94%B5%E8%84%91%E8%87%AA%E5%B8%A6%E4%BA%86%EF%BC%8C%E5%A6%82%E6%9C%AA%E5%AE%89%E8%A3%85%E5%8F%AF%E4%BB%A5%E8%BF%90%E8%A1%8C%E4%BB%A5%E4%B8%8B%E5%91%BD%E4%BB%A4%E5%AE%89%E8%A3%85%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22JEE9t%22%7D\"></card><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22yum%20install%20-y%20readline-devel%5Cnyum%20install%20-y%20openssl-devel%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22FNljP%22%7D\"></card><p data-lake-id=\"9d25e03e7203e1b7a1ff0b6fc03a8b1f\" id=\"9d25e03e7203e1b7a1ff0b6fc03a8b1f\"><span data-lake-id=\"u6ba94705\" id=\"u6ba94705\">下载python并解压</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20%2Ftmp%5Cnwget%20https%3A%2F%2Fwww.python.org%2Fftp%2Fpython%2F2.7.12%2FPython-2.7.12.tar.xz%5Cntar%20-xJvf%20Python-2.7.12.tar.xz%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22DZZus%22%7D\"></card><p data-lake-id=\"0c86fb02f96695c33101bee1984e0590\" id=\"0c86fb02f96695c33101bee1984e0590\"><span data-lake-id=\"u7ed1dba9\" id=\"u7ed1dba9\">编译</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22cd%20Python-2.7.12%2F%5Cn.%2Fconfigure%20--prefix%3D%2Fusr%2Flocal%2Fpython2.7%5Cnmake%5Cnmake%20install%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%224bY4V%22%7D\"></card><p data-lake-id=\"ae06f6fdae826af9cf77e971758e47ee\" id=\"ae06f6fdae826af9cf77e971758e47ee\"><span data-lake-id=\"u7b17eeed\" id=\"u7b17eeed\">链接</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22ln%20-s%20%2Fusr%2Flocal%2Fpython2.7%2Fbin%2Fpython2.7%20%2Fusr%2Flocal%2Fbin%2Fpython%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22lD0Sr%22%7D\"></card><p data-lake-id=\"fd1de91127bbffaa7990074920873b8f\" id=\"fd1de91127bbffaa7990074920873b8f\"><span data-lake-id=\"u02ec1681\" id=\"u02ec1681\">由于系统自带的python路径是/usr/bin/python。PATH中，/usr/local/bin比/usr/bin靠前，所以当你输入python，系统会自动启动你安装的python2.7.12。</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22echo%20%24PATH%5Cn%2Fusr%2Flib64%2Fqt-3.3%2Fbin%3A%2Fusr%2Flocal%2Fsbin%3A%2Fusr%2Flocal%2Fbin%3A%2Fusr%2Fsbin%3A%2Fusr%2Fbin%3A%2Froot%2Fbin%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22wUV13%22%7D\"></card><h2 data-lake-id=\"arhVL\" id=\"arhVL\"><span data-lake-id=\"u6bcecd20\" id=\"u6bcecd20\">二、安装easy_install,pip</span></h2><p data-lake-id=\"064d4ea9199b7ef1495e07ac295703e3\" id=\"064d4ea9199b7ef1495e07ac295703e3\"><span data-lake-id=\"u7824d9e9\" id=\"u7824d9e9\">CentOS 安装easy_install的方法：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22wget%20-q%20http%3A%2F%2Fpeak.telecommunity.com%2Fdist%2Fez_setup.py%5Cnpython%20ez_setup.py%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22hFwGh%22%7D\"></card><p data-lake-id=\"e998aa00047cf99d781197477e05b6d7\" id=\"e998aa00047cf99d781197477e05b6d7\"><span data-lake-id=\"u535b876c\" id=\"u535b876c\">CentOS安装python包管理安装工具pip的方法如下：</span></p><p data-lake-id=\"de0d966c2b1ec2197e9f101d2c8a345a\" id=\"de0d966c2b1ec2197e9f101d2c8a345a\"><span data-lake-id=\"u94a747c9\" id=\"u94a747c9\">注意：wget获取https的时候要加上：--no-check-certificate</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22wget%20--no-check-certificate%20https%3A%2F%2Fgithub.com%2Fpypa%2Fpip%2Farchive%2F1.5.5.tar.gz%5Cntar%20zvxf%201.5.5.tar.gz%20%20%20%20%23%E8%A7%A3%E5%8E%8B%E6%96%87%E4%BB%B6%5Cncd%20pip-1.5.5%2F%5Cnpython%20setup.py%20install%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%222Ihm1%22%7D\"></card><h2 data-lake-id=\"ub4Hn\" id=\"ub4Hn\"><span data-lake-id=\"u79561fb1\" id=\"u79561fb1\">三、安装twisted</span></h2><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22pip%20install%20twisted%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22Ei4D2%22%7D\"></card><p data-lake-id=\"471b7879174570cba92f344eacd821ac\" id=\"471b7879174570cba92f344eacd821ac\"><span data-lake-id=\"ub454f6d6\" id=\"ub454f6d6\">报错：no module named bz2</span></p><p data-lake-id=\"c9fd99f970e253a44e3312dd00639695\" id=\"c9fd99f970e253a44e3312dd00639695\"><span data-lake-id=\"ud12c5e97\" id=\"ud12c5e97\">解决办法：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22yum%20install%20bzip2*%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22dD9EP%22%7D\"></card><p data-lake-id=\"d253d3d8d27d32b376d36ff6461d9314\" id=\"d253d3d8d27d32b376d36ff6461d9314\"><span data-lake-id=\"u22c87f0e\" id=\"u22c87f0e\">然后重新编译python,重新安装easy_install,pip。</span></p><p data-lake-id=\"12ef2eada7c02ad6a437e27c2143be14\" id=\"12ef2eada7c02ad6a437e27c2143be14\"><span data-lake-id=\"u27e47fc2\" id=\"u27e47fc2\">测试：</span></p><card type=\"inline\" name=\"codeblock\" value=\"data:%7B%22mode%22%3A%22plain%22%2C%22code%22%3A%22Python%202.7.12%20(default%2C%20Jun%20%204%202017%2C%2011%3A19%3A07)%5Cn%5BGCC%204.8.5%2020150623%20(Red%20Hat%204.8.5-11)%5D%20on%20linux2%5CnType%20%5C%22help%5C%22%2C%20%5C%22copyright%5C%22%2C%20%5C%22credits%5C%22%20or%20%5C%22license%5C%22%20for%20more%20information.%5Cn%3E%3E%3E%20import%20twisted%5Cn%3E%3E%3E%22%2C%22autoWrap%22%3Afalse%2C%22lineNumbers%22%3Atrue%2C%22heightLimit%22%3Atrue%2C%22collapsed%22%3Afalse%2C%22hideToolbar%22%3Afalse%2C%22name%22%3A%22%22%2C%22tabSize%22%3Anull%2C%22indentWithTab%22%3Afalse%2C%22lightLines%22%3A%5B%5D%2C%22foldLines%22%3A%5B%5D%2C%22theme%22%3A%22Github%20Light%22%2C%22id%22%3A%22ipGTF%22%7D\"></card><p data-lake-id=\"9d38c851df29a2b8b016122c7ac22bed\" id=\"9d38c851df29a2b8b016122c7ac22bed\"><span data-lake-id=\"ud5bb428c\" id=\"ud5bb428c\">成功。</span></p>",
    "public": 0,
    "status": 1,
    "view_status": 0,
    "read_status": 1,
    "likes_count": 0,
    "comments_count": 0,
    "content_updated_at": "2022-12-11T13:05:37.000Z",
    "deleted_at": null,
    "created_at": "2022-12-09T12:02:11.000Z",
    "updated_at": "2022-12-11T13:05:38.000Z",
    "published_at": "2022-12-11T13:05:37.000Z",
    "first_published_at": "2022-12-09T12:02:11.281Z",
    "word_count": 387,
    "cover": null,
    "description": "layout: posttitle: \"Centos 安装twisted\"date: 2017-06-05 16:25:06categories: Centostags:centostwisted请尊重分享成果，转载请注明出处，本文来自Alex_Xia，Building_Home,原文链接：h...",
    "custom_description": null,
    "hits": 0,
    "_serializer": "v2.doc_detail"
  }
]